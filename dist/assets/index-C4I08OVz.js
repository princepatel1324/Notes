(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(i){if(i.ep)return;i.ep=!0;const c=r(i);fetch(i.href,c)}})();function Bp(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function sv(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var t=a.default;if(typeof t=="function"){var r=function s(){var i=!1;try{i=this instanceof s}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(a).forEach(function(s){var i=Object.getOwnPropertyDescriptor(a,s);Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:function(){return a[s]}})}),r}var Xc={exports:{}},_a={},Yc={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function av(){if(Cm)return Ne;Cm=1;var a=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function C(P,D,me){this.props=P,this.context=D,this.refs=N,this.updater=me||w}C.prototype.isReactComponent={},C.prototype.setState=function(P,D){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,D,"setState")},C.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function $(){}$.prototype=C.prototype;function T(P,D,me){this.props=P,this.context=D,this.refs=N,this.updater=me||w}var M=T.prototype=new $;M.constructor=T,k(M,C.prototype),M.isPureReactComponent=!0;var L=Array.isArray,H=Object.prototype.hasOwnProperty,U={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function te(P,D,me){var ve,we={},_e=null,Ce=null;if(D!=null)for(ve in D.ref!==void 0&&(Ce=D.ref),D.key!==void 0&&(_e=""+D.key),D)H.call(D,ve)&&!B.hasOwnProperty(ve)&&(we[ve]=D[ve]);var ae=arguments.length-2;if(ae===1)we.children=me;else if(1<ae){for(var ge=Array(ae),Qe=0;Qe<ae;Qe++)ge[Qe]=arguments[Qe+2];we.children=ge}if(P&&P.defaultProps)for(ve in ae=P.defaultProps,ae)we[ve]===void 0&&(we[ve]=ae[ve]);return{$$typeof:a,type:P,key:_e,ref:Ce,props:we,_owner:U.current}}function le(P,D){return{$$typeof:a,type:P.type,key:D,ref:P.ref,props:P.props,_owner:P._owner}}function ue(P){return typeof P=="object"&&P!==null&&P.$$typeof===a}function be(P){var D={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(me){return D[me]})}var J=/\/+/g;function se(P,D){return typeof P=="object"&&P!==null&&P.key!=null?be(""+P.key):D.toString(36)}function Re(P,D,me,ve,we){var _e=typeof P;(_e==="undefined"||_e==="boolean")&&(P=null);var Ce=!1;if(P===null)Ce=!0;else switch(_e){case"string":case"number":Ce=!0;break;case"object":switch(P.$$typeof){case a:case t:Ce=!0}}if(Ce)return Ce=P,we=we(Ce),P=ve===""?"."+se(Ce,0):ve,L(we)?(me="",P!=null&&(me=P.replace(J,"$&/")+"/"),Re(we,D,me,"",function(Qe){return Qe})):we!=null&&(ue(we)&&(we=le(we,me+(!we.key||Ce&&Ce.key===we.key?"":(""+we.key).replace(J,"$&/")+"/")+P)),D.push(we)),1;if(Ce=0,ve=ve===""?".":ve+":",L(P))for(var ae=0;ae<P.length;ae++){_e=P[ae];var ge=ve+se(_e,ae);Ce+=Re(_e,D,me,ge,we)}else if(ge=b(P),typeof ge=="function")for(P=ge.call(P),ae=0;!(_e=P.next()).done;)_e=_e.value,ge=ve+se(_e,ae++),Ce+=Re(_e,D,me,ge,we);else if(_e==="object")throw D=String(P),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return Ce}function Ke(P,D,me){if(P==null)return P;var ve=[],we=0;return Re(P,ve,"","",function(_e){return D.call(me,_e,we++)}),ve}function Le(P){if(P._status===-1){var D=P._result;D=D(),D.then(function(me){(P._status===0||P._status===-1)&&(P._status=1,P._result=me)},function(me){(P._status===0||P._status===-1)&&(P._status=2,P._result=me)}),P._status===-1&&(P._status=0,P._result=D)}if(P._status===1)return P._result.default;throw P._result}var Te={current:null},V={transition:null},ie={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:V,ReactCurrentOwner:U};function G(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:Ke,forEach:function(P,D,me){Ke(P,function(){D.apply(this,arguments)},me)},count:function(P){var D=0;return Ke(P,function(){D++}),D},toArray:function(P){return Ke(P,function(D){return D})||[]},only:function(P){if(!ue(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ne.Component=C,Ne.Fragment=r,Ne.Profiler=i,Ne.PureComponent=T,Ne.StrictMode=s,Ne.Suspense=p,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Ne.act=G,Ne.cloneElement=function(P,D,me){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var ve=k({},P.props),we=P.key,_e=P.ref,Ce=P._owner;if(D!=null){if(D.ref!==void 0&&(_e=D.ref,Ce=U.current),D.key!==void 0&&(we=""+D.key),P.type&&P.type.defaultProps)var ae=P.type.defaultProps;for(ge in D)H.call(D,ge)&&!B.hasOwnProperty(ge)&&(ve[ge]=D[ge]===void 0&&ae!==void 0?ae[ge]:D[ge])}var ge=arguments.length-2;if(ge===1)ve.children=me;else if(1<ge){ae=Array(ge);for(var Qe=0;Qe<ge;Qe++)ae[Qe]=arguments[Qe+2];ve.children=ae}return{$$typeof:a,type:P.type,key:we,ref:_e,props:ve,_owner:Ce}},Ne.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:c,_context:P},P.Consumer=P},Ne.createElement=te,Ne.createFactory=function(P){var D=te.bind(null,P);return D.type=P,D},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(P){return{$$typeof:f,render:P}},Ne.isValidElement=ue,Ne.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:Le}},Ne.memo=function(P,D){return{$$typeof:g,type:P,compare:D===void 0?null:D}},Ne.startTransition=function(P){var D=V.transition;V.transition={};try{P()}finally{V.transition=D}},Ne.unstable_act=G,Ne.useCallback=function(P,D){return Te.current.useCallback(P,D)},Ne.useContext=function(P){return Te.current.useContext(P)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(P){return Te.current.useDeferredValue(P)},Ne.useEffect=function(P,D){return Te.current.useEffect(P,D)},Ne.useId=function(){return Te.current.useId()},Ne.useImperativeHandle=function(P,D,me){return Te.current.useImperativeHandle(P,D,me)},Ne.useInsertionEffect=function(P,D){return Te.current.useInsertionEffect(P,D)},Ne.useLayoutEffect=function(P,D){return Te.current.useLayoutEffect(P,D)},Ne.useMemo=function(P,D){return Te.current.useMemo(P,D)},Ne.useReducer=function(P,D,me){return Te.current.useReducer(P,D,me)},Ne.useRef=function(P){return Te.current.useRef(P)},Ne.useState=function(P){return Te.current.useState(P)},Ne.useSyncExternalStore=function(P,D,me){return Te.current.useSyncExternalStore(P,D,me)},Ne.useTransition=function(){return Te.current.useTransition()},Ne.version="18.3.1",Ne}var Pm;function Xu(){return Pm||(Pm=1,Yc.exports=av()),Yc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function iv(){if(Tm)return _a;Tm=1;var a=Xu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,g){var y,v={},b=null,w=null;g!==void 0&&(b=""+g),p.key!==void 0&&(b=""+p.key),p.ref!==void 0&&(w=p.ref);for(y in p)s.call(p,y)&&!c.hasOwnProperty(y)&&(v[y]=p[y]);if(f&&f.defaultProps)for(y in p=f.defaultProps,p)v[y]===void 0&&(v[y]=p[y]);return{$$typeof:t,type:f,key:b,ref:w,props:v,_owner:i.current}}return _a.Fragment=r,_a.jsx=d,_a.jsxs=d,_a}var Am;function ov(){return Am||(Am=1,Xc.exports=iv()),Xc.exports}var l=ov(),j=Xu();const wu=Bp(j);var po={},Zc={exports:{}},Ct={},eu={exports:{}},tu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function lv(){return Rm||(Rm=1,(function(a){function t(V,ie){var G=V.length;V.push(ie);e:for(;0<G;){var P=G-1>>>1,D=V[P];if(0<i(D,ie))V[P]=ie,V[G]=D,G=P;else break e}}function r(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var ie=V[0],G=V.pop();if(G!==ie){V[0]=G;e:for(var P=0,D=V.length,me=D>>>1;P<me;){var ve=2*(P+1)-1,we=V[ve],_e=ve+1,Ce=V[_e];if(0>i(we,G))_e<D&&0>i(Ce,we)?(V[P]=Ce,V[_e]=G,P=_e):(V[P]=we,V[ve]=G,P=ve);else if(_e<D&&0>i(Ce,G))V[P]=Ce,V[_e]=G,P=_e;else break e}}return ie}function i(V,ie){var G=V.sortIndex-ie.sortIndex;return G!==0?G:V.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();a.unstable_now=function(){return d.now()-f}}var p=[],g=[],y=1,v=null,b=3,w=!1,k=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(V){for(var ie=r(g);ie!==null;){if(ie.callback===null)s(g);else if(ie.startTime<=V)s(g),ie.sortIndex=ie.expirationTime,t(p,ie);else break;ie=r(g)}}function L(V){if(N=!1,M(V),!k)if(r(p)!==null)k=!0,Le(H);else{var ie=r(g);ie!==null&&Te(L,ie.startTime-V)}}function H(V,ie){k=!1,N&&(N=!1,$(te),te=-1),w=!0;var G=b;try{for(M(ie),v=r(p);v!==null&&(!(v.expirationTime>ie)||V&&!be());){var P=v.callback;if(typeof P=="function"){v.callback=null,b=v.priorityLevel;var D=P(v.expirationTime<=ie);ie=a.unstable_now(),typeof D=="function"?v.callback=D:v===r(p)&&s(p),M(ie)}else s(p);v=r(p)}if(v!==null)var me=!0;else{var ve=r(g);ve!==null&&Te(L,ve.startTime-ie),me=!1}return me}finally{v=null,b=G,w=!1}}var U=!1,B=null,te=-1,le=5,ue=-1;function be(){return!(a.unstable_now()-ue<le)}function J(){if(B!==null){var V=a.unstable_now();ue=V;var ie=!0;try{ie=B(!0,V)}finally{ie?se():(U=!1,B=null)}}else U=!1}var se;if(typeof T=="function")se=function(){T(J)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,Ke=Re.port2;Re.port1.onmessage=J,se=function(){Ke.postMessage(null)}}else se=function(){C(J,0)};function Le(V){B=V,U||(U=!0,se())}function Te(V,ie){te=C(function(){V(a.unstable_now())},ie)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(V){V.callback=null},a.unstable_continueExecution=function(){k||w||(k=!0,Le(H))},a.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<V?Math.floor(1e3/V):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_getFirstCallbackNode=function(){return r(p)},a.unstable_next=function(V){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var G=b;b=ie;try{return V()}finally{b=G}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(V,ie){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var G=b;b=V;try{return ie()}finally{b=G}},a.unstable_scheduleCallback=function(V,ie,G){var P=a.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?P+G:P):G=P,V){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=G+D,V={id:y++,callback:ie,priorityLevel:V,startTime:G,expirationTime:D,sortIndex:-1},G>P?(V.sortIndex=G,t(g,V),r(p)===null&&V===r(g)&&(N?($(te),te=-1):N=!0,Te(L,G-P))):(V.sortIndex=D,t(p,V),k||w||(k=!0,Le(H))),V},a.unstable_shouldYield=be,a.unstable_wrapCallback=function(V){var ie=b;return function(){var G=b;b=ie;try{return V.apply(this,arguments)}finally{b=G}}}})(tu)),tu}var Im;function cv(){return Im||(Im=1,eu.exports=lv()),eu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function uv(){if(Om)return Ct;Om=1;var a=Xu(),t=cv();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function c(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(i[e]=n,e=0;e<n.length;e++)s.add(n[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function b(e){return p.call(v,e)?!0:p.call(y,e)?!1:g.test(e)?v[e]=!0:(y[e]=!0,!1)}function w(e,n,o,u){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k(e,n,o,u){if(n===null||typeof n>"u"||w(e,n,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function N(e,n,o,u,h,m,x){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=m,this.removeEmptyString=x}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];C[n]=new N(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function T(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace($,T);C[n]=new N(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace($,T);C[n]=new N(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace($,T);C[n]=new N(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function M(e,n,o,u){var h=C.hasOwnProperty(n)?C[n]:null;(h!==null?h.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(k(n,o,h,u)&&(o=null),u||h===null?b(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):h.mustUseProperty?e[h.propertyName]=o===null?h.type===3?!1:"":o:(n=h.attributeName,u=h.attributeNamespace,o===null?e.removeAttribute(n):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?e.setAttributeNS(u,n,o):e.setAttribute(n,o))))}var L=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),U=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),be=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),Ke=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),V=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var G=Object.assign,P;function D(e){if(P===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);P=n&&n[1]||""}return`
`+P+e}var me=!1;function ve(e,n){if(!e||me)return"";me=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(O){var u=O}Reflect.construct(e,[],n)}else{try{n.call()}catch(O){u=O}e.call(n.prototype)}else{try{throw Error()}catch(O){u=O}e()}}catch(O){if(O&&u&&typeof O.stack=="string"){for(var h=O.stack.split(`
`),m=u.stack.split(`
`),x=h.length-1,_=m.length-1;1<=x&&0<=_&&h[x]!==m[_];)_--;for(;1<=x&&0<=_;x--,_--)if(h[x]!==m[_]){if(x!==1||_!==1)do if(x--,_--,0>_||h[x]!==m[_]){var S=`
`+h[x].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=x&&0<=_);break}}}finally{me=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?D(e):""}function we(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=ve(e.type,!1),e;case 11:return e=ve(e.type.render,!1),e;case 1:return e=ve(e.type,!0),e;default:return""}}function _e(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case U:return"Portal";case le:return"Profiler";case te:return"StrictMode";case se:return"Suspense";case Re:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case be:return(e.displayName||"Context")+".Consumer";case ue:return(e._context.displayName||"Context")+".Provider";case J:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ke:return n=e.displayName||null,n!==null?n:_e(e.type)||"Memo";case Le:n=e._payload,e=e._init;try{return _e(e(n))}catch{}}return null}function Ce(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(n);case 8:return n===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ae(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ge(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qe(e){var n=ge(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(x){u=""+x,m.call(this,x)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Or(e){e._valueTracker||(e._valueTracker=Qe(e))}function Fn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),u="";return e&&(u=ge(e)?e.checked?"true":"false":e.value),e=u,e!==o?(n.setValue(e),!0):!1}function gr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function un(e,n){var o=n.checked;return G({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function dn(e,n){var o=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;o=ae(n.value!=null?n.value:o),e._wrapperState={initialChecked:u,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function $r(e,n){n=n.checked,n!=null&&M(e,"checked",n,!1)}function hn(e,n){$r(e,n);var o=ae(n.value),u=n.type;if(o!=null)u==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?X(e,n.type,o):n.hasOwnProperty("defaultValue")&&X(e,n.type,ae(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Q(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function X(e,n,o){(n!=="number"||gr(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var Ee=Array.isArray;function mt(e,n,o,u){if(e=e.options,n){n={};for(var h=0;h<o.length;h++)n["$"+o[h]]=!0;for(o=0;o<e.length;o++)h=n.hasOwnProperty("$"+e[o].value),e[o].selected!==h&&(e[o].selected=h),h&&u&&(e[o].defaultSelected=!0)}else{for(o=""+ae(o),n=null,h=0;h<e.length;h++){if(e[h].value===o){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ol(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return G({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Md(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(r(92));if(Ee(o)){if(1<o.length)throw Error(r(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:ae(o)}}function Dd(e,n){var o=ae(n.value),u=ae(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),u!=null&&(e.defaultValue=""+u)}function Ud(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Fd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ll(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Fd(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ii,zd=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,u,h){MSApp.execUnsafeLocalFunction(function(){return e(n,o,u,h)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ii=ii||document.createElement("div"),ii.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ii.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Ds(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ly=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(e){ly.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Us[n]=Us[e]})});function Bd(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||Us.hasOwnProperty(e)&&Us[e]?(""+n).trim():n+"px"}function Wd(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Bd(o,n[o],u);o==="float"&&(o="cssFloat"),u?e.setProperty(o,h):e[o]=h}}var cy=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cl(e,n){if(n){if(cy[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function ul(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dl=null;function hl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fl=null,zn=null,Bn=null;function Hd(e){if(e=oa(e)){if(typeof fl!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Pi(n),fl(e.stateNode,e.type,n))}}function qd(e){zn?Bn?Bn.push(e):Bn=[e]:zn=e}function Vd(){if(zn){var e=zn,n=Bn;if(Bn=zn=null,Hd(e),n)for(e=0;e<n.length;e++)Hd(n[e])}}function Kd(e,n){return e(n)}function Jd(){}var ml=!1;function Gd(e,n,o){if(ml)return e(n,o);ml=!0;try{return Kd(e,n,o)}finally{ml=!1,(zn!==null||Bn!==null)&&(Jd(),Vd())}}function Fs(e,n){var o=e.stateNode;if(o===null)return null;var u=Pi(o);if(u===null)return null;o=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(r(231,n,typeof o));return o}var pl=!1;if(f)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){pl=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{pl=!1}function uy(e,n,o,u,h,m,x,_,S){var O=Array.prototype.slice.call(arguments,3);try{n.apply(o,O)}catch(z){this.onError(z)}}var Bs=!1,oi=null,li=!1,gl=null,dy={onError:function(e){Bs=!0,oi=e}};function hy(e,n,o,u,h,m,x,_,S){Bs=!1,oi=null,uy.apply(dy,arguments)}function fy(e,n,o,u,h,m,x,_,S){if(hy.apply(this,arguments),Bs){if(Bs){var O=oi;Bs=!1,oi=null}else throw Error(r(198));li||(li=!0,gl=O)}}function fn(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function Qd(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Xd(e){if(fn(e)!==e)throw Error(r(188))}function my(e){var n=e.alternate;if(!n){if(n=fn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var o=e,u=n;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return Xd(h),e;if(m===u)return Xd(h),n;m=m.sibling}throw Error(r(188))}if(o.return!==u.return)o=h,u=m;else{for(var x=!1,_=h.child;_;){if(_===o){x=!0,o=h,u=m;break}if(_===u){x=!0,u=h,o=m;break}_=_.sibling}if(!x){for(_=m.child;_;){if(_===o){x=!0,o=m,u=h;break}if(_===u){x=!0,u=m,o=h;break}_=_.sibling}if(!x)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?e:n}function Yd(e){return e=my(e),e!==null?Zd(e):null}function Zd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Zd(e);if(n!==null)return n;e=e.sibling}return null}var eh=t.unstable_scheduleCallback,th=t.unstable_cancelCallback,py=t.unstable_shouldYield,gy=t.unstable_requestPaint,qe=t.unstable_now,yy=t.unstable_getCurrentPriorityLevel,yl=t.unstable_ImmediatePriority,rh=t.unstable_UserBlockingPriority,ci=t.unstable_NormalPriority,xy=t.unstable_LowPriority,nh=t.unstable_IdlePriority,ui=null,sr=null;function vy(e){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(ui,e,void 0,(e.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:_y,wy=Math.log,by=Math.LN2;function _y(e){return e>>>=0,e===0?32:31-(wy(e)/by|0)|0}var di=64,hi=4194304;function Ws(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fi(e,n){var o=e.pendingLanes;if(o===0)return 0;var u=0,h=e.suspendedLanes,m=e.pingedLanes,x=o&268435455;if(x!==0){var _=x&~h;_!==0?u=Ws(_):(m&=x,m!==0&&(u=Ws(m)))}else x=o&~h,x!==0?u=Ws(x):m!==0&&(u=Ws(m));if(u===0)return 0;if(n!==0&&n!==u&&(n&h)===0&&(h=u&-u,m=n&-n,h>=m||h===16&&(m&4194240)!==0))return n;if((u&4)!==0&&(u|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=u;0<n;)o=31-Kt(n),h=1<<o,u|=e[o],n&=~h;return u}function ky(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jy(e,n){for(var o=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes;0<m;){var x=31-Kt(m),_=1<<x,S=h[x];S===-1?((_&o)===0||(_&u)!==0)&&(h[x]=ky(_,n)):S<=n&&(e.expiredLanes|=_),m&=~_}}function xl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sh(){var e=di;return di<<=1,(di&4194240)===0&&(di=64),e}function vl(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Hs(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Kt(n),e[n]=o}function Ny(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<o;){var h=31-Kt(o),m=1<<h;n[h]=0,u[h]=-1,e[h]=-1,o&=~m}}function wl(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var u=31-Kt(o),h=1<<u;h&n|e[u]&n&&(e[u]|=n),o&=~h}}var Ie=0;function ah(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ih,bl,oh,lh,ch,_l=!1,mi=[],Lr=null,Mr=null,Dr=null,qs=new Map,Vs=new Map,Ur=[],Sy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uh(e,n){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":qs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(n.pointerId)}}function Ks(e,n,o,u,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},n!==null&&(n=oa(n),n!==null&&bl(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Ey(e,n,o,u,h){switch(n){case"focusin":return Lr=Ks(Lr,e,n,o,u,h),!0;case"dragenter":return Mr=Ks(Mr,e,n,o,u,h),!0;case"mouseover":return Dr=Ks(Dr,e,n,o,u,h),!0;case"pointerover":var m=h.pointerId;return qs.set(m,Ks(qs.get(m)||null,e,n,o,u,h)),!0;case"gotpointercapture":return m=h.pointerId,Vs.set(m,Ks(Vs.get(m)||null,e,n,o,u,h)),!0}return!1}function dh(e){var n=mn(e.target);if(n!==null){var o=fn(n);if(o!==null){if(n=o.tag,n===13){if(n=Qd(o),n!==null){e.blockedOn=n,ch(e.priority,function(){oh(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pi(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=jl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var u=new o.constructor(o.type,o);dl=u,o.target.dispatchEvent(u),dl=null}else return n=oa(o),n!==null&&bl(n),e.blockedOn=o,!1;n.shift()}return!0}function hh(e,n,o){pi(e)&&o.delete(n)}function Cy(){_l=!1,Lr!==null&&pi(Lr)&&(Lr=null),Mr!==null&&pi(Mr)&&(Mr=null),Dr!==null&&pi(Dr)&&(Dr=null),qs.forEach(hh),Vs.forEach(hh)}function Js(e,n){e.blockedOn===n&&(e.blockedOn=null,_l||(_l=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Cy)))}function Gs(e){function n(h){return Js(h,e)}if(0<mi.length){Js(mi[0],e);for(var o=1;o<mi.length;o++){var u=mi[o];u.blockedOn===e&&(u.blockedOn=null)}}for(Lr!==null&&Js(Lr,e),Mr!==null&&Js(Mr,e),Dr!==null&&Js(Dr,e),qs.forEach(n),Vs.forEach(n),o=0;o<Ur.length;o++)u=Ur[o],u.blockedOn===e&&(u.blockedOn=null);for(;0<Ur.length&&(o=Ur[0],o.blockedOn===null);)dh(o),o.blockedOn===null&&Ur.shift()}var Wn=L.ReactCurrentBatchConfig,gi=!0;function Py(e,n,o,u){var h=Ie,m=Wn.transition;Wn.transition=null;try{Ie=1,kl(e,n,o,u)}finally{Ie=h,Wn.transition=m}}function Ty(e,n,o,u){var h=Ie,m=Wn.transition;Wn.transition=null;try{Ie=4,kl(e,n,o,u)}finally{Ie=h,Wn.transition=m}}function kl(e,n,o,u){if(gi){var h=jl(e,n,o,u);if(h===null)zl(e,n,u,yi,o),uh(e,u);else if(Ey(h,e,n,o,u))u.stopPropagation();else if(uh(e,u),n&4&&-1<Sy.indexOf(e)){for(;h!==null;){var m=oa(h);if(m!==null&&ih(m),m=jl(e,n,o,u),m===null&&zl(e,n,u,yi,o),m===h)break;h=m}h!==null&&u.stopPropagation()}else zl(e,n,u,null,o)}}var yi=null;function jl(e,n,o,u){if(yi=null,e=hl(u),e=mn(e),e!==null)if(n=fn(e),n===null)e=null;else if(o=n.tag,o===13){if(e=Qd(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return yi=e,null}function fh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yy()){case yl:return 1;case rh:return 4;case ci:case xy:return 16;case nh:return 536870912;default:return 16}default:return 16}}var Fr=null,Nl=null,xi=null;function mh(){if(xi)return xi;var e,n=Nl,o=n.length,u,h="value"in Fr?Fr.value:Fr.textContent,m=h.length;for(e=0;e<o&&n[e]===h[e];e++);var x=o-e;for(u=1;u<=x&&n[o-u]===h[m-u];u++);return xi=h.slice(e,1<u?1-u:void 0)}function vi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function wi(){return!0}function ph(){return!1}function Tt(e){function n(o,u,h,m,x){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(o=e[_],this[_]=o?o(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?wi:ph,this.isPropagationStopped=ph,this}return G(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),n}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=Tt(Hn),Qs=G({},Hn,{view:0,detail:0}),Ay=Tt(Qs),El,Cl,Xs,bi=G({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xs&&(Xs&&e.type==="mousemove"?(El=e.screenX-Xs.screenX,Cl=e.screenY-Xs.screenY):Cl=El=0,Xs=e),El)},movementY:function(e){return"movementY"in e?e.movementY:Cl}}),gh=Tt(bi),Ry=G({},bi,{dataTransfer:0}),Iy=Tt(Ry),Oy=G({},Qs,{relatedTarget:0}),Pl=Tt(Oy),$y=G({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ly=Tt($y),My=G({},Hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dy=Tt(My),Uy=G({},Hn,{data:0}),yh=Tt(Uy),Fy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},By={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=By[e])?!!n[e]:!1}function Tl(){return Wy}var Hy=G({},Qs,{key:function(e){if(e.key){var n=Fy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tl,charCode:function(e){return e.type==="keypress"?vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qy=Tt(Hy),Vy=G({},bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xh=Tt(Vy),Ky=G({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tl}),Jy=Tt(Ky),Gy=G({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qy=Tt(Gy),Xy=G({},bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yy=Tt(Xy),Zy=[9,13,27,32],Al=f&&"CompositionEvent"in window,Ys=null;f&&"documentMode"in document&&(Ys=document.documentMode);var ex=f&&"TextEvent"in window&&!Ys,vh=f&&(!Al||Ys&&8<Ys&&11>=Ys),wh=" ",bh=!1;function _h(e,n){switch(e){case"keyup":return Zy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qn=!1;function tx(e,n){switch(e){case"compositionend":return kh(n);case"keypress":return n.which!==32?null:(bh=!0,wh);case"textInput":return e=n.data,e===wh&&bh?null:e;default:return null}}function rx(e,n){if(qn)return e==="compositionend"||!Al&&_h(e,n)?(e=mh(),xi=Nl=Fr=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vh&&n.locale!=="ko"?null:n.data;default:return null}}var nx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!nx[e.type]:n==="textarea"}function Nh(e,n,o,u){qd(u),n=Si(n,"onChange"),0<n.length&&(o=new Sl("onChange","change",null,o,u),e.push({event:o,listeners:n}))}var Zs=null,ea=null;function sx(e){Wh(e,0)}function _i(e){var n=Qn(e);if(Fn(n))return e}function ax(e,n){if(e==="change")return n}var Sh=!1;if(f){var Rl;if(f){var Il="oninput"in document;if(!Il){var Eh=document.createElement("div");Eh.setAttribute("oninput","return;"),Il=typeof Eh.oninput=="function"}Rl=Il}else Rl=!1;Sh=Rl&&(!document.documentMode||9<document.documentMode)}function Ch(){Zs&&(Zs.detachEvent("onpropertychange",Ph),ea=Zs=null)}function Ph(e){if(e.propertyName==="value"&&_i(ea)){var n=[];Nh(n,ea,e,hl(e)),Gd(sx,n)}}function ix(e,n,o){e==="focusin"?(Ch(),Zs=n,ea=o,Zs.attachEvent("onpropertychange",Ph)):e==="focusout"&&Ch()}function ox(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _i(ea)}function lx(e,n){if(e==="click")return _i(n)}function cx(e,n){if(e==="input"||e==="change")return _i(n)}function ux(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Jt=typeof Object.is=="function"?Object.is:ux;function ta(e,n){if(Jt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),u=Object.keys(n);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!p.call(n,h)||!Jt(e[h],n[h]))return!1}return!0}function Th(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ah(e,n){var o=Th(e);e=0;for(var u;o;){if(o.nodeType===3){if(u=e+o.textContent.length,e<=n&&u>=n)return{node:o,offset:n-e};e=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Th(o)}}function Rh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Rh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ih(){for(var e=window,n=gr();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=gr(e.document)}return n}function Ol(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function dx(e){var n=Ih(),o=e.focusedElem,u=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&Rh(o.ownerDocument.documentElement,o)){if(u!==null&&Ol(o)){if(n=u.start,e=u.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=o.textContent.length,m=Math.min(u.start,h);u=u.end===void 0?m:Math.min(u.end,h),!e.extend&&m>u&&(h=u,u=m,m=h),h=Ah(o,m);var x=Ah(o,u);h&&x&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==x.node||e.focusOffset!==x.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),m>u?(e.addRange(n),e.extend(x.node,x.offset)):(n.setEnd(x.node,x.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hx=f&&"documentMode"in document&&11>=document.documentMode,Vn=null,$l=null,ra=null,Ll=!1;function Oh(e,n,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ll||Vn==null||Vn!==gr(u)||(u=Vn,"selectionStart"in u&&Ol(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ra&&ta(ra,u)||(ra=u,u=Si($l,"onSelect"),0<u.length&&(n=new Sl("onSelect","select",null,n,o),e.push({event:n,listeners:u}),n.target=Vn)))}function ki(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Kn={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionend:ki("Transition","TransitionEnd")},Ml={},$h={};f&&($h=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function ji(e){if(Ml[e])return Ml[e];if(!Kn[e])return e;var n=Kn[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in $h)return Ml[e]=n[o];return e}var Lh=ji("animationend"),Mh=ji("animationiteration"),Dh=ji("animationstart"),Uh=ji("transitionend"),Fh=new Map,zh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(e,n){Fh.set(e,n),c(n,[e])}for(var Dl=0;Dl<zh.length;Dl++){var Ul=zh[Dl],fx=Ul.toLowerCase(),mx=Ul[0].toUpperCase()+Ul.slice(1);zr(fx,"on"+mx)}zr(Lh,"onAnimationEnd"),zr(Mh,"onAnimationIteration"),zr(Dh,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(Uh,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),px=new Set("cancel close invalid load scroll toggle".split(" ").concat(na));function Bh(e,n,o){var u=e.type||"unknown-event";e.currentTarget=o,fy(u,n,void 0,e),e.currentTarget=null}function Wh(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var u=e[o],h=u.event;u=u.listeners;e:{var m=void 0;if(n)for(var x=u.length-1;0<=x;x--){var _=u[x],S=_.instance,O=_.currentTarget;if(_=_.listener,S!==m&&h.isPropagationStopped())break e;Bh(h,_,O),m=S}else for(x=0;x<u.length;x++){if(_=u[x],S=_.instance,O=_.currentTarget,_=_.listener,S!==m&&h.isPropagationStopped())break e;Bh(h,_,O),m=S}}}if(li)throw e=gl,li=!1,gl=null,e}function Me(e,n){var o=n[Kl];o===void 0&&(o=n[Kl]=new Set);var u=e+"__bubble";o.has(u)||(Hh(n,e,2,!1),o.add(u))}function Fl(e,n,o){var u=0;n&&(u|=4),Hh(o,e,u,n)}var Ni="_reactListening"+Math.random().toString(36).slice(2);function sa(e){if(!e[Ni]){e[Ni]=!0,s.forEach(function(o){o!=="selectionchange"&&(px.has(o)||Fl(o,!1,e),Fl(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ni]||(n[Ni]=!0,Fl("selectionchange",!1,n))}}function Hh(e,n,o,u){switch(fh(n)){case 1:var h=Py;break;case 4:h=Ty;break;default:h=kl}o=h.bind(null,n,o,e),h=void 0,!pl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(n,o,{capture:!0,passive:h}):e.addEventListener(n,o,!0):h!==void 0?e.addEventListener(n,o,{passive:h}):e.addEventListener(n,o,!1)}function zl(e,n,o,u,h){var m=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var _=u.stateNode.containerInfo;if(_===h||_.nodeType===8&&_.parentNode===h)break;if(x===4)for(x=u.return;x!==null;){var S=x.tag;if((S===3||S===4)&&(S=x.stateNode.containerInfo,S===h||S.nodeType===8&&S.parentNode===h))return;x=x.return}for(;_!==null;){if(x=mn(_),x===null)return;if(S=x.tag,S===5||S===6){u=m=x;continue e}_=_.parentNode}}u=u.return}Gd(function(){var O=m,z=hl(o),W=[];e:{var F=Fh.get(e);if(F!==void 0){var Y=Sl,ee=e;switch(e){case"keypress":if(vi(o)===0)break e;case"keydown":case"keyup":Y=qy;break;case"focusin":ee="focus",Y=Pl;break;case"focusout":ee="blur",Y=Pl;break;case"beforeblur":case"afterblur":Y=Pl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Iy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Jy;break;case Lh:case Mh:case Dh:Y=Ly;break;case Uh:Y=Qy;break;case"scroll":Y=Ay;break;case"wheel":Y=Yy;break;case"copy":case"cut":case"paste":Y=Dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=xh}var re=(n&4)!==0,Ve=!re&&e==="scroll",A=re?F!==null?F+"Capture":null:F;re=[];for(var E=O,R;E!==null;){R=E;var q=R.stateNode;if(R.tag===5&&q!==null&&(R=q,A!==null&&(q=Fs(E,A),q!=null&&re.push(aa(E,q,R)))),Ve)break;E=E.return}0<re.length&&(F=new Y(F,ee,null,o,z),W.push({event:F,listeners:re}))}}if((n&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",F&&o!==dl&&(ee=o.relatedTarget||o.fromElement)&&(mn(ee)||ee[yr]))break e;if((Y||F)&&(F=z.window===z?z:(F=z.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(ee=o.relatedTarget||o.toElement,Y=O,ee=ee?mn(ee):null,ee!==null&&(Ve=fn(ee),ee!==Ve||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(Y=null,ee=O),Y!==ee)){if(re=gh,q="onMouseLeave",A="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(re=xh,q="onPointerLeave",A="onPointerEnter",E="pointer"),Ve=Y==null?F:Qn(Y),R=ee==null?F:Qn(ee),F=new re(q,E+"leave",Y,o,z),F.target=Ve,F.relatedTarget=R,q=null,mn(z)===O&&(re=new re(A,E+"enter",ee,o,z),re.target=R,re.relatedTarget=Ve,q=re),Ve=q,Y&&ee)t:{for(re=Y,A=ee,E=0,R=re;R;R=Jn(R))E++;for(R=0,q=A;q;q=Jn(q))R++;for(;0<E-R;)re=Jn(re),E--;for(;0<R-E;)A=Jn(A),R--;for(;E--;){if(re===A||A!==null&&re===A.alternate)break t;re=Jn(re),A=Jn(A)}re=null}else re=null;Y!==null&&qh(W,F,Y,re,!1),ee!==null&&Ve!==null&&qh(W,Ve,ee,re,!0)}}e:{if(F=O?Qn(O):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var ne=ax;else if(jh(F))if(Sh)ne=cx;else{ne=ox;var de=ix}else(Y=F.nodeName)&&Y.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(ne=lx);if(ne&&(ne=ne(e,O))){Nh(W,ne,o,z);break e}de&&de(e,F,O),e==="focusout"&&(de=F._wrapperState)&&de.controlled&&F.type==="number"&&X(F,"number",F.value)}switch(de=O?Qn(O):window,e){case"focusin":(jh(de)||de.contentEditable==="true")&&(Vn=de,$l=O,ra=null);break;case"focusout":ra=$l=Vn=null;break;case"mousedown":Ll=!0;break;case"contextmenu":case"mouseup":case"dragend":Ll=!1,Oh(W,o,z);break;case"selectionchange":if(hx)break;case"keydown":case"keyup":Oh(W,o,z)}var he;if(Al)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else qn?_h(e,o)&&(xe="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(xe="onCompositionStart");xe&&(vh&&o.locale!=="ko"&&(qn||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&qn&&(he=mh()):(Fr=z,Nl="value"in Fr?Fr.value:Fr.textContent,qn=!0)),de=Si(O,xe),0<de.length&&(xe=new yh(xe,e,null,o,z),W.push({event:xe,listeners:de}),he?xe.data=he:(he=kh(o),he!==null&&(xe.data=he)))),(he=ex?tx(e,o):rx(e,o))&&(O=Si(O,"onBeforeInput"),0<O.length&&(z=new yh("onBeforeInput","beforeinput",null,o,z),W.push({event:z,listeners:O}),z.data=he))}Wh(W,n)})}function aa(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Si(e,n){for(var o=n+"Capture",u=[];e!==null;){var h=e,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=Fs(e,o),m!=null&&u.unshift(aa(e,m,h)),m=Fs(e,n),m!=null&&u.push(aa(e,m,h))),e=e.return}return u}function Jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qh(e,n,o,u,h){for(var m=n._reactName,x=[];o!==null&&o!==u;){var _=o,S=_.alternate,O=_.stateNode;if(S!==null&&S===u)break;_.tag===5&&O!==null&&(_=O,h?(S=Fs(o,m),S!=null&&x.unshift(aa(o,S,_))):h||(S=Fs(o,m),S!=null&&x.push(aa(o,S,_)))),o=o.return}x.length!==0&&e.push({event:n,listeners:x})}var gx=/\r\n?/g,yx=/\u0000|\uFFFD/g;function Vh(e){return(typeof e=="string"?e:""+e).replace(gx,`
`).replace(yx,"")}function Ei(e,n,o){if(n=Vh(n),Vh(e)!==n&&o)throw Error(r(425))}function Ci(){}var Bl=null,Wl=null;function Hl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ql=typeof setTimeout=="function"?setTimeout:void 0,xx=typeof clearTimeout=="function"?clearTimeout:void 0,Kh=typeof Promise=="function"?Promise:void 0,vx=typeof queueMicrotask=="function"?queueMicrotask:typeof Kh<"u"?function(e){return Kh.resolve(null).then(e).catch(wx)}:ql;function wx(e){setTimeout(function(){throw e})}function Vl(e,n){var o=n,u=0;do{var h=o.nextSibling;if(e.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){e.removeChild(h),Gs(n);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Gs(n)}function Br(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Jh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var Gn=Math.random().toString(36).slice(2),ar="__reactFiber$"+Gn,ia="__reactProps$"+Gn,yr="__reactContainer$"+Gn,Kl="__reactEvents$"+Gn,bx="__reactListeners$"+Gn,_x="__reactHandles$"+Gn;function mn(e){var n=e[ar];if(n)return n;for(var o=e.parentNode;o;){if(n=o[yr]||o[ar]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Jh(e);e!==null;){if(o=e[ar])return o;e=Jh(e)}return n}e=o,o=e.parentNode}return null}function oa(e){return e=e[ar]||e[yr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Pi(e){return e[ia]||null}var Jl=[],Xn=-1;function Wr(e){return{current:e}}function De(e){0>Xn||(e.current=Jl[Xn],Jl[Xn]=null,Xn--)}function Oe(e,n){Xn++,Jl[Xn]=e.current,e.current=n}var Hr={},pt=Wr(Hr),kt=Wr(!1),pn=Hr;function Yn(e,n){var o=e.type.contextTypes;if(!o)return Hr;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in o)h[m]=n[m];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function jt(e){return e=e.childContextTypes,e!=null}function Ti(){De(kt),De(pt)}function Gh(e,n,o){if(pt.current!==Hr)throw Error(r(168));Oe(pt,n),Oe(kt,o)}function Qh(e,n,o){var u=e.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in n))throw Error(r(108,Ce(e)||"Unknown",h));return G({},o,u)}function Ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hr,pn=pt.current,Oe(pt,e),Oe(kt,kt.current),!0}function Xh(e,n,o){var u=e.stateNode;if(!u)throw Error(r(169));o?(e=Qh(e,n,pn),u.__reactInternalMemoizedMergedChildContext=e,De(kt),De(pt),Oe(pt,e)):De(kt),Oe(kt,o)}var xr=null,Ri=!1,Gl=!1;function Yh(e){xr===null?xr=[e]:xr.push(e)}function kx(e){Ri=!0,Yh(e)}function qr(){if(!Gl&&xr!==null){Gl=!0;var e=0,n=Ie;try{var o=xr;for(Ie=1;e<o.length;e++){var u=o[e];do u=u(!0);while(u!==null)}xr=null,Ri=!1}catch(h){throw xr!==null&&(xr=xr.slice(e+1)),eh(yl,qr),h}finally{Ie=n,Gl=!1}}return null}var Zn=[],es=0,Ii=null,Oi=0,Mt=[],Dt=0,gn=null,vr=1,wr="";function yn(e,n){Zn[es++]=Oi,Zn[es++]=Ii,Ii=e,Oi=n}function Zh(e,n,o){Mt[Dt++]=vr,Mt[Dt++]=wr,Mt[Dt++]=gn,gn=e;var u=vr;e=wr;var h=32-Kt(u)-1;u&=~(1<<h),o+=1;var m=32-Kt(n)+h;if(30<m){var x=h-h%5;m=(u&(1<<x)-1).toString(32),u>>=x,h-=x,vr=1<<32-Kt(n)+h|o<<h|u,wr=m+e}else vr=1<<m|o<<h|u,wr=e}function Ql(e){e.return!==null&&(yn(e,1),Zh(e,1,0))}function Xl(e){for(;e===Ii;)Ii=Zn[--es],Zn[es]=null,Oi=Zn[--es],Zn[es]=null;for(;e===gn;)gn=Mt[--Dt],Mt[Dt]=null,wr=Mt[--Dt],Mt[Dt]=null,vr=Mt[--Dt],Mt[Dt]=null}var At=null,Rt=null,Ue=!1,Gt=null;function ef(e,n){var o=Bt(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function tf(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,At=e,Rt=Br(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,At=e,Rt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=gn!==null?{id:vr,overflow:wr}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=Bt(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,At=e,Rt=null,!0):!1;default:return!1}}function Yl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zl(e){if(Ue){var n=Rt;if(n){var o=n;if(!tf(e,n)){if(Yl(e))throw Error(r(418));n=Br(o.nextSibling);var u=At;n&&tf(e,n)?ef(u,o):(e.flags=e.flags&-4097|2,Ue=!1,At=e)}}else{if(Yl(e))throw Error(r(418));e.flags=e.flags&-4097|2,Ue=!1,At=e}}}function rf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;At=e}function $i(e){if(e!==At)return!1;if(!Ue)return rf(e),Ue=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Hl(e.type,e.memoizedProps)),n&&(n=Rt)){if(Yl(e))throw nf(),Error(r(418));for(;n;)ef(e,n),n=Br(n.nextSibling)}if(rf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){Rt=Br(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}Rt=null}}else Rt=At?Br(e.stateNode.nextSibling):null;return!0}function nf(){for(var e=Rt;e;)e=Br(e.nextSibling)}function ts(){Rt=At=null,Ue=!1}function ec(e){Gt===null?Gt=[e]:Gt.push(e)}var jx=L.ReactCurrentBatchConfig;function la(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var u=o.stateNode}if(!u)throw Error(r(147,e));var h=u,m=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===m?n.ref:(n=function(x){var _=h.refs;x===null?delete _[m]:_[m]=x},n._stringRef=m,n)}if(typeof e!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,e))}return e}function Li(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function sf(e){var n=e._init;return n(e._payload)}function af(e){function n(A,E){if(e){var R=A.deletions;R===null?(A.deletions=[E],A.flags|=16):R.push(E)}}function o(A,E){if(!e)return null;for(;E!==null;)n(A,E),E=E.sibling;return null}function u(A,E){for(A=new Map;E!==null;)E.key!==null?A.set(E.key,E):A.set(E.index,E),E=E.sibling;return A}function h(A,E){return A=Zr(A,E),A.index=0,A.sibling=null,A}function m(A,E,R){return A.index=R,e?(R=A.alternate,R!==null?(R=R.index,R<E?(A.flags|=2,E):R):(A.flags|=2,E)):(A.flags|=1048576,E)}function x(A){return e&&A.alternate===null&&(A.flags|=2),A}function _(A,E,R,q){return E===null||E.tag!==6?(E=qc(R,A.mode,q),E.return=A,E):(E=h(E,R),E.return=A,E)}function S(A,E,R,q){var ne=R.type;return ne===B?z(A,E,R.props.children,q,R.key):E!==null&&(E.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Le&&sf(ne)===E.type)?(q=h(E,R.props),q.ref=la(A,E,R),q.return=A,q):(q=io(R.type,R.key,R.props,null,A.mode,q),q.ref=la(A,E,R),q.return=A,q)}function O(A,E,R,q){return E===null||E.tag!==4||E.stateNode.containerInfo!==R.containerInfo||E.stateNode.implementation!==R.implementation?(E=Vc(R,A.mode,q),E.return=A,E):(E=h(E,R.children||[]),E.return=A,E)}function z(A,E,R,q,ne){return E===null||E.tag!==7?(E=Nn(R,A.mode,q,ne),E.return=A,E):(E=h(E,R),E.return=A,E)}function W(A,E,R){if(typeof E=="string"&&E!==""||typeof E=="number")return E=qc(""+E,A.mode,R),E.return=A,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case H:return R=io(E.type,E.key,E.props,null,A.mode,R),R.ref=la(A,null,E),R.return=A,R;case U:return E=Vc(E,A.mode,R),E.return=A,E;case Le:var q=E._init;return W(A,q(E._payload),R)}if(Ee(E)||ie(E))return E=Nn(E,A.mode,R,null),E.return=A,E;Li(A,E)}return null}function F(A,E,R,q){var ne=E!==null?E.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return ne!==null?null:_(A,E,""+R,q);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case H:return R.key===ne?S(A,E,R,q):null;case U:return R.key===ne?O(A,E,R,q):null;case Le:return ne=R._init,F(A,E,ne(R._payload),q)}if(Ee(R)||ie(R))return ne!==null?null:z(A,E,R,q,null);Li(A,R)}return null}function Y(A,E,R,q,ne){if(typeof q=="string"&&q!==""||typeof q=="number")return A=A.get(R)||null,_(E,A,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case H:return A=A.get(q.key===null?R:q.key)||null,S(E,A,q,ne);case U:return A=A.get(q.key===null?R:q.key)||null,O(E,A,q,ne);case Le:var de=q._init;return Y(A,E,R,de(q._payload),ne)}if(Ee(q)||ie(q))return A=A.get(R)||null,z(E,A,q,ne,null);Li(E,q)}return null}function ee(A,E,R,q){for(var ne=null,de=null,he=E,xe=E=0,at=null;he!==null&&xe<R.length;xe++){he.index>xe?(at=he,he=null):at=he.sibling;var Ae=F(A,he,R[xe],q);if(Ae===null){he===null&&(he=at);break}e&&he&&Ae.alternate===null&&n(A,he),E=m(Ae,E,xe),de===null?ne=Ae:de.sibling=Ae,de=Ae,he=at}if(xe===R.length)return o(A,he),Ue&&yn(A,xe),ne;if(he===null){for(;xe<R.length;xe++)he=W(A,R[xe],q),he!==null&&(E=m(he,E,xe),de===null?ne=he:de.sibling=he,de=he);return Ue&&yn(A,xe),ne}for(he=u(A,he);xe<R.length;xe++)at=Y(he,A,xe,R[xe],q),at!==null&&(e&&at.alternate!==null&&he.delete(at.key===null?xe:at.key),E=m(at,E,xe),de===null?ne=at:de.sibling=at,de=at);return e&&he.forEach(function(en){return n(A,en)}),Ue&&yn(A,xe),ne}function re(A,E,R,q){var ne=ie(R);if(typeof ne!="function")throw Error(r(150));if(R=ne.call(R),R==null)throw Error(r(151));for(var de=ne=null,he=E,xe=E=0,at=null,Ae=R.next();he!==null&&!Ae.done;xe++,Ae=R.next()){he.index>xe?(at=he,he=null):at=he.sibling;var en=F(A,he,Ae.value,q);if(en===null){he===null&&(he=at);break}e&&he&&en.alternate===null&&n(A,he),E=m(en,E,xe),de===null?ne=en:de.sibling=en,de=en,he=at}if(Ae.done)return o(A,he),Ue&&yn(A,xe),ne;if(he===null){for(;!Ae.done;xe++,Ae=R.next())Ae=W(A,Ae.value,q),Ae!==null&&(E=m(Ae,E,xe),de===null?ne=Ae:de.sibling=Ae,de=Ae);return Ue&&yn(A,xe),ne}for(he=u(A,he);!Ae.done;xe++,Ae=R.next())Ae=Y(he,A,xe,Ae.value,q),Ae!==null&&(e&&Ae.alternate!==null&&he.delete(Ae.key===null?xe:Ae.key),E=m(Ae,E,xe),de===null?ne=Ae:de.sibling=Ae,de=Ae);return e&&he.forEach(function(nv){return n(A,nv)}),Ue&&yn(A,xe),ne}function Ve(A,E,R,q){if(typeof R=="object"&&R!==null&&R.type===B&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case H:e:{for(var ne=R.key,de=E;de!==null;){if(de.key===ne){if(ne=R.type,ne===B){if(de.tag===7){o(A,de.sibling),E=h(de,R.props.children),E.return=A,A=E;break e}}else if(de.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Le&&sf(ne)===de.type){o(A,de.sibling),E=h(de,R.props),E.ref=la(A,de,R),E.return=A,A=E;break e}o(A,de);break}else n(A,de);de=de.sibling}R.type===B?(E=Nn(R.props.children,A.mode,q,R.key),E.return=A,A=E):(q=io(R.type,R.key,R.props,null,A.mode,q),q.ref=la(A,E,R),q.return=A,A=q)}return x(A);case U:e:{for(de=R.key;E!==null;){if(E.key===de)if(E.tag===4&&E.stateNode.containerInfo===R.containerInfo&&E.stateNode.implementation===R.implementation){o(A,E.sibling),E=h(E,R.children||[]),E.return=A,A=E;break e}else{o(A,E);break}else n(A,E);E=E.sibling}E=Vc(R,A.mode,q),E.return=A,A=E}return x(A);case Le:return de=R._init,Ve(A,E,de(R._payload),q)}if(Ee(R))return ee(A,E,R,q);if(ie(R))return re(A,E,R,q);Li(A,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,E!==null&&E.tag===6?(o(A,E.sibling),E=h(E,R),E.return=A,A=E):(o(A,E),E=qc(R,A.mode,q),E.return=A,A=E),x(A)):o(A,E)}return Ve}var rs=af(!0),of=af(!1),Mi=Wr(null),Di=null,ns=null,tc=null;function rc(){tc=ns=Di=null}function nc(e){var n=Mi.current;De(Mi),e._currentValue=n}function sc(e,n,o){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===o)break;e=e.return}}function ss(e,n){Di=e,tc=ns=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Nt=!0),e.firstContext=null)}function Ut(e){var n=e._currentValue;if(tc!==e)if(e={context:e,memoizedValue:n,next:null},ns===null){if(Di===null)throw Error(r(308));ns=e,Di.dependencies={lanes:0,firstContext:e}}else ns=ns.next=e;return n}var xn=null;function ac(e){xn===null?xn=[e]:xn.push(e)}function lf(e,n,o,u){var h=n.interleaved;return h===null?(o.next=o,ac(n)):(o.next=h.next,h.next=o),n.interleaved=o,br(e,u)}function br(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Vr=!1;function ic(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _r(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Kr(e,n,o){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Pe&2)!==0){var h=u.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),u.pending=n,br(e,o)}return h=u.interleaved,h===null?(n.next=n,ac(u)):(n.next=h.next,h.next=n),u.interleaved=n,br(e,o)}function Ui(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var u=n.lanes;u&=e.pendingLanes,o|=u,n.lanes=o,wl(e,o)}}function uf(e,n){var o=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var x={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?h=m=x:m=m.next=x,o=o.next}while(o!==null);m===null?h=m=n:m=m.next=n}else h=m=n;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,effects:u.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function Fi(e,n,o,u){var h=e.updateQueue;Vr=!1;var m=h.firstBaseUpdate,x=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var S=_,O=S.next;S.next=null,x===null?m=O:x.next=O,x=S;var z=e.alternate;z!==null&&(z=z.updateQueue,_=z.lastBaseUpdate,_!==x&&(_===null?z.firstBaseUpdate=O:_.next=O,z.lastBaseUpdate=S))}if(m!==null){var W=h.baseState;x=0,z=O=S=null,_=m;do{var F=_.lane,Y=_.eventTime;if((u&F)===F){z!==null&&(z=z.next={eventTime:Y,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var ee=e,re=_;switch(F=n,Y=o,re.tag){case 1:if(ee=re.payload,typeof ee=="function"){W=ee.call(Y,W,F);break e}W=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=re.payload,F=typeof ee=="function"?ee.call(Y,W,F):ee,F==null)break e;W=G({},W,F);break e;case 2:Vr=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,F=h.effects,F===null?h.effects=[_]:F.push(_))}else Y={eventTime:Y,lane:F,tag:_.tag,payload:_.payload,callback:_.callback,next:null},z===null?(O=z=Y,S=W):z=z.next=Y,x|=F;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;F=_,_=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);if(z===null&&(S=W),h.baseState=S,h.firstBaseUpdate=O,h.lastBaseUpdate=z,n=h.shared.interleaved,n!==null){h=n;do x|=h.lane,h=h.next;while(h!==n)}else m===null&&(h.shared.lanes=0);bn|=x,e.lanes=x,e.memoizedState=W}}function df(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var u=e[n],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(r(191,h));h.call(u)}}}var ca={},ir=Wr(ca),ua=Wr(ca),da=Wr(ca);function vn(e){if(e===ca)throw Error(r(174));return e}function oc(e,n){switch(Oe(da,n),Oe(ua,e),Oe(ir,ca),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ll(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ll(n,e)}De(ir),Oe(ir,n)}function as(){De(ir),De(ua),De(da)}function hf(e){vn(da.current);var n=vn(ir.current),o=ll(n,e.type);n!==o&&(Oe(ua,e),Oe(ir,o))}function lc(e){ua.current===e&&(De(ir),De(ua))}var Fe=Wr(0);function zi(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var cc=[];function uc(){for(var e=0;e<cc.length;e++)cc[e]._workInProgressVersionPrimary=null;cc.length=0}var Bi=L.ReactCurrentDispatcher,dc=L.ReactCurrentBatchConfig,wn=0,ze=null,Xe=null,nt=null,Wi=!1,ha=!1,fa=0,Nx=0;function gt(){throw Error(r(321))}function hc(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Jt(e[o],n[o]))return!1;return!0}function fc(e,n,o,u,h,m){if(wn=m,ze=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Bi.current=e===null||e.memoizedState===null?Px:Tx,e=o(u,h),ha){m=0;do{if(ha=!1,fa=0,25<=m)throw Error(r(301));m+=1,nt=Xe=null,n.updateQueue=null,Bi.current=Ax,e=o(u,h)}while(ha)}if(Bi.current=Vi,n=Xe!==null&&Xe.next!==null,wn=0,nt=Xe=ze=null,Wi=!1,n)throw Error(r(300));return e}function mc(){var e=fa!==0;return fa=0,e}function or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?ze.memoizedState=nt=e:nt=nt.next=e,nt}function Ft(){if(Xe===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var n=nt===null?ze.memoizedState:nt.next;if(n!==null)nt=n,Xe=e;else{if(e===null)throw Error(r(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},nt===null?ze.memoizedState=nt=e:nt=nt.next=e}return nt}function ma(e,n){return typeof n=="function"?n(e):n}function pc(e){var n=Ft(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=e;var u=Xe,h=u.baseQueue,m=o.pending;if(m!==null){if(h!==null){var x=h.next;h.next=m.next,m.next=x}u.baseQueue=h=m,o.pending=null}if(h!==null){m=h.next,u=u.baseState;var _=x=null,S=null,O=m;do{var z=O.lane;if((wn&z)===z)S!==null&&(S=S.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),u=O.hasEagerState?O.eagerState:e(u,O.action);else{var W={lane:z,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};S===null?(_=S=W,x=u):S=S.next=W,ze.lanes|=z,bn|=z}O=O.next}while(O!==null&&O!==m);S===null?x=u:S.next=_,Jt(u,n.memoizedState)||(Nt=!0),n.memoizedState=u,n.baseState=x,n.baseQueue=S,o.lastRenderedState=u}if(e=o.interleaved,e!==null){h=e;do m=h.lane,ze.lanes|=m,bn|=m,h=h.next;while(h!==e)}else h===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function gc(e){var n=Ft(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=e;var u=o.dispatch,h=o.pending,m=n.memoizedState;if(h!==null){o.pending=null;var x=h=h.next;do m=e(m,x.action),x=x.next;while(x!==h);Jt(m,n.memoizedState)||(Nt=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),o.lastRenderedState=m}return[m,u]}function ff(){}function mf(e,n){var o=ze,u=Ft(),h=n(),m=!Jt(u.memoizedState,h);if(m&&(u.memoizedState=h,Nt=!0),u=u.queue,yc(yf.bind(null,o,u,e),[e]),u.getSnapshot!==n||m||nt!==null&&nt.memoizedState.tag&1){if(o.flags|=2048,pa(9,gf.bind(null,o,u,h,n),void 0,null),st===null)throw Error(r(349));(wn&30)!==0||pf(o,n,h)}return h}function pf(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=ze.updateQueue,n===null?(n={lastEffect:null,stores:null},ze.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function gf(e,n,o,u){n.value=o,n.getSnapshot=u,xf(n)&&vf(e)}function yf(e,n,o){return o(function(){xf(n)&&vf(e)})}function xf(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Jt(e,o)}catch{return!0}}function vf(e){var n=br(e,1);n!==null&&Zt(n,e,1,-1)}function wf(e){var n=or();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:e},n.queue=e,e=e.dispatch=Cx.bind(null,ze,e),[n.memoizedState,e]}function pa(e,n,o,u){return e={tag:e,create:n,destroy:o,deps:u,next:null},n=ze.updateQueue,n===null?(n={lastEffect:null,stores:null},ze.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(u=o.next,o.next=e,e.next=u,n.lastEffect=e)),e}function bf(){return Ft().memoizedState}function Hi(e,n,o,u){var h=or();ze.flags|=e,h.memoizedState=pa(1|n,o,void 0,u===void 0?null:u)}function qi(e,n,o,u){var h=Ft();u=u===void 0?null:u;var m=void 0;if(Xe!==null){var x=Xe.memoizedState;if(m=x.destroy,u!==null&&hc(u,x.deps)){h.memoizedState=pa(n,o,m,u);return}}ze.flags|=e,h.memoizedState=pa(1|n,o,m,u)}function _f(e,n){return Hi(8390656,8,e,n)}function yc(e,n){return qi(2048,8,e,n)}function kf(e,n){return qi(4,2,e,n)}function jf(e,n){return qi(4,4,e,n)}function Nf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Sf(e,n,o){return o=o!=null?o.concat([e]):null,qi(4,4,Nf.bind(null,n,e),o)}function xc(){}function Ef(e,n){var o=Ft();n=n===void 0?null:n;var u=o.memoizedState;return u!==null&&n!==null&&hc(n,u[1])?u[0]:(o.memoizedState=[e,n],e)}function Cf(e,n){var o=Ft();n=n===void 0?null:n;var u=o.memoizedState;return u!==null&&n!==null&&hc(n,u[1])?u[0]:(e=e(),o.memoizedState=[e,n],e)}function Pf(e,n,o){return(wn&21)===0?(e.baseState&&(e.baseState=!1,Nt=!0),e.memoizedState=o):(Jt(o,n)||(o=sh(),ze.lanes|=o,bn|=o,e.baseState=!0),n)}function Sx(e,n){var o=Ie;Ie=o!==0&&4>o?o:4,e(!0);var u=dc.transition;dc.transition={};try{e(!1),n()}finally{Ie=o,dc.transition=u}}function Tf(){return Ft().memoizedState}function Ex(e,n,o){var u=Xr(e);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Af(e))Rf(n,o);else if(o=lf(e,n,o,u),o!==null){var h=wt();Zt(o,e,u,h),If(o,n,u)}}function Cx(e,n,o){var u=Xr(e),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Af(e))Rf(n,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var x=n.lastRenderedState,_=m(x,o);if(h.hasEagerState=!0,h.eagerState=_,Jt(_,x)){var S=n.interleaved;S===null?(h.next=h,ac(n)):(h.next=S.next,S.next=h),n.interleaved=h;return}}catch{}finally{}o=lf(e,n,h,u),o!==null&&(h=wt(),Zt(o,e,u,h),If(o,n,u))}}function Af(e){var n=e.alternate;return e===ze||n!==null&&n===ze}function Rf(e,n){ha=Wi=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function If(e,n,o){if((o&4194240)!==0){var u=n.lanes;u&=e.pendingLanes,o|=u,n.lanes=o,wl(e,o)}}var Vi={readContext:Ut,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},Px={readContext:Ut,useCallback:function(e,n){return or().memoizedState=[e,n===void 0?null:n],e},useContext:Ut,useEffect:_f,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,Hi(4194308,4,Nf.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Hi(4194308,4,e,n)},useInsertionEffect:function(e,n){return Hi(4,2,e,n)},useMemo:function(e,n){var o=or();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var u=or();return n=o!==void 0?o(n):n,u.memoizedState=u.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},u.queue=e,e=e.dispatch=Ex.bind(null,ze,e),[u.memoizedState,e]},useRef:function(e){var n=or();return e={current:e},n.memoizedState=e},useState:wf,useDebugValue:xc,useDeferredValue:function(e){return or().memoizedState=e},useTransition:function(){var e=wf(!1),n=e[0];return e=Sx.bind(null,e[1]),or().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var u=ze,h=or();if(Ue){if(o===void 0)throw Error(r(407));o=o()}else{if(o=n(),st===null)throw Error(r(349));(wn&30)!==0||pf(u,n,o)}h.memoizedState=o;var m={value:o,getSnapshot:n};return h.queue=m,_f(yf.bind(null,u,m,e),[e]),u.flags|=2048,pa(9,gf.bind(null,u,m,o,n),void 0,null),o},useId:function(){var e=or(),n=st.identifierPrefix;if(Ue){var o=wr,u=vr;o=(u&~(1<<32-Kt(u)-1)).toString(32)+o,n=":"+n+"R"+o,o=fa++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=Nx++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Tx={readContext:Ut,useCallback:Ef,useContext:Ut,useEffect:yc,useImperativeHandle:Sf,useInsertionEffect:kf,useLayoutEffect:jf,useMemo:Cf,useReducer:pc,useRef:bf,useState:function(){return pc(ma)},useDebugValue:xc,useDeferredValue:function(e){var n=Ft();return Pf(n,Xe.memoizedState,e)},useTransition:function(){var e=pc(ma)[0],n=Ft().memoizedState;return[e,n]},useMutableSource:ff,useSyncExternalStore:mf,useId:Tf,unstable_isNewReconciler:!1},Ax={readContext:Ut,useCallback:Ef,useContext:Ut,useEffect:yc,useImperativeHandle:Sf,useInsertionEffect:kf,useLayoutEffect:jf,useMemo:Cf,useReducer:gc,useRef:bf,useState:function(){return gc(ma)},useDebugValue:xc,useDeferredValue:function(e){var n=Ft();return Xe===null?n.memoizedState=e:Pf(n,Xe.memoizedState,e)},useTransition:function(){var e=gc(ma)[0],n=Ft().memoizedState;return[e,n]},useMutableSource:ff,useSyncExternalStore:mf,useId:Tf,unstable_isNewReconciler:!1};function Qt(e,n){if(e&&e.defaultProps){n=G({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function vc(e,n,o,u){n=e.memoizedState,o=o(u,n),o=o==null?n:G({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Ki={isMounted:function(e){return(e=e._reactInternals)?fn(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var u=wt(),h=Xr(e),m=_r(u,h);m.payload=n,o!=null&&(m.callback=o),n=Kr(e,m,h),n!==null&&(Zt(n,e,h,u),Ui(n,e,h))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var u=wt(),h=Xr(e),m=_r(u,h);m.tag=1,m.payload=n,o!=null&&(m.callback=o),n=Kr(e,m,h),n!==null&&(Zt(n,e,h,u),Ui(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=wt(),u=Xr(e),h=_r(o,u);h.tag=2,n!=null&&(h.callback=n),n=Kr(e,h,u),n!==null&&(Zt(n,e,u,o),Ui(n,e,u))}};function Of(e,n,o,u,h,m,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,m,x):n.prototype&&n.prototype.isPureReactComponent?!ta(o,u)||!ta(h,m):!0}function $f(e,n,o){var u=!1,h=Hr,m=n.contextType;return typeof m=="object"&&m!==null?m=Ut(m):(h=jt(n)?pn:pt.current,u=n.contextTypes,m=(u=u!=null)?Yn(e,h):Hr),n=new n(o,m),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ki,e.stateNode=n,n._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=m),n}function Lf(e,n,o,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,u),n.state!==e&&Ki.enqueueReplaceState(n,n.state,null)}function wc(e,n,o,u){var h=e.stateNode;h.props=o,h.state=e.memoizedState,h.refs={},ic(e);var m=n.contextType;typeof m=="object"&&m!==null?h.context=Ut(m):(m=jt(n)?pn:pt.current,h.context=Yn(e,m)),h.state=e.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(vc(e,n,m,o),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&Ki.enqueueReplaceState(h,h.state,null),Fi(e,o,h,u),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function is(e,n){try{var o="",u=n;do o+=we(u),u=u.return;while(u);var h=o}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:e,source:n,stack:h,digest:null}}function bc(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function _c(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var Rx=typeof WeakMap=="function"?WeakMap:Map;function Mf(e,n,o){o=_r(-1,o),o.tag=3,o.payload={element:null};var u=n.value;return o.callback=function(){eo||(eo=!0,Mc=u),_c(e,n)},o}function Df(e,n,o){o=_r(-1,o),o.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var h=n.value;o.payload=function(){return u(h)},o.callback=function(){_c(e,n)}}var m=e.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){_c(e,n),typeof u!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var x=n.stack;this.componentDidCatch(n.value,{componentStack:x!==null?x:""})}),o}function Uf(e,n,o){var u=e.pingCache;if(u===null){u=e.pingCache=new Rx;var h=new Set;u.set(n,h)}else h=u.get(n),h===void 0&&(h=new Set,u.set(n,h));h.has(o)||(h.add(o),e=Vx.bind(null,e,n,o),n.then(e,e))}function Ff(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function zf(e,n,o,u,h){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=_r(-1,1),n.tag=2,Kr(o,n,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var Ix=L.ReactCurrentOwner,Nt=!1;function vt(e,n,o,u){n.child=e===null?of(n,null,o,u):rs(n,e.child,o,u)}function Bf(e,n,o,u,h){o=o.render;var m=n.ref;return ss(n,h),u=fc(e,n,o,u,m,h),o=mc(),e!==null&&!Nt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,kr(e,n,h)):(Ue&&o&&Ql(n),n.flags|=1,vt(e,n,u,h),n.child)}function Wf(e,n,o,u,h){if(e===null){var m=o.type;return typeof m=="function"&&!Hc(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=m,Hf(e,n,m,u,h)):(e=io(o.type,null,u,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,(e.lanes&h)===0){var x=m.memoizedProps;if(o=o.compare,o=o!==null?o:ta,o(x,u)&&e.ref===n.ref)return kr(e,n,h)}return n.flags|=1,e=Zr(m,u),e.ref=n.ref,e.return=n,n.child=e}function Hf(e,n,o,u,h){if(e!==null){var m=e.memoizedProps;if(ta(m,u)&&e.ref===n.ref)if(Nt=!1,n.pendingProps=u=m,(e.lanes&h)!==0)(e.flags&131072)!==0&&(Nt=!0);else return n.lanes=e.lanes,kr(e,n,h)}return kc(e,n,o,u,h)}function qf(e,n,o){var u=n.pendingProps,h=u.children,m=e!==null?e.memoizedState:null;if(u.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(ls,It),It|=o;else{if((o&1073741824)===0)return e=m!==null?m.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Oe(ls,It),It|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=m!==null?m.baseLanes:o,Oe(ls,It),It|=u}else m!==null?(u=m.baseLanes|o,n.memoizedState=null):u=o,Oe(ls,It),It|=u;return vt(e,n,h,o),n.child}function Vf(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function kc(e,n,o,u,h){var m=jt(o)?pn:pt.current;return m=Yn(n,m),ss(n,h),o=fc(e,n,o,u,m,h),u=mc(),e!==null&&!Nt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,kr(e,n,h)):(Ue&&u&&Ql(n),n.flags|=1,vt(e,n,o,h),n.child)}function Kf(e,n,o,u,h){if(jt(o)){var m=!0;Ai(n)}else m=!1;if(ss(n,h),n.stateNode===null)Gi(e,n),$f(n,o,u),wc(n,o,u,h),u=!0;else if(e===null){var x=n.stateNode,_=n.memoizedProps;x.props=_;var S=x.context,O=o.contextType;typeof O=="object"&&O!==null?O=Ut(O):(O=jt(o)?pn:pt.current,O=Yn(n,O));var z=o.getDerivedStateFromProps,W=typeof z=="function"||typeof x.getSnapshotBeforeUpdate=="function";W||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(_!==u||S!==O)&&Lf(n,x,u,O),Vr=!1;var F=n.memoizedState;x.state=F,Fi(n,u,x,h),S=n.memoizedState,_!==u||F!==S||kt.current||Vr?(typeof z=="function"&&(vc(n,o,z,u),S=n.memoizedState),(_=Vr||Of(n,o,_,u,F,S,O))?(W||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(n.flags|=4194308)):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=S),x.props=u,x.state=S,x.context=O,u=_):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{x=n.stateNode,cf(e,n),_=n.memoizedProps,O=n.type===n.elementType?_:Qt(n.type,_),x.props=O,W=n.pendingProps,F=x.context,S=o.contextType,typeof S=="object"&&S!==null?S=Ut(S):(S=jt(o)?pn:pt.current,S=Yn(n,S));var Y=o.getDerivedStateFromProps;(z=typeof Y=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(_!==W||F!==S)&&Lf(n,x,u,S),Vr=!1,F=n.memoizedState,x.state=F,Fi(n,u,x,h);var ee=n.memoizedState;_!==W||F!==ee||kt.current||Vr?(typeof Y=="function"&&(vc(n,o,Y,u),ee=n.memoizedState),(O=Vr||Of(n,o,O,u,F,ee,S)||!1)?(z||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,ee,S),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,ee,S)),typeof x.componentDidUpdate=="function"&&(n.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof x.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=ee),x.props=u,x.state=ee,x.context=S,u=O):(typeof x.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),u=!1)}return jc(e,n,o,u,m,h)}function jc(e,n,o,u,h,m){Vf(e,n);var x=(n.flags&128)!==0;if(!u&&!x)return h&&Xh(n,o,!1),kr(e,n,m);u=n.stateNode,Ix.current=n;var _=x&&typeof o.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,e!==null&&x?(n.child=rs(n,e.child,null,m),n.child=rs(n,null,_,m)):vt(e,n,_,m),n.memoizedState=u.state,h&&Xh(n,o,!0),n.child}function Jf(e){var n=e.stateNode;n.pendingContext?Gh(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Gh(e,n.context,!1),oc(e,n.containerInfo)}function Gf(e,n,o,u,h){return ts(),ec(h),n.flags|=256,vt(e,n,o,u),n.child}var Nc={dehydrated:null,treeContext:null,retryLane:0};function Sc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qf(e,n,o){var u=n.pendingProps,h=Fe.current,m=!1,x=(n.flags&128)!==0,_;if((_=x)||(_=e!==null&&e.memoizedState===null?!1:(h&2)!==0),_?(m=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Oe(Fe,h&1),e===null)return Zl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(x=u.children,e=u.fallback,m?(u=n.mode,m=n.child,x={mode:"hidden",children:x},(u&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=x):m=oo(x,u,0,null),e=Nn(e,u,o,null),m.return=n,e.return=n,m.sibling=e,n.child=m,n.child.memoizedState=Sc(o),n.memoizedState=Nc,e):Ec(n,x));if(h=e.memoizedState,h!==null&&(_=h.dehydrated,_!==null))return Ox(e,n,x,u,_,h,o);if(m){m=u.fallback,x=n.mode,h=e.child,_=h.sibling;var S={mode:"hidden",children:u.children};return(x&1)===0&&n.child!==h?(u=n.child,u.childLanes=0,u.pendingProps=S,n.deletions=null):(u=Zr(h,S),u.subtreeFlags=h.subtreeFlags&14680064),_!==null?m=Zr(_,m):(m=Nn(m,x,o,null),m.flags|=2),m.return=n,u.return=n,u.sibling=m,n.child=u,u=m,m=n.child,x=e.child.memoizedState,x=x===null?Sc(o):{baseLanes:x.baseLanes|o,cachePool:null,transitions:x.transitions},m.memoizedState=x,m.childLanes=e.childLanes&~o,n.memoizedState=Nc,u}return m=e.child,e=m.sibling,u=Zr(m,{mode:"visible",children:u.children}),(n.mode&1)===0&&(u.lanes=o),u.return=n,u.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=u,n.memoizedState=null,u}function Ec(e,n){return n=oo({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ji(e,n,o,u){return u!==null&&ec(u),rs(n,e.child,null,o),e=Ec(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ox(e,n,o,u,h,m,x){if(o)return n.flags&256?(n.flags&=-257,u=bc(Error(r(422))),Ji(e,n,x,u)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(m=u.fallback,h=n.mode,u=oo({mode:"visible",children:u.children},h,0,null),m=Nn(m,h,x,null),m.flags|=2,u.return=n,m.return=n,u.sibling=m,n.child=u,(n.mode&1)!==0&&rs(n,e.child,null,x),n.child.memoizedState=Sc(x),n.memoizedState=Nc,m);if((n.mode&1)===0)return Ji(e,n,x,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var _=u.dgst;return u=_,m=Error(r(419)),u=bc(m,u,void 0),Ji(e,n,x,u)}if(_=(x&e.childLanes)!==0,Nt||_){if(u=st,u!==null){switch(x&-x){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|x))!==0?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,br(e,h),Zt(u,e,h,-1))}return Wc(),u=bc(Error(r(421))),Ji(e,n,x,u)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=Kx.bind(null,e),h._reactRetry=n,null):(e=m.treeContext,Rt=Br(h.nextSibling),At=n,Ue=!0,Gt=null,e!==null&&(Mt[Dt++]=vr,Mt[Dt++]=wr,Mt[Dt++]=gn,vr=e.id,wr=e.overflow,gn=n),n=Ec(n,u.children),n.flags|=4096,n)}function Xf(e,n,o){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),sc(e.return,n,o)}function Cc(e,n,o,u,h){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=h)}function Yf(e,n,o){var u=n.pendingProps,h=u.revealOrder,m=u.tail;if(vt(e,n,u.children,o),u=Fe.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xf(e,o,n);else if(e.tag===19)Xf(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(Oe(Fe,u),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(o=n.child,h=null;o!==null;)e=o.alternate,e!==null&&zi(e)===null&&(h=o),o=o.sibling;o=h,o===null?(h=n.child,n.child=null):(h=o.sibling,o.sibling=null),Cc(n,!1,h,o,m);break;case"backwards":for(o=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zi(e)===null){n.child=h;break}e=h.sibling,h.sibling=o,o=h,h=e}Cc(n,!0,o,null,m);break;case"together":Cc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Gi(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function kr(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),bn|=n.lanes,(o&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,o=Zr(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Zr(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function $x(e,n,o){switch(n.tag){case 3:Jf(n),ts();break;case 5:hf(n);break;case 1:jt(n.type)&&Ai(n);break;case 4:oc(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,h=n.memoizedProps.value;Oe(Mi,u._currentValue),u._currentValue=h;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(Oe(Fe,Fe.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?Qf(e,n,o):(Oe(Fe,Fe.current&1),e=kr(e,n,o),e!==null?e.sibling:null);Oe(Fe,Fe.current&1);break;case 19:if(u=(o&n.childLanes)!==0,(e.flags&128)!==0){if(u)return Yf(e,n,o);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Oe(Fe,Fe.current),u)break;return null;case 22:case 23:return n.lanes=0,qf(e,n,o)}return kr(e,n,o)}var Zf,Pc,em,tm;Zf=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Pc=function(){},em=function(e,n,o,u){var h=e.memoizedProps;if(h!==u){e=n.stateNode,vn(ir.current);var m=null;switch(o){case"input":h=un(e,h),u=un(e,u),m=[];break;case"select":h=G({},h,{value:void 0}),u=G({},u,{value:void 0}),m=[];break;case"textarea":h=ol(e,h),u=ol(e,u),m=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=Ci)}cl(o,u);var x;o=null;for(O in h)if(!u.hasOwnProperty(O)&&h.hasOwnProperty(O)&&h[O]!=null)if(O==="style"){var _=h[O];for(x in _)_.hasOwnProperty(x)&&(o||(o={}),o[x]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(i.hasOwnProperty(O)?m||(m=[]):(m=m||[]).push(O,null));for(O in u){var S=u[O];if(_=h?.[O],u.hasOwnProperty(O)&&S!==_&&(S!=null||_!=null))if(O==="style")if(_){for(x in _)!_.hasOwnProperty(x)||S&&S.hasOwnProperty(x)||(o||(o={}),o[x]="");for(x in S)S.hasOwnProperty(x)&&_[x]!==S[x]&&(o||(o={}),o[x]=S[x])}else o||(m||(m=[]),m.push(O,o)),o=S;else O==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,_=_?_.__html:void 0,S!=null&&_!==S&&(m=m||[]).push(O,S)):O==="children"?typeof S!="string"&&typeof S!="number"||(m=m||[]).push(O,""+S):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(i.hasOwnProperty(O)?(S!=null&&O==="onScroll"&&Me("scroll",e),m||_===S||(m=[])):(m=m||[]).push(O,S))}o&&(m=m||[]).push("style",o);var O=m;(n.updateQueue=O)&&(n.flags|=4)}},tm=function(e,n,o,u){o!==u&&(n.flags|=4)};function ga(e,n){if(!Ue)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function yt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,u=0;if(n)for(var h=e.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=o,n}function Lx(e,n,o){var u=n.pendingProps;switch(Xl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return jt(n.type)&&Ti(),yt(n),null;case 3:return u=n.stateNode,as(),De(kt),De(pt),uc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&($i(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gt!==null&&(Fc(Gt),Gt=null))),Pc(e,n),yt(n),null;case 5:lc(n);var h=vn(da.current);if(o=n.type,e!==null&&n.stateNode!=null)em(e,n,o,u,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return yt(n),null}if(e=vn(ir.current),$i(n)){u=n.stateNode,o=n.type;var m=n.memoizedProps;switch(u[ar]=n,u[ia]=m,e=(n.mode&1)!==0,o){case"dialog":Me("cancel",u),Me("close",u);break;case"iframe":case"object":case"embed":Me("load",u);break;case"video":case"audio":for(h=0;h<na.length;h++)Me(na[h],u);break;case"source":Me("error",u);break;case"img":case"image":case"link":Me("error",u),Me("load",u);break;case"details":Me("toggle",u);break;case"input":dn(u,m),Me("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!m.multiple},Me("invalid",u);break;case"textarea":Md(u,m),Me("invalid",u)}cl(o,m),h=null;for(var x in m)if(m.hasOwnProperty(x)){var _=m[x];x==="children"?typeof _=="string"?u.textContent!==_&&(m.suppressHydrationWarning!==!0&&Ei(u.textContent,_,e),h=["children",_]):typeof _=="number"&&u.textContent!==""+_&&(m.suppressHydrationWarning!==!0&&Ei(u.textContent,_,e),h=["children",""+_]):i.hasOwnProperty(x)&&_!=null&&x==="onScroll"&&Me("scroll",u)}switch(o){case"input":Or(u),Q(u,m,!0);break;case"textarea":Or(u),Ud(u);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(u.onclick=Ci)}u=h,n.updateQueue=u,u!==null&&(n.flags|=4)}else{x=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fd(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=x.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=x.createElement(o,{is:u.is}):(e=x.createElement(o),o==="select"&&(x=e,u.multiple?x.multiple=!0:u.size&&(x.size=u.size))):e=x.createElementNS(e,o),e[ar]=n,e[ia]=u,Zf(e,n,!1,!1),n.stateNode=e;e:{switch(x=ul(o,u),o){case"dialog":Me("cancel",e),Me("close",e),h=u;break;case"iframe":case"object":case"embed":Me("load",e),h=u;break;case"video":case"audio":for(h=0;h<na.length;h++)Me(na[h],e);h=u;break;case"source":Me("error",e),h=u;break;case"img":case"image":case"link":Me("error",e),Me("load",e),h=u;break;case"details":Me("toggle",e),h=u;break;case"input":dn(e,u),h=un(e,u),Me("invalid",e);break;case"option":h=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},h=G({},u,{value:void 0}),Me("invalid",e);break;case"textarea":Md(e,u),h=ol(e,u),Me("invalid",e);break;default:h=u}cl(o,h),_=h;for(m in _)if(_.hasOwnProperty(m)){var S=_[m];m==="style"?Wd(e,S):m==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&zd(e,S)):m==="children"?typeof S=="string"?(o!=="textarea"||S!=="")&&Ds(e,S):typeof S=="number"&&Ds(e,""+S):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(i.hasOwnProperty(m)?S!=null&&m==="onScroll"&&Me("scroll",e):S!=null&&M(e,m,S,x))}switch(o){case"input":Or(e),Q(e,u,!1);break;case"textarea":Or(e),Ud(e);break;case"option":u.value!=null&&e.setAttribute("value",""+ae(u.value));break;case"select":e.multiple=!!u.multiple,m=u.value,m!=null?mt(e,!!u.multiple,m,!1):u.defaultValue!=null&&mt(e,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Ci)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return yt(n),null;case 6:if(e&&n.stateNode!=null)tm(e,n,e.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(o=vn(da.current),vn(ir.current),$i(n)){if(u=n.stateNode,o=n.memoizedProps,u[ar]=n,(m=u.nodeValue!==o)&&(e=At,e!==null))switch(e.tag){case 3:Ei(u.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ei(u.nodeValue,o,(e.mode&1)!==0)}m&&(n.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[ar]=n,n.stateNode=u}return yt(n),null;case 13:if(De(Fe),u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&Rt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)nf(),ts(),n.flags|=98560,m=!1;else if(m=$i(n),u!==null&&u.dehydrated!==null){if(e===null){if(!m)throw Error(r(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[ar]=n}else ts(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),m=!1}else Gt!==null&&(Fc(Gt),Gt=null),m=!0;if(!m)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Fe.current&1)!==0?Ye===0&&(Ye=3):Wc())),n.updateQueue!==null&&(n.flags|=4),yt(n),null);case 4:return as(),Pc(e,n),e===null&&sa(n.stateNode.containerInfo),yt(n),null;case 10:return nc(n.type._context),yt(n),null;case 17:return jt(n.type)&&Ti(),yt(n),null;case 19:if(De(Fe),m=n.memoizedState,m===null)return yt(n),null;if(u=(n.flags&128)!==0,x=m.rendering,x===null)if(u)ga(m,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(x=zi(e),x!==null){for(n.flags|=128,ga(m,!1),u=x.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=o,o=n.child;o!==null;)m=o,e=u,m.flags&=14680066,x=m.alternate,x===null?(m.childLanes=0,m.lanes=e,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=x.childLanes,m.lanes=x.lanes,m.child=x.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=x.memoizedProps,m.memoizedState=x.memoizedState,m.updateQueue=x.updateQueue,m.type=x.type,e=x.dependencies,m.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return Oe(Fe,Fe.current&1|2),n.child}e=e.sibling}m.tail!==null&&qe()>cs&&(n.flags|=128,u=!0,ga(m,!1),n.lanes=4194304)}else{if(!u)if(e=zi(x),e!==null){if(n.flags|=128,u=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),ga(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!Ue)return yt(n),null}else 2*qe()-m.renderingStartTime>cs&&o!==1073741824&&(n.flags|=128,u=!0,ga(m,!1),n.lanes=4194304);m.isBackwards?(x.sibling=n.child,n.child=x):(o=m.last,o!==null?o.sibling=x:n.child=x,m.last=x)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=qe(),n.sibling=null,o=Fe.current,Oe(Fe,u?o&1|2:o&1),n):(yt(n),null);case 22:case 23:return Bc(),u=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(n.flags|=8192),u&&(n.mode&1)!==0?(It&1073741824)!==0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function Mx(e,n){switch(Xl(n),n.tag){case 1:return jt(n.type)&&Ti(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return as(),De(kt),De(pt),uc(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return lc(n),null;case 13:if(De(Fe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ts()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return De(Fe),null;case 4:return as(),null;case 10:return nc(n.type._context),null;case 22:case 23:return Bc(),null;case 24:return null;default:return null}}var Qi=!1,xt=!1,Dx=typeof WeakSet=="function"?WeakSet:Set,Z=null;function os(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){We(e,n,u)}else o.current=null}function Tc(e,n,o){try{o()}catch(u){We(e,n,u)}}var rm=!1;function Ux(e,n){if(Bl=gi,e=Ih(),Ol(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var x=0,_=-1,S=-1,O=0,z=0,W=e,F=null;t:for(;;){for(var Y;W!==o||h!==0&&W.nodeType!==3||(_=x+h),W!==m||u!==0&&W.nodeType!==3||(S=x+u),W.nodeType===3&&(x+=W.nodeValue.length),(Y=W.firstChild)!==null;)F=W,W=Y;for(;;){if(W===e)break t;if(F===o&&++O===h&&(_=x),F===m&&++z===u&&(S=x),(Y=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=Y}o=_===-1||S===-1?null:{start:_,end:S}}else o=null}o=o||{start:0,end:0}}else o=null;for(Wl={focusedElem:e,selectionRange:o},gi=!1,Z=n;Z!==null;)if(n=Z,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Z=e;else for(;Z!==null;){n=Z;try{var ee=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var re=ee.memoizedProps,Ve=ee.memoizedState,A=n.stateNode,E=A.getSnapshotBeforeUpdate(n.elementType===n.type?re:Qt(n.type,re),Ve);A.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var R=n.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(q){We(n,n.return,q)}if(e=n.sibling,e!==null){e.return=n.return,Z=e;break}Z=n.return}return ee=rm,rm=!1,ee}function ya(e,n,o){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&e)===e){var m=h.destroy;h.destroy=void 0,m!==void 0&&Tc(n,o,m)}h=h.next}while(h!==u)}}function Xi(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var u=o.create;o.destroy=u()}o=o.next}while(o!==n)}}function Ac(e){var n=e.ref;if(n!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof n=="function"?n(e):n.current=e}}function nm(e){var n=e.alternate;n!==null&&(e.alternate=null,nm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[ar],delete n[ia],delete n[Kl],delete n[bx],delete n[_x])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sm(e){return e.tag===5||e.tag===3||e.tag===4}function am(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rc(e,n,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Ci));else if(u!==4&&(e=e.child,e!==null))for(Rc(e,n,o),e=e.sibling;e!==null;)Rc(e,n,o),e=e.sibling}function Ic(e,n,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(Ic(e,n,o),e=e.sibling;e!==null;)Ic(e,n,o),e=e.sibling}var lt=null,Xt=!1;function Jr(e,n,o){for(o=o.child;o!==null;)im(e,n,o),o=o.sibling}function im(e,n,o){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(ui,o)}catch{}switch(o.tag){case 5:xt||os(o,n);case 6:var u=lt,h=Xt;lt=null,Jr(e,n,o),lt=u,Xt=h,lt!==null&&(Xt?(e=lt,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):lt.removeChild(o.stateNode));break;case 18:lt!==null&&(Xt?(e=lt,o=o.stateNode,e.nodeType===8?Vl(e.parentNode,o):e.nodeType===1&&Vl(e,o),Gs(e)):Vl(lt,o.stateNode));break;case 4:u=lt,h=Xt,lt=o.stateNode.containerInfo,Xt=!0,Jr(e,n,o),lt=u,Xt=h;break;case 0:case 11:case 14:case 15:if(!xt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var m=h,x=m.destroy;m=m.tag,x!==void 0&&((m&2)!==0||(m&4)!==0)&&Tc(o,n,x),h=h.next}while(h!==u)}Jr(e,n,o);break;case 1:if(!xt&&(os(o,n),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(_){We(o,n,_)}Jr(e,n,o);break;case 21:Jr(e,n,o);break;case 22:o.mode&1?(xt=(u=xt)||o.memoizedState!==null,Jr(e,n,o),xt=u):Jr(e,n,o);break;default:Jr(e,n,o)}}function om(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new Dx),n.forEach(function(u){var h=Jx.bind(null,e,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Yt(e,n){var o=n.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var m=e,x=n,_=x;e:for(;_!==null;){switch(_.tag){case 5:lt=_.stateNode,Xt=!1;break e;case 3:lt=_.stateNode.containerInfo,Xt=!0;break e;case 4:lt=_.stateNode.containerInfo,Xt=!0;break e}_=_.return}if(lt===null)throw Error(r(160));im(m,x,h),lt=null,Xt=!1;var S=h.alternate;S!==null&&(S.return=null),h.return=null}catch(O){We(h,n,O)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)lm(n,e),n=n.sibling}function lm(e,n){var o=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yt(n,e),lr(e),u&4){try{ya(3,e,e.return),Xi(3,e)}catch(re){We(e,e.return,re)}try{ya(5,e,e.return)}catch(re){We(e,e.return,re)}}break;case 1:Yt(n,e),lr(e),u&512&&o!==null&&os(o,o.return);break;case 5:if(Yt(n,e),lr(e),u&512&&o!==null&&os(o,o.return),e.flags&32){var h=e.stateNode;try{Ds(h,"")}catch(re){We(e,e.return,re)}}if(u&4&&(h=e.stateNode,h!=null)){var m=e.memoizedProps,x=o!==null?o.memoizedProps:m,_=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{_==="input"&&m.type==="radio"&&m.name!=null&&$r(h,m),ul(_,x);var O=ul(_,m);for(x=0;x<S.length;x+=2){var z=S[x],W=S[x+1];z==="style"?Wd(h,W):z==="dangerouslySetInnerHTML"?zd(h,W):z==="children"?Ds(h,W):M(h,z,W,O)}switch(_){case"input":hn(h,m);break;case"textarea":Dd(h,m);break;case"select":var F=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var Y=m.value;Y!=null?mt(h,!!m.multiple,Y,!1):F!==!!m.multiple&&(m.defaultValue!=null?mt(h,!!m.multiple,m.defaultValue,!0):mt(h,!!m.multiple,m.multiple?[]:"",!1))}h[ia]=m}catch(re){We(e,e.return,re)}}break;case 6:if(Yt(n,e),lr(e),u&4){if(e.stateNode===null)throw Error(r(162));h=e.stateNode,m=e.memoizedProps;try{h.nodeValue=m}catch(re){We(e,e.return,re)}}break;case 3:if(Yt(n,e),lr(e),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Gs(n.containerInfo)}catch(re){We(e,e.return,re)}break;case 4:Yt(n,e),lr(e);break;case 13:Yt(n,e),lr(e),h=e.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(Lc=qe())),u&4&&om(e);break;case 22:if(z=o!==null&&o.memoizedState!==null,e.mode&1?(xt=(O=xt)||z,Yt(n,e),xt=O):Yt(n,e),lr(e),u&8192){if(O=e.memoizedState!==null,(e.stateNode.isHidden=O)&&!z&&(e.mode&1)!==0)for(Z=e,z=e.child;z!==null;){for(W=Z=z;Z!==null;){switch(F=Z,Y=F.child,F.tag){case 0:case 11:case 14:case 15:ya(4,F,F.return);break;case 1:os(F,F.return);var ee=F.stateNode;if(typeof ee.componentWillUnmount=="function"){u=F,o=F.return;try{n=u,ee.props=n.memoizedProps,ee.state=n.memoizedState,ee.componentWillUnmount()}catch(re){We(u,o,re)}}break;case 5:os(F,F.return);break;case 22:if(F.memoizedState!==null){dm(W);continue}}Y!==null?(Y.return=F,Z=Y):dm(W)}z=z.sibling}e:for(z=null,W=e;;){if(W.tag===5){if(z===null){z=W;try{h=W.stateNode,O?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(_=W.stateNode,S=W.memoizedProps.style,x=S!=null&&S.hasOwnProperty("display")?S.display:null,_.style.display=Bd("display",x))}catch(re){We(e,e.return,re)}}}else if(W.tag===6){if(z===null)try{W.stateNode.nodeValue=O?"":W.memoizedProps}catch(re){We(e,e.return,re)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===e)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===e)break e;for(;W.sibling===null;){if(W.return===null||W.return===e)break e;z===W&&(z=null),W=W.return}z===W&&(z=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:Yt(n,e),lr(e),u&4&&om(e);break;case 21:break;default:Yt(n,e),lr(e)}}function lr(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(sm(o)){var u=o;break e}o=o.return}throw Error(r(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(Ds(h,""),u.flags&=-33);var m=am(e);Ic(e,m,h);break;case 3:case 4:var x=u.stateNode.containerInfo,_=am(e);Rc(e,_,x);break;default:throw Error(r(161))}}catch(S){We(e,e.return,S)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Fx(e,n,o){Z=e,cm(e)}function cm(e,n,o){for(var u=(e.mode&1)!==0;Z!==null;){var h=Z,m=h.child;if(h.tag===22&&u){var x=h.memoizedState!==null||Qi;if(!x){var _=h.alternate,S=_!==null&&_.memoizedState!==null||xt;_=Qi;var O=xt;if(Qi=x,(xt=S)&&!O)for(Z=h;Z!==null;)x=Z,S=x.child,x.tag===22&&x.memoizedState!==null?hm(h):S!==null?(S.return=x,Z=S):hm(h);for(;m!==null;)Z=m,cm(m),m=m.sibling;Z=h,Qi=_,xt=O}um(e)}else(h.subtreeFlags&8772)!==0&&m!==null?(m.return=h,Z=m):um(e)}}function um(e){for(;Z!==null;){var n=Z;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:xt||Xi(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!xt)if(o===null)u.componentDidMount();else{var h=n.elementType===n.type?o.memoizedProps:Qt(n.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var m=n.updateQueue;m!==null&&df(n,m,u);break;case 3:var x=n.updateQueue;if(x!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}df(n,x,o)}break;case 5:var _=n.stateNode;if(o===null&&n.flags&4){o=_;var S=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&o.focus();break;case"img":S.src&&(o.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var O=n.alternate;if(O!==null){var z=O.memoizedState;if(z!==null){var W=z.dehydrated;W!==null&&Gs(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}xt||n.flags&512&&Ac(n)}catch(F){We(n,n.return,F)}}if(n===e){Z=null;break}if(o=n.sibling,o!==null){o.return=n.return,Z=o;break}Z=n.return}}function dm(e){for(;Z!==null;){var n=Z;if(n===e){Z=null;break}var o=n.sibling;if(o!==null){o.return=n.return,Z=o;break}Z=n.return}}function hm(e){for(;Z!==null;){var n=Z;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{Xi(4,n)}catch(S){We(n,o,S)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var h=n.return;try{u.componentDidMount()}catch(S){We(n,h,S)}}var m=n.return;try{Ac(n)}catch(S){We(n,m,S)}break;case 5:var x=n.return;try{Ac(n)}catch(S){We(n,x,S)}}}catch(S){We(n,n.return,S)}if(n===e){Z=null;break}var _=n.sibling;if(_!==null){_.return=n.return,Z=_;break}Z=n.return}}var zx=Math.ceil,Yi=L.ReactCurrentDispatcher,Oc=L.ReactCurrentOwner,zt=L.ReactCurrentBatchConfig,Pe=0,st=null,Je=null,ct=0,It=0,ls=Wr(0),Ye=0,xa=null,bn=0,Zi=0,$c=0,va=null,St=null,Lc=0,cs=1/0,jr=null,eo=!1,Mc=null,Gr=null,to=!1,Qr=null,ro=0,wa=0,Dc=null,no=-1,so=0;function wt(){return(Pe&6)!==0?qe():no!==-1?no:no=qe()}function Xr(e){return(e.mode&1)===0?1:(Pe&2)!==0&&ct!==0?ct&-ct:jx.transition!==null?(so===0&&(so=sh()),so):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:fh(e.type)),e)}function Zt(e,n,o,u){if(50<wa)throw wa=0,Dc=null,Error(r(185));Hs(e,o,u),((Pe&2)===0||e!==st)&&(e===st&&((Pe&2)===0&&(Zi|=o),Ye===4&&Yr(e,ct)),Et(e,u),o===1&&Pe===0&&(n.mode&1)===0&&(cs=qe()+500,Ri&&qr()))}function Et(e,n){var o=e.callbackNode;jy(e,n);var u=fi(e,e===st?ct:0);if(u===0)o!==null&&th(o),e.callbackNode=null,e.callbackPriority=0;else if(n=u&-u,e.callbackPriority!==n){if(o!=null&&th(o),n===1)e.tag===0?kx(mm.bind(null,e)):Yh(mm.bind(null,e)),vx(function(){(Pe&6)===0&&qr()}),o=null;else{switch(ah(u)){case 1:o=yl;break;case 4:o=rh;break;case 16:o=ci;break;case 536870912:o=nh;break;default:o=ci}o=_m(o,fm.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function fm(e,n){if(no=-1,so=0,(Pe&6)!==0)throw Error(r(327));var o=e.callbackNode;if(us()&&e.callbackNode!==o)return null;var u=fi(e,e===st?ct:0);if(u===0)return null;if((u&30)!==0||(u&e.expiredLanes)!==0||n)n=ao(e,u);else{n=u;var h=Pe;Pe|=2;var m=gm();(st!==e||ct!==n)&&(jr=null,cs=qe()+500,kn(e,n));do try{Hx();break}catch(_){pm(e,_)}while(!0);rc(),Yi.current=m,Pe=h,Je!==null?n=0:(st=null,ct=0,n=Ye)}if(n!==0){if(n===2&&(h=xl(e),h!==0&&(u=h,n=Uc(e,h))),n===1)throw o=xa,kn(e,0),Yr(e,u),Et(e,qe()),o;if(n===6)Yr(e,u);else{if(h=e.current.alternate,(u&30)===0&&!Bx(h)&&(n=ao(e,u),n===2&&(m=xl(e),m!==0&&(u=m,n=Uc(e,m))),n===1))throw o=xa,kn(e,0),Yr(e,u),Et(e,qe()),o;switch(e.finishedWork=h,e.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:jn(e,St,jr);break;case 3:if(Yr(e,u),(u&130023424)===u&&(n=Lc+500-qe(),10<n)){if(fi(e,0)!==0)break;if(h=e.suspendedLanes,(h&u)!==u){wt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=ql(jn.bind(null,e,St,jr),n);break}jn(e,St,jr);break;case 4:if(Yr(e,u),(u&4194240)===u)break;for(n=e.eventTimes,h=-1;0<u;){var x=31-Kt(u);m=1<<x,x=n[x],x>h&&(h=x),u&=~m}if(u=h,u=qe()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*zx(u/1960))-u,10<u){e.timeoutHandle=ql(jn.bind(null,e,St,jr),u);break}jn(e,St,jr);break;case 5:jn(e,St,jr);break;default:throw Error(r(329))}}}return Et(e,qe()),e.callbackNode===o?fm.bind(null,e):null}function Uc(e,n){var o=va;return e.current.memoizedState.isDehydrated&&(kn(e,n).flags|=256),e=ao(e,n),e!==2&&(n=St,St=o,n!==null&&Fc(n)),e}function Fc(e){St===null?St=e:St.push.apply(St,e)}function Bx(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],m=h.getSnapshot;h=h.value;try{if(!Jt(m(),h))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Yr(e,n){for(n&=~$c,n&=~Zi,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-Kt(n),u=1<<o;e[o]=-1,n&=~u}}function mm(e){if((Pe&6)!==0)throw Error(r(327));us();var n=fi(e,0);if((n&1)===0)return Et(e,qe()),null;var o=ao(e,n);if(e.tag!==0&&o===2){var u=xl(e);u!==0&&(n=u,o=Uc(e,u))}if(o===1)throw o=xa,kn(e,0),Yr(e,n),Et(e,qe()),o;if(o===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,jn(e,St,jr),Et(e,qe()),null}function zc(e,n){var o=Pe;Pe|=1;try{return e(n)}finally{Pe=o,Pe===0&&(cs=qe()+500,Ri&&qr())}}function _n(e){Qr!==null&&Qr.tag===0&&(Pe&6)===0&&us();var n=Pe;Pe|=1;var o=zt.transition,u=Ie;try{if(zt.transition=null,Ie=1,e)return e()}finally{Ie=u,zt.transition=o,Pe=n,(Pe&6)===0&&qr()}}function Bc(){It=ls.current,De(ls)}function kn(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,xx(o)),Je!==null)for(o=Je.return;o!==null;){var u=o;switch(Xl(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ti();break;case 3:as(),De(kt),De(pt),uc();break;case 5:lc(u);break;case 4:as();break;case 13:De(Fe);break;case 19:De(Fe);break;case 10:nc(u.type._context);break;case 22:case 23:Bc()}o=o.return}if(st=e,Je=e=Zr(e.current,null),ct=It=n,Ye=0,xa=null,$c=Zi=bn=0,St=va=null,xn!==null){for(n=0;n<xn.length;n++)if(o=xn[n],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,m=o.pending;if(m!==null){var x=m.next;m.next=h,u.next=x}o.pending=u}xn=null}return e}function pm(e,n){do{var o=Je;try{if(rc(),Bi.current=Vi,Wi){for(var u=ze.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Wi=!1}if(wn=0,nt=Xe=ze=null,ha=!1,fa=0,Oc.current=null,o===null||o.return===null){Ye=1,xa=n,Je=null;break}e:{var m=e,x=o.return,_=o,S=n;if(n=ct,_.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var O=S,z=_,W=z.tag;if((z.mode&1)===0&&(W===0||W===11||W===15)){var F=z.alternate;F?(z.updateQueue=F.updateQueue,z.memoizedState=F.memoizedState,z.lanes=F.lanes):(z.updateQueue=null,z.memoizedState=null)}var Y=Ff(x);if(Y!==null){Y.flags&=-257,zf(Y,x,_,m,n),Y.mode&1&&Uf(m,O,n),n=Y,S=O;var ee=n.updateQueue;if(ee===null){var re=new Set;re.add(S),n.updateQueue=re}else ee.add(S);break e}else{if((n&1)===0){Uf(m,O,n),Wc();break e}S=Error(r(426))}}else if(Ue&&_.mode&1){var Ve=Ff(x);if(Ve!==null){(Ve.flags&65536)===0&&(Ve.flags|=256),zf(Ve,x,_,m,n),ec(is(S,_));break e}}m=S=is(S,_),Ye!==4&&(Ye=2),va===null?va=[m]:va.push(m),m=x;do{switch(m.tag){case 3:m.flags|=65536,n&=-n,m.lanes|=n;var A=Mf(m,S,n);uf(m,A);break e;case 1:_=S;var E=m.type,R=m.stateNode;if((m.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Gr===null||!Gr.has(R)))){m.flags|=65536,n&=-n,m.lanes|=n;var q=Df(m,_,n);uf(m,q);break e}}m=m.return}while(m!==null)}xm(o)}catch(ne){n=ne,Je===o&&o!==null&&(Je=o=o.return);continue}break}while(!0)}function gm(){var e=Yi.current;return Yi.current=Vi,e===null?Vi:e}function Wc(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),st===null||(bn&268435455)===0&&(Zi&268435455)===0||Yr(st,ct)}function ao(e,n){var o=Pe;Pe|=2;var u=gm();(st!==e||ct!==n)&&(jr=null,kn(e,n));do try{Wx();break}catch(h){pm(e,h)}while(!0);if(rc(),Pe=o,Yi.current=u,Je!==null)throw Error(r(261));return st=null,ct=0,Ye}function Wx(){for(;Je!==null;)ym(Je)}function Hx(){for(;Je!==null&&!py();)ym(Je)}function ym(e){var n=bm(e.alternate,e,It);e.memoizedProps=e.pendingProps,n===null?xm(e):Je=n,Oc.current=null}function xm(e){var n=e;do{var o=n.alternate;if(e=n.return,(n.flags&32768)===0){if(o=Lx(o,n,It),o!==null){Je=o;return}}else{if(o=Mx(o,n),o!==null){o.flags&=32767,Je=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,Je=null;return}}if(n=n.sibling,n!==null){Je=n;return}Je=n=e}while(n!==null);Ye===0&&(Ye=5)}function jn(e,n,o){var u=Ie,h=zt.transition;try{zt.transition=null,Ie=1,qx(e,n,o,u)}finally{zt.transition=h,Ie=u}return null}function qx(e,n,o,u){do us();while(Qr!==null);if((Pe&6)!==0)throw Error(r(327));o=e.finishedWork;var h=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var m=o.lanes|o.childLanes;if(Ny(e,m),e===st&&(Je=st=null,ct=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||to||(to=!0,_m(ci,function(){return us(),null})),m=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||m){m=zt.transition,zt.transition=null;var x=Ie;Ie=1;var _=Pe;Pe|=4,Oc.current=null,Ux(e,o),lm(o,e),dx(Wl),gi=!!Bl,Wl=Bl=null,e.current=o,Fx(o),gy(),Pe=_,Ie=x,zt.transition=m}else e.current=o;if(to&&(to=!1,Qr=e,ro=h),m=e.pendingLanes,m===0&&(Gr=null),vy(o.stateNode),Et(e,qe()),n!==null)for(u=e.onRecoverableError,o=0;o<n.length;o++)h=n[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(eo)throw eo=!1,e=Mc,Mc=null,e;return(ro&1)!==0&&e.tag!==0&&us(),m=e.pendingLanes,(m&1)!==0?e===Dc?wa++:(wa=0,Dc=e):wa=0,qr(),null}function us(){if(Qr!==null){var e=ah(ro),n=zt.transition,o=Ie;try{if(zt.transition=null,Ie=16>e?16:e,Qr===null)var u=!1;else{if(e=Qr,Qr=null,ro=0,(Pe&6)!==0)throw Error(r(331));var h=Pe;for(Pe|=4,Z=e.current;Z!==null;){var m=Z,x=m.child;if((Z.flags&16)!==0){var _=m.deletions;if(_!==null){for(var S=0;S<_.length;S++){var O=_[S];for(Z=O;Z!==null;){var z=Z;switch(z.tag){case 0:case 11:case 15:ya(8,z,m)}var W=z.child;if(W!==null)W.return=z,Z=W;else for(;Z!==null;){z=Z;var F=z.sibling,Y=z.return;if(nm(z),z===O){Z=null;break}if(F!==null){F.return=Y,Z=F;break}Z=Y}}}var ee=m.alternate;if(ee!==null){var re=ee.child;if(re!==null){ee.child=null;do{var Ve=re.sibling;re.sibling=null,re=Ve}while(re!==null)}}Z=m}}if((m.subtreeFlags&2064)!==0&&x!==null)x.return=m,Z=x;else e:for(;Z!==null;){if(m=Z,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:ya(9,m,m.return)}var A=m.sibling;if(A!==null){A.return=m.return,Z=A;break e}Z=m.return}}var E=e.current;for(Z=E;Z!==null;){x=Z;var R=x.child;if((x.subtreeFlags&2064)!==0&&R!==null)R.return=x,Z=R;else e:for(x=E;Z!==null;){if(_=Z,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:Xi(9,_)}}catch(ne){We(_,_.return,ne)}if(_===x){Z=null;break e}var q=_.sibling;if(q!==null){q.return=_.return,Z=q;break e}Z=_.return}}if(Pe=h,qr(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(ui,e)}catch{}u=!0}return u}finally{Ie=o,zt.transition=n}}return!1}function vm(e,n,o){n=is(o,n),n=Mf(e,n,1),e=Kr(e,n,1),n=wt(),e!==null&&(Hs(e,1,n),Et(e,n))}function We(e,n,o){if(e.tag===3)vm(e,e,o);else for(;n!==null;){if(n.tag===3){vm(n,e,o);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Gr===null||!Gr.has(u))){e=is(o,e),e=Df(n,e,1),n=Kr(n,e,1),e=wt(),n!==null&&(Hs(n,1,e),Et(n,e));break}}n=n.return}}function Vx(e,n,o){var u=e.pingCache;u!==null&&u.delete(n),n=wt(),e.pingedLanes|=e.suspendedLanes&o,st===e&&(ct&o)===o&&(Ye===4||Ye===3&&(ct&130023424)===ct&&500>qe()-Lc?kn(e,0):$c|=o),Et(e,n)}function wm(e,n){n===0&&((e.mode&1)===0?n=1:(n=hi,hi<<=1,(hi&130023424)===0&&(hi=4194304)));var o=wt();e=br(e,n),e!==null&&(Hs(e,n,o),Et(e,o))}function Kx(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),wm(e,o)}function Jx(e,n){var o=0;switch(e.tag){case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),wm(e,o)}var bm;bm=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||kt.current)Nt=!0;else{if((e.lanes&o)===0&&(n.flags&128)===0)return Nt=!1,$x(e,n,o);Nt=(e.flags&131072)!==0}else Nt=!1,Ue&&(n.flags&1048576)!==0&&Zh(n,Oi,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;Gi(e,n),e=n.pendingProps;var h=Yn(n,pt.current);ss(n,o),h=fc(null,n,u,e,h,o);var m=mc();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,jt(u)?(m=!0,Ai(n)):m=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,ic(n),h.updater=Ki,n.stateNode=h,h._reactInternals=n,wc(n,u,e,o),n=jc(null,n,u,!0,m,o)):(n.tag=0,Ue&&m&&Ql(n),vt(null,n,h,o),n=n.child),n;case 16:u=n.elementType;e:{switch(Gi(e,n),e=n.pendingProps,h=u._init,u=h(u._payload),n.type=u,h=n.tag=Qx(u),e=Qt(u,e),h){case 0:n=kc(null,n,u,e,o);break e;case 1:n=Kf(null,n,u,e,o);break e;case 11:n=Bf(null,n,u,e,o);break e;case 14:n=Wf(null,n,u,Qt(u.type,e),o);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Qt(u,h),kc(e,n,u,h,o);case 1:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Qt(u,h),Kf(e,n,u,h,o);case 3:e:{if(Jf(n),e===null)throw Error(r(387));u=n.pendingProps,m=n.memoizedState,h=m.element,cf(e,n),Fi(n,u,null,o);var x=n.memoizedState;if(u=x.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){h=is(Error(r(423)),n),n=Gf(e,n,u,o,h);break e}else if(u!==h){h=is(Error(r(424)),n),n=Gf(e,n,u,o,h);break e}else for(Rt=Br(n.stateNode.containerInfo.firstChild),At=n,Ue=!0,Gt=null,o=of(n,null,u,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ts(),u===h){n=kr(e,n,o);break e}vt(e,n,u,o)}n=n.child}return n;case 5:return hf(n),e===null&&Zl(n),u=n.type,h=n.pendingProps,m=e!==null?e.memoizedProps:null,x=h.children,Hl(u,h)?x=null:m!==null&&Hl(u,m)&&(n.flags|=32),Vf(e,n),vt(e,n,x,o),n.child;case 6:return e===null&&Zl(n),null;case 13:return Qf(e,n,o);case 4:return oc(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=rs(n,null,u,o):vt(e,n,u,o),n.child;case 11:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Qt(u,h),Bf(e,n,u,h,o);case 7:return vt(e,n,n.pendingProps,o),n.child;case 8:return vt(e,n,n.pendingProps.children,o),n.child;case 12:return vt(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(u=n.type._context,h=n.pendingProps,m=n.memoizedProps,x=h.value,Oe(Mi,u._currentValue),u._currentValue=x,m!==null)if(Jt(m.value,x)){if(m.children===h.children&&!kt.current){n=kr(e,n,o);break e}}else for(m=n.child,m!==null&&(m.return=n);m!==null;){var _=m.dependencies;if(_!==null){x=m.child;for(var S=_.firstContext;S!==null;){if(S.context===u){if(m.tag===1){S=_r(-1,o&-o),S.tag=2;var O=m.updateQueue;if(O!==null){O=O.shared;var z=O.pending;z===null?S.next=S:(S.next=z.next,z.next=S),O.pending=S}}m.lanes|=o,S=m.alternate,S!==null&&(S.lanes|=o),sc(m.return,o,n),_.lanes|=o;break}S=S.next}}else if(m.tag===10)x=m.type===n.type?null:m.child;else if(m.tag===18){if(x=m.return,x===null)throw Error(r(341));x.lanes|=o,_=x.alternate,_!==null&&(_.lanes|=o),sc(x,o,n),x=m.sibling}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===n){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}vt(e,n,h.children,o),n=n.child}return n;case 9:return h=n.type,u=n.pendingProps.children,ss(n,o),h=Ut(h),u=u(h),n.flags|=1,vt(e,n,u,o),n.child;case 14:return u=n.type,h=Qt(u,n.pendingProps),h=Qt(u.type,h),Wf(e,n,u,h,o);case 15:return Hf(e,n,n.type,n.pendingProps,o);case 17:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Qt(u,h),Gi(e,n),n.tag=1,jt(u)?(e=!0,Ai(n)):e=!1,ss(n,o),$f(n,u,h),wc(n,u,h,o),jc(null,n,u,!0,e,o);case 19:return Yf(e,n,o);case 22:return qf(e,n,o)}throw Error(r(156,n.tag))};function _m(e,n){return eh(e,n)}function Gx(e,n,o,u){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,n,o,u){return new Gx(e,n,o,u)}function Hc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qx(e){if(typeof e=="function")return Hc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===J)return 11;if(e===Ke)return 14}return 2}function Zr(e,n){var o=e.alternate;return o===null?(o=Bt(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function io(e,n,o,u,h,m){var x=2;if(u=e,typeof e=="function")Hc(e)&&(x=1);else if(typeof e=="string")x=5;else e:switch(e){case B:return Nn(o.children,h,m,n);case te:x=8,h|=8;break;case le:return e=Bt(12,o,n,h|2),e.elementType=le,e.lanes=m,e;case se:return e=Bt(13,o,n,h),e.elementType=se,e.lanes=m,e;case Re:return e=Bt(19,o,n,h),e.elementType=Re,e.lanes=m,e;case Te:return oo(o,h,m,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ue:x=10;break e;case be:x=9;break e;case J:x=11;break e;case Ke:x=14;break e;case Le:x=16,u=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Bt(x,o,n,h),n.elementType=e,n.type=u,n.lanes=m,n}function Nn(e,n,o,u){return e=Bt(7,e,u,n),e.lanes=o,e}function oo(e,n,o,u){return e=Bt(22,e,u,n),e.elementType=Te,e.lanes=o,e.stateNode={isHidden:!1},e}function qc(e,n,o){return e=Bt(6,e,null,n),e.lanes=o,e}function Vc(e,n,o){return n=Bt(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Xx(e,n,o,u,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vl(0),this.expirationTimes=vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vl(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Kc(e,n,o,u,h,m,x,_,S){return e=new Xx(e,n,o,_,S),n===1?(n=1,m===!0&&(n|=8)):n=0,m=Bt(3,null,null,n),e.current=m,m.stateNode=e,m.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ic(m),e}function Yx(e,n,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:u==null?null:""+u,children:e,containerInfo:n,implementation:o}}function km(e){if(!e)return Hr;e=e._reactInternals;e:{if(fn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(jt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var o=e.type;if(jt(o))return Qh(e,o,n)}return n}function jm(e,n,o,u,h,m,x,_,S){return e=Kc(o,u,!0,e,h,m,x,_,S),e.context=km(null),o=e.current,u=wt(),h=Xr(o),m=_r(u,h),m.callback=n??null,Kr(o,m,h),e.current.lanes=h,Hs(e,h,u),Et(e,u),e}function lo(e,n,o,u){var h=n.current,m=wt(),x=Xr(h);return o=km(o),n.context===null?n.context=o:n.pendingContext=o,n=_r(m,x),n.payload={element:e},u=u===void 0?null:u,u!==null&&(n.callback=u),e=Kr(h,n,x),e!==null&&(Zt(e,h,x,m),Ui(e,h,x)),x}function co(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Jc(e,n){Nm(e,n),(e=e.alternate)&&Nm(e,n)}function Zx(){return null}var Sm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}uo.prototype.render=Gc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));lo(e,n,null,null)},uo.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;_n(function(){lo(null,e,null,null)}),n[yr]=null}};function uo(e){this._internalRoot=e}uo.prototype.unstable_scheduleHydration=function(e){if(e){var n=lh();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Ur.length&&n!==0&&n<Ur[o].priority;o++);Ur.splice(o,0,e),o===0&&dh(e)}};function Qc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ho(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Em(){}function ev(e,n,o,u,h){if(h){if(typeof u=="function"){var m=u;u=function(){var O=co(x);m.call(O)}}var x=jm(n,u,e,0,null,!1,!1,"",Em);return e._reactRootContainer=x,e[yr]=x.current,sa(e.nodeType===8?e.parentNode:e),_n(),x}for(;h=e.lastChild;)e.removeChild(h);if(typeof u=="function"){var _=u;u=function(){var O=co(S);_.call(O)}}var S=Kc(e,0,!1,null,null,!1,!1,"",Em);return e._reactRootContainer=S,e[yr]=S.current,sa(e.nodeType===8?e.parentNode:e),_n(function(){lo(n,S,o,u)}),S}function fo(e,n,o,u,h){var m=o._reactRootContainer;if(m){var x=m;if(typeof h=="function"){var _=h;h=function(){var S=co(x);_.call(S)}}lo(n,x,e,h)}else x=ev(o,n,e,h,u);return co(x)}ih=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=Ws(n.pendingLanes);o!==0&&(wl(n,o|1),Et(n,qe()),(Pe&6)===0&&(cs=qe()+500,qr()))}break;case 13:_n(function(){var u=br(e,1);if(u!==null){var h=wt();Zt(u,e,1,h)}}),Jc(e,1)}},bl=function(e){if(e.tag===13){var n=br(e,134217728);if(n!==null){var o=wt();Zt(n,e,134217728,o)}Jc(e,134217728)}},oh=function(e){if(e.tag===13){var n=Xr(e),o=br(e,n);if(o!==null){var u=wt();Zt(o,e,n,u)}Jc(e,n)}},lh=function(){return Ie},ch=function(e,n){var o=Ie;try{return Ie=e,n()}finally{Ie=o}},fl=function(e,n,o){switch(n){case"input":if(hn(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var u=o[n];if(u!==e&&u.form===e.form){var h=Pi(u);if(!h)throw Error(r(90));Fn(u),hn(u,h)}}}break;case"textarea":Dd(e,o);break;case"select":n=o.value,n!=null&&mt(e,!!o.multiple,n,!1)}},Kd=zc,Jd=_n;var tv={usingClientEntryPoint:!1,Events:[oa,Qn,Pi,qd,Vd,zc]},ba={findFiberByHostInstance:mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rv={bundleType:ba.bundleType,version:ba.version,rendererPackageName:ba.rendererPackageName,rendererConfig:ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yd(e),e===null?null:e.stateNode},findFiberByHostInstance:ba.findFiberByHostInstance||Zx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mo.isDisabled&&mo.supportsFiber)try{ui=mo.inject(rv),sr=mo}catch{}}return Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tv,Ct.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qc(n))throw Error(r(200));return Yx(e,n,null,o)},Ct.createRoot=function(e,n){if(!Qc(e))throw Error(r(299));var o=!1,u="",h=Sm;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=Kc(e,1,!1,null,null,o,!1,u,h),e[yr]=n.current,sa(e.nodeType===8?e.parentNode:e),new Gc(n)},Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Yd(n),e=e===null?null:e.stateNode,e},Ct.flushSync=function(e){return _n(e)},Ct.hydrate=function(e,n,o){if(!ho(n))throw Error(r(200));return fo(null,e,n,!0,o)},Ct.hydrateRoot=function(e,n,o){if(!Qc(e))throw Error(r(405));var u=o!=null&&o.hydratedSources||null,h=!1,m="",x=Sm;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),n=jm(n,null,e,1,o??null,h,!1,m,x),e[yr]=n.current,sa(e),u)for(e=0;e<u.length;e++)o=u[e],h=o._getVersion,h=h(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,h]:n.mutableSourceEagerHydrationData.push(o,h);return new uo(n)},Ct.render=function(e,n,o){if(!ho(n))throw Error(r(200));return fo(null,e,n,!1,o)},Ct.unmountComponentAtNode=function(e){if(!ho(e))throw Error(r(40));return e._reactRootContainer?(_n(function(){fo(null,null,e,!1,function(){e._reactRootContainer=null,e[yr]=null})}),!0):!1},Ct.unstable_batchedUpdates=zc,Ct.unstable_renderSubtreeIntoContainer=function(e,n,o,u){if(!ho(o))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return fo(e,n,o,!1,u)},Ct.version="18.3.1-next-f1338f8080-20240426",Ct}var $m;function dv(){if($m)return Zc.exports;$m=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Zc.exports=uv(),Zc.exports}var Lm;function hv(){if(Lm)return po;Lm=1;var a=dv();return po.createRoot=a.createRoot,po.hydrateRoot=a.hydrateRoot,po}var fv=hv();/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mm="popstate";function mv(a={}){function t(s,i){let{pathname:c,search:d,hash:f}=s.location;return bu("",{pathname:c,search:d,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){return typeof i=="string"?i:Wa(i)}return gv(t,r,null,a)}function Be(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function nr(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pv(){return Math.random().toString(36).substring(2,10)}function Dm(a,t){return{usr:a.state,key:a.key,idx:t}}function bu(a,t,r=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?Os(t):t,state:r,key:t&&t.key||s||pv()}}function Wa({pathname:a="/",search:t="",hash:r=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function Os(a){let t={};if(a){let r=a.indexOf("#");r>=0&&(t.hash=a.substring(r),a=a.substring(0,r));let s=a.indexOf("?");s>=0&&(t.search=a.substring(s),a=a.substring(0,s)),a&&(t.pathname=a)}return t}function gv(a,t,r,s={}){let{window:i=document.defaultView,v5Compat:c=!1}=s,d=i.history,f="POP",p=null,g=y();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function y(){return(d.state||{idx:null}).idx}function v(){f="POP";let C=y(),$=C==null?null:C-g;g=C,p&&p({action:f,location:N.location,delta:$})}function b(C,$){f="PUSH";let T=bu(N.location,C,$);g=y()+1;let M=Dm(T,g),L=N.createHref(T);try{d.pushState(M,"",L)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(L)}c&&p&&p({action:f,location:N.location,delta:1})}function w(C,$){f="REPLACE";let T=bu(N.location,C,$);g=y();let M=Dm(T,g),L=N.createHref(T);d.replaceState(M,"",L),c&&p&&p({action:f,location:N.location,delta:0})}function k(C){return yv(C)}let N={get action(){return f},get location(){return a(i,d)},listen(C){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(Mm,v),p=C,()=>{i.removeEventListener(Mm,v),p=null}},createHref(C){return t(i,C)},createURL:k,encodeLocation(C){let $=k(C);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:b,replace:w,go(C){return d.go(C)}};return N}function yv(a,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Be(r,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:Wa(a);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function Wp(a,t,r="/"){return xv(a,t,r,!1)}function xv(a,t,r,s){let i=typeof t=="string"?Os(t):t,c=Ar(i.pathname||"/",r);if(c==null)return null;let d=Hp(a);vv(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let g=Tv(c);f=Cv(d[p],g,s)}return f}function Hp(a,t=[],r=[],s="",i=!1){let c=(d,f,p=i,g)=>{let y={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&p)return;Be(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=Pr([s,y.relativePath]),b=r.concat(y);d.children&&d.children.length>0&&(Be(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Hp(d.children,t,b,v,p)),!(d.path==null&&!d.index)&&t.push({path:v,score:Sv(v,d.index),routesMeta:b})};return a.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))c(d,f);else for(let p of qp(d.path))c(d,f,!0,p)}),t}function qp(a){let t=a.split("/");if(t.length===0)return[];let[r,...s]=t,i=r.endsWith("?"),c=r.replace(/\?$/,"");if(s.length===0)return i?[c,""]:[c];let d=qp(s.join("/")),f=[];return f.push(...d.map(p=>p===""?c:[c,p].join("/"))),i&&f.push(...d),f.map(p=>a.startsWith("/")&&p===""?"/":p)}function vv(a){a.sort((t,r)=>t.score!==r.score?r.score-t.score:Ev(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var wv=/^:[\w-]+$/,bv=3,_v=2,kv=1,jv=10,Nv=-2,Um=a=>a==="*";function Sv(a,t){let r=a.split("/"),s=r.length;return r.some(Um)&&(s+=Nv),t&&(s+=_v),r.filter(i=>!Um(i)).reduce((i,c)=>i+(wv.test(c)?bv:c===""?kv:jv),s)}function Ev(a,t){return a.length===t.length&&a.slice(0,-1).every((s,i)=>s===t[i])?a[a.length-1]-t[t.length-1]:0}function Cv(a,t,r=!1){let{routesMeta:s}=a,i={},c="/",d=[];for(let f=0;f<s.length;++f){let p=s[f],g=f===s.length-1,y=c==="/"?t:t.slice(c.length)||"/",v=Fo({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),b=p.route;if(!v&&g&&r&&!s[s.length-1].route.index&&(v=Fo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!v)return null;Object.assign(i,v.params),d.push({params:i,pathname:Pr([c,v.pathname]),pathnameBase:Ov(Pr([c,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(c=Pr([c,v.pathnameBase]))}return d}function Fo(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,s]=Pv(a.path,a.caseSensitive,a.end),i=t.match(r);if(!i)return null;let c=i[0],d=c.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:v},b)=>{if(y==="*"){let k=f[b]||"";d=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const w=f[b];return v&&!w?g[y]=void 0:g[y]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:a}}function Pv(a,t=!1,r=!0){nr(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],i="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),i+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":a!==""&&a!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function Tv(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nr(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function Ar(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=a.charAt(r);return s&&s!=="/"?null:a.slice(r)||"/"}function Av(a,t="/"){let{pathname:r,search:s="",hash:i=""}=typeof a=="string"?Os(a):a;return{pathname:r?r.startsWith("/")?r:Rv(r,t):t,search:$v(s),hash:Lv(i)}}function Rv(a,t){let r=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ru(a,t,r,s){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Iv(a){return a.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Vp(a){let t=Iv(a);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function Kp(a,t,r,s=!1){let i;typeof a=="string"?i=Os(a):(i={...a},Be(!i.pathname||!i.pathname.includes("?"),ru("?","pathname","search",i)),Be(!i.pathname||!i.pathname.includes("#"),ru("#","pathname","hash",i)),Be(!i.search||!i.search.includes("#"),ru("#","search","hash",i)));let c=a===""||i.pathname==="",d=c?"/":i.pathname,f;if(d==null)f=r;else{let v=t.length-1;if(!s&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),v-=1;i.pathname=b.join("/")}f=v>=0?t[v]:"/"}let p=Av(i,f),g=d&&d!=="/"&&d.endsWith("/"),y=(c||d===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}var Pr=a=>a.join("/").replace(/\/\/+/g,"/"),Ov=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),$v=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Lv=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function Mv(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var Jp=["POST","PUT","PATCH","DELETE"];new Set(Jp);var Dv=["GET",...Jp];new Set(Dv);var $s=j.createContext(null);$s.displayName="DataRouter";var Xo=j.createContext(null);Xo.displayName="DataRouterState";j.createContext(!1);var Gp=j.createContext({isTransitioning:!1});Gp.displayName="ViewTransition";var Uv=j.createContext(new Map);Uv.displayName="Fetchers";var Fv=j.createContext(null);Fv.displayName="Await";var mr=j.createContext(null);mr.displayName="Navigation";var Ga=j.createContext(null);Ga.displayName="Location";var pr=j.createContext({outlet:null,matches:[],isDataRoute:!1});pr.displayName="Route";var Yu=j.createContext(null);Yu.displayName="RouteError";function zv(a,{relative:t}={}){Be(Qa(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=j.useContext(mr),{hash:i,pathname:c,search:d}=Xa(a,{relative:t}),f=c;return r!=="/"&&(f=c==="/"?r:Pr([r,c])),s.createHref({pathname:f,search:d,hash:i})}function Qa(){return j.useContext(Ga)!=null}function ln(){return Be(Qa(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Ga).location}var Qp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xp(a){j.useContext(mr).static||j.useLayoutEffect(a)}function Vt(){let{isDataRoute:a}=j.useContext(pr);return a?ew():Bv()}function Bv(){Be(Qa(),"useNavigate() may be used only in the context of a <Router> component.");let a=j.useContext($s),{basename:t,navigator:r}=j.useContext(mr),{matches:s}=j.useContext(pr),{pathname:i}=ln(),c=JSON.stringify(Vp(s)),d=j.useRef(!1);return Xp(()=>{d.current=!0}),j.useCallback((p,g={})=>{if(nr(d.current,Qp),!d.current)return;if(typeof p=="number"){r.go(p);return}let y=Kp(p,JSON.parse(c),i,g.relative==="path");a==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Pr([t,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[t,r,c,i,a])}j.createContext(null);function Zu(){let{matches:a}=j.useContext(pr),t=a[a.length-1];return t?t.params:{}}function Xa(a,{relative:t}={}){let{matches:r}=j.useContext(pr),{pathname:s}=ln(),i=JSON.stringify(Vp(r));return j.useMemo(()=>Kp(a,JSON.parse(i),s,t==="path"),[a,i,s,t])}function Wv(a,t){return Yp(a,t)}function Yp(a,t,r,s,i){Be(Qa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(mr),{matches:d}=j.useContext(pr),f=d[d.length-1],p=f?f.params:{},g=f?f.pathname:"/",y=f?f.pathnameBase:"/",v=f&&f.route;{let T=v&&v.path||"";Zp(g,!v||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let b=ln(),w;if(t){let T=typeof t=="string"?Os(t):t;Be(y==="/"||T.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${T.pathname}" was given in the \`location\` prop.`),w=T}else w=b;let k=w.pathname||"/",N=k;if(y!=="/"){let T=y.replace(/^\//,"").split("/");N="/"+k.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=Wp(a,{pathname:N});nr(v||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),nr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=Jv(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},p,T.params),pathname:Pr([y,c.encodeLocation?c.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?y:Pr([y,c.encodeLocation?c.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),d,r,s,i);return t&&$?j.createElement(Ga.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},$):$}function Hv(){let a=Zv(),t=Mv(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:i},r):null,d)}var qv=j.createElement(Hv,null),Vv=class extends j.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.unstable_onError?this.props.unstable_onError(a,t):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?j.createElement(pr.Provider,{value:this.props.routeContext},j.createElement(Yu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Kv({routeContext:a,match:t,children:r}){let s=j.useContext($s);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(pr.Provider,{value:a},r)}function Jv(a,t=[],r=null,s=null,i=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let c=a,d=r?.errors;if(d!=null){let g=c.findIndex(y=>y.route.id&&d?.[y.route.id]!==void 0);Be(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let f=!1,p=-1;if(r)for(let g=0;g<c.length;g++){let y=c[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:v,errors:b}=r,w=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||w){f=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((g,y,v)=>{let b,w=!1,k=null,N=null;r&&(b=d&&y.route.id?d[y.route.id]:void 0,k=y.route.errorElement||qv,f&&(p<0&&v===0?(Zp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,N=null):p===v&&(w=!0,N=y.route.hydrateFallbackElement||null)));let C=t.concat(c.slice(0,v+1)),$=()=>{let T;return b?T=k:w?T=N:y.route.Component?T=j.createElement(y.route.Component,null):y.route.element?T=y.route.element:T=g,j.createElement(Kv,{match:y,routeContext:{outlet:g,matches:C,isDataRoute:r!=null},children:T})};return r&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?j.createElement(Vv,{location:r.location,revalidation:r.revalidation,component:k,error:b,children:$(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:s}):$()},null)}function ed(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gv(a){let t=j.useContext($s);return Be(t,ed(a)),t}function Qv(a){let t=j.useContext(Xo);return Be(t,ed(a)),t}function Xv(a){let t=j.useContext(pr);return Be(t,ed(a)),t}function td(a){let t=Xv(a),r=t.matches[t.matches.length-1];return Be(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function Yv(){return td("useRouteId")}function Zv(){let a=j.useContext(Yu),t=Qv("useRouteError"),r=td("useRouteError");return a!==void 0?a:t.errors?.[r]}function ew(){let{router:a}=Gv("useNavigate"),t=td("useNavigate"),r=j.useRef(!1);return Xp(()=>{r.current=!0}),j.useCallback(async(i,c={})=>{nr(r.current,Qp),r.current&&(typeof i=="number"?a.navigate(i):await a.navigate(i,{fromRouteId:t,...c}))},[a,t])}var Fm={};function Zp(a,t,r){!t&&!Fm[a]&&(Fm[a]=!0,nr(!1,r))}j.memo(tw);function tw({routes:a,future:t,state:r,unstable_onError:s}){return Yp(a,void 0,r,s,t)}function Wt(a){Be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rw({basename:a="/",children:t=null,location:r,navigationType:s="POP",navigator:i,static:c=!1}){Be(!Qa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:d,navigator:i,static:c,future:{}}),[d,i,c]);typeof r=="string"&&(r=Os(r));let{pathname:p="/",search:g="",hash:y="",state:v=null,key:b="default"}=r,w=j.useMemo(()=>{let k=Ar(p,d);return k==null?null:{location:{pathname:k,search:g,hash:y,state:v,key:b},navigationType:s}},[d,p,g,y,v,b,s]);return nr(w!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:j.createElement(mr.Provider,{value:f},j.createElement(Ga.Provider,{children:t,value:w}))}function nw({children:a,location:t}){return Wv(_u(a),t)}function _u(a,t=[]){let r=[];return j.Children.forEach(a,(s,i)=>{if(!j.isValidElement(s))return;let c=[...t,i];if(s.type===j.Fragment){r.push.apply(r,_u(s.props.children,c));return}Be(s.type===Wt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Be(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=_u(s.props.children,c)),r.push(d)}),r}var Po="get",To="application/x-www-form-urlencoded";function Yo(a){return a!=null&&typeof a.tagName=="string"}function sw(a){return Yo(a)&&a.tagName.toLowerCase()==="button"}function aw(a){return Yo(a)&&a.tagName.toLowerCase()==="form"}function iw(a){return Yo(a)&&a.tagName.toLowerCase()==="input"}function ow(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function lw(a,t){return a.button===0&&(!t||t==="_self")&&!ow(a)}function ku(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((t,r)=>{let s=a[r];return t.concat(Array.isArray(s)?s.map(i=>[r,i]):[[r,s]])},[]))}function cw(a,t){let r=ku(a);return t&&t.forEach((s,i)=>{r.has(i)||t.getAll(i).forEach(c=>{r.append(i,c)})}),r}var go=null;function uw(){if(go===null)try{new FormData(document.createElement("form"),0),go=!1}catch{go=!0}return go}var dw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nu(a){return a!=null&&!dw.has(a)?(nr(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${To}"`),null):a}function hw(a,t){let r,s,i,c,d;if(aw(a)){let f=a.getAttribute("action");s=f?Ar(f,t):null,r=a.getAttribute("method")||Po,i=nu(a.getAttribute("enctype"))||To,c=new FormData(a)}else if(sw(a)||iw(a)&&(a.type==="submit"||a.type==="image")){let f=a.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||f.getAttribute("action");if(s=p?Ar(p,t):null,r=a.getAttribute("formmethod")||f.getAttribute("method")||Po,i=nu(a.getAttribute("formenctype"))||nu(f.getAttribute("enctype"))||To,c=new FormData(f,a),!uw()){let{name:g,type:y,value:v}=a;if(y==="image"){let b=g?`${g}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else g&&c.append(g,v)}}else{if(Yo(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Po,s=null,i=To,d=a}return c&&i==="text/plain"&&(d=c,c=void 0),{action:s,method:r.toLowerCase(),encType:i,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rd(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function fw(a,t,r){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${r}`:t&&Ar(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function mw(a,t){if(a.id in t)return t[a.id];try{let r=await import(a.module);return t[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pw(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function gw(a,t,r){let s=await Promise.all(a.map(async i=>{let c=t.routes[i.route.id];if(c){let d=await mw(c,r);return d.links?d.links():[]}return[]}));return ww(s.flat(1).filter(pw).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function zm(a,t,r,s,i,c){let d=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,f=(p,g)=>r[g].pathname!==p.pathname||r[g].route.path?.endsWith("*")&&r[g].params["*"]!==p.params["*"];return c==="assets"?t.filter((p,g)=>d(p,g)||f(p,g)):c==="data"?t.filter((p,g)=>{let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(d(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function yw(a,t,{includeHydrateFallback:r}={}){return xw(a.map(s=>{let i=t.routes[s.route.id];if(!i)return[];let c=[i.module];return i.clientActionModule&&(c=c.concat(i.clientActionModule)),i.clientLoaderModule&&(c=c.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(c=c.concat(i.hydrateFallbackModule)),i.imports&&(c=c.concat(i.imports)),c}).flat(1))}function xw(a){return[...new Set(a)]}function vw(a){let t={},r=Object.keys(a).sort();for(let s of r)t[s]=a[s];return t}function ww(a,t){let r=new Set;return new Set(t),a.reduce((s,i)=>{let c=JSON.stringify(vw(i));return r.has(c)||(r.add(c),s.push({key:c,link:i})),s},[])}function eg(){let a=j.useContext($s);return rd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function bw(){let a=j.useContext(Xo);return rd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var nd=j.createContext(void 0);nd.displayName="FrameworkContext";function tg(){let a=j.useContext(nd);return rd(a,"You must render this element inside a <HydratedRouter> element"),a}function _w(a,t){let r=j.useContext(nd),[s,i]=j.useState(!1),[c,d]=j.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=t,b=j.useRef(null);j.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let N=$=>{$.forEach(T=>{d(T.isIntersecting)})},C=new IntersectionObserver(N,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[a]),j.useEffect(()=>{if(s){let N=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(N)}}},[s]);let w=()=>{i(!0)},k=()=>{i(!1),d(!1)};return r?a!=="intent"?[c,b,{}]:[c,b,{onFocus:ka(f,w),onBlur:ka(p,k),onMouseEnter:ka(g,w),onMouseLeave:ka(y,k),onTouchStart:ka(v,w)}]:[!1,b,{}]}function ka(a,t){return r=>{a&&a(r),r.defaultPrevented||t(r)}}function kw({page:a,...t}){let{router:r}=eg(),s=j.useMemo(()=>Wp(r.routes,a,r.basename),[r.routes,a,r.basename]);return s?j.createElement(Nw,{page:a,matches:s,...t}):null}function jw(a){let{manifest:t,routeModules:r}=tg(),[s,i]=j.useState([]);return j.useEffect(()=>{let c=!1;return gw(a,t,r).then(d=>{c||i(d)}),()=>{c=!0}},[a,t,r]),s}function Nw({page:a,matches:t,...r}){let s=ln(),{manifest:i,routeModules:c}=tg(),{basename:d}=eg(),{loaderData:f,matches:p}=bw(),g=j.useMemo(()=>zm(a,t,p,i,s,"data"),[a,t,p,i,s]),y=j.useMemo(()=>zm(a,t,p,i,s,"assets"),[a,t,p,i,s]),v=j.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let k=new Set,N=!1;if(t.forEach($=>{let T=i.routes[$.route.id];!T||!T.hasLoader||(!g.some(M=>M.route.id===$.route.id)&&$.route.id in f&&c[$.route.id]?.shouldRevalidate||T.hasClientLoader?N=!0:k.add($.route.id))}),k.size===0)return[];let C=fw(a,d,"data");return N&&k.size>0&&C.searchParams.set("_routes",t.filter($=>k.has($.route.id)).map($=>$.route.id).join(",")),[C.pathname+C.search]},[d,f,s,i,g,t,a,c]),b=j.useMemo(()=>yw(y,i),[y,i]),w=jw(y);return j.createElement(j.Fragment,null,v.map(k=>j.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),b.map(k=>j.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),w.map(({key:k,link:N})=>j.createElement("link",{key:k,nonce:r.nonce,...N})))}function Sw(...a){return t=>{a.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var rg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rg&&(window.__reactRouterVersion="7.9.2")}catch{}function Ew({basename:a,children:t,window:r}){let s=j.useRef();s.current==null&&(s.current=mv({window:r,v5Compat:!0}));let i=s.current,[c,d]=j.useState({action:i.action,location:i.location}),f=j.useCallback(p=>{j.startTransition(()=>d(p))},[d]);return j.useLayoutEffect(()=>i.listen(f),[i,f]),j.createElement(rw,{basename:a,children:t,location:c.location,navigationType:c.action,navigator:i})}var ng=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=j.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:i,reloadDocument:c,replace:d,state:f,target:p,to:g,preventScrollReset:y,viewTransition:v,...b},w){let{basename:k}=j.useContext(mr),N=typeof g=="string"&&ng.test(g),C,$=!1;if(typeof g=="string"&&N&&(C=g,rg))try{let le=new URL(window.location.href),ue=g.startsWith("//")?new URL(le.protocol+g):new URL(g),be=Ar(ue.pathname,k);ue.origin===le.origin&&be!=null?g=be+ue.search+ue.hash:$=!0}catch{nr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=zv(g,{relative:i}),[M,L,H]=_w(s,b),U=Aw(g,{replace:d,state:f,target:p,preventScrollReset:y,relative:i,viewTransition:v});function B(le){t&&t(le),le.defaultPrevented||U(le)}let te=j.createElement("a",{...b,...H,href:C||T,onClick:$||c?t:B,ref:Sw(w,L),target:p,"data-discover":!N&&r==="render"?"true":void 0});return M&&!N?j.createElement(j.Fragment,null,te,j.createElement(kw,{page:T})):te});dt.displayName="Link";var Cw=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:i=!1,style:c,to:d,viewTransition:f,children:p,...g},y){let v=Xa(d,{relative:g.relative}),b=ln(),w=j.useContext(Xo),{navigator:k,basename:N}=j.useContext(mr),C=w!=null&&Mw(v)&&f===!0,$=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,T=b.pathname,M=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(T=T.toLowerCase(),M=M?M.toLowerCase():null,$=$.toLowerCase()),M&&N&&(M=Ar(M,N)||M);const L=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let H=T===$||!i&&T.startsWith($)&&T.charAt(L)==="/",U=M!=null&&(M===$||!i&&M.startsWith($)&&M.charAt($.length)==="/"),B={isActive:H,isPending:U,isTransitioning:C},te=H?t:void 0,le;typeof s=="function"?le=s(B):le=[s,H?"active":null,U?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ue=typeof c=="function"?c(B):c;return j.createElement(dt,{...g,"aria-current":te,className:le,ref:y,style:ue,to:d,viewTransition:f},typeof p=="function"?p(B):p)});Cw.displayName="NavLink";var Pw=j.forwardRef(({discover:a="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:i,state:c,method:d=Po,action:f,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:v,...b},w)=>{let k=$w(),N=Lw(f,{relative:g}),C=d.toLowerCase()==="get"?"get":"post",$=typeof f=="string"&&ng.test(f),T=M=>{if(p&&p(M),M.defaultPrevented)return;M.preventDefault();let L=M.nativeEvent.submitter,H=L?.getAttribute("formmethod")||d;k(L||M.currentTarget,{fetcherKey:t,method:H,navigate:r,replace:i,state:c,relative:g,preventScrollReset:y,viewTransition:v})};return j.createElement("form",{ref:w,method:C,action:N,onSubmit:s?p:T,...b,"data-discover":!$&&a==="render"?"true":void 0})});Pw.displayName="Form";function Tw(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sg(a){let t=j.useContext($s);return Be(t,Tw(a)),t}function Aw(a,{target:t,replace:r,state:s,preventScrollReset:i,relative:c,viewTransition:d}={}){let f=Vt(),p=ln(),g=Xa(a,{relative:c});return j.useCallback(y=>{if(lw(y,t)){y.preventDefault();let v=r!==void 0?r:Wa(p)===Wa(g);f(a,{replace:v,state:s,preventScrollReset:i,relative:c,viewTransition:d})}},[p,f,g,r,s,t,a,i,c,d])}function Rw(a){nr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=j.useRef(ku(a)),r=j.useRef(!1),s=ln(),i=j.useMemo(()=>cw(s.search,r.current?null:t.current),[s.search]),c=Vt(),d=j.useCallback((f,p)=>{const g=ku(typeof f=="function"?f(new URLSearchParams(i)):f);r.current=!0,c("?"+g,p)},[c,i]);return[i,d]}var Iw=0,Ow=()=>`__${String(++Iw)}__`;function $w(){let{router:a}=sg("useSubmit"),{basename:t}=j.useContext(mr),r=Yv();return j.useCallback(async(s,i={})=>{let{action:c,method:d,encType:f,formData:p,body:g}=hw(s,t);if(i.navigate===!1){let y=i.fetcherKey||Ow();await a.fetch(y,r,i.action||c,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||d,formEncType:i.encType||f,flushSync:i.flushSync})}else await a.navigate(i.action||c,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||d,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[a,t,r])}function Lw(a,{relative:t}={}){let{basename:r}=j.useContext(mr),s=j.useContext(pr);Be(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),c={...Xa(a||".",{relative:t})},d=ln();if(a==null){c.search=d.search;let f=new URLSearchParams(c.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();c.search=y?`?${y}`:""}}return(!a||a===".")&&i.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:Pr([r,c.pathname])),Wa(c)}function Mw(a,{relative:t}={}){let r=j.useContext(Gp);Be(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=sg("useViewTransitionState"),i=Xa(a,{relative:t});if(!r.isTransitioning)return!1;let c=Ar(r.currentLocation.pathname,s)||r.currentLocation.pathname,d=Ar(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Fo(i.pathname,d)!=null||Fo(i.pathname,c)!=null}const Dw="modulepreload",Uw=function(a){return"/"+a},Bm={},Ya=function(t,r,s){let i=Promise.resolve();if(r&&r.length>0){let g=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var d=g;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");i=g(r.map(y=>{if(y=Uw(y),y in Bm)return;Bm[y]=!0;const v=y.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":Dw,v||(w.as="script"),w.crossOrigin="",w.href=y,p&&w.setAttribute("nonce",p),document.head.appendChild(w),v)return new Promise((k,N)=>{w.addEventListener("load",k),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return i.then(f=>{for(const p of f||[])p.status==="rejected"&&c(p.reason);return t().catch(c)})},Fw=a=>{let t;return a?t=a:typeof fetch>"u"?t=(...r)=>Ya(async()=>{const{default:s}=await Promise.resolve().then(()=>Ls);return{default:s}},[]).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)};class sd extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class zw extends sd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Wm extends sd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Hm extends sd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ju;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(ju||(ju={}));var Bw=function(a,t,r,s){function i(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function f(y){try{g(s.next(y))}catch(v){d(v)}}function p(y){try{g(s.throw(y))}catch(v){d(v)}}function g(y){y.done?c(y.value):i(y.value).then(f,p)}g((s=s.apply(a,t||[])).next())})};class Ww{constructor(t,{headers:r={},customFetch:s,region:i=ju.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=Fw(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var s;return Bw(this,void 0,void 0,function*(){try{const{headers:i,method:c,body:d}=r;let f={},{region:p}=r;p||(p=this.region);const g=new URL(`${this.url}/${t}`);p&&p!=="any"&&(f["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let y;d&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(f["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(f["Content-Type"]="application/json",y=JSON.stringify(d)));const v=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),i),body:y}).catch(N=>{throw new zw(N)}),b=v.headers.get("x-relay-error");if(b&&b==="true")throw new Wm(v);if(!v.ok)throw new Hm(v);let w=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),k;return w==="application/json"?k=yield v.json():w==="application/octet-stream"?k=yield v.blob():w==="text/event-stream"?k=v:w==="multipart/form-data"?k=yield v.formData():k=yield v.text(),{data:k,error:null,response:v}}catch(i){return{data:null,error:i,response:i instanceof Hm||i instanceof Wm?i.context:void 0}}})}}var it={},ds={},hs={},fs={},ms={},ps={},Hw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ts=Hw();const qw=Ts.fetch,ag=Ts.fetch.bind(Ts),ig=Ts.Headers,Vw=Ts.Request,Kw=Ts.Response,Ls=Object.freeze(Object.defineProperty({__proto__:null,Headers:ig,Request:Vw,Response:Kw,default:ag,fetch:qw},Symbol.toStringTag,{value:"Module"})),Jw=sv(Ls);var yo={},qm;function og(){if(qm)return yo;qm=1,Object.defineProperty(yo,"__esModule",{value:!0});class a extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yo.default=a,yo}var Vm;function lg(){if(Vm)return ps;Vm=1;var a=ps&&ps.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ps,"__esModule",{value:!0});const t=a(Jw),r=a(og());class s{constructor(c){var d,f;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(d=c.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=c.signal,this.isMaybeSingle=(f=c.isMaybeSingle)!==null&&f!==void 0?f:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=new Headers(this.headers),this.headers.set(c,d),this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,v,b,w;let k=null,N=null,C=null,$=g.status,T=g.statusText;if(g.ok){if(this.method!=="HEAD"){const U=await g.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?N=U:N=JSON.parse(U))}const L=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),H=(b=g.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");L&&H&&H.length>1&&(C=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(k={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,C=null,$=406,T="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const L=await g.text();try{k=JSON.parse(L),Array.isArray(k)&&g.status===404&&(N=[],k=null,$=200,T="OK")}catch{g.status===404&&L===""?($=204,T="No Content"):k={message:L}}if(k&&this.isMaybeSingle&&(!((w=k?.details)===null||w===void 0)&&w.includes("0 rows"))&&(k=null,$=200,T="OK"),k&&this.shouldThrowOnError)throw new r.default(k)}return{error:k,data:N,count:C,status:$,statusText:T}});return this.shouldThrowOnError||(p=p.catch(g=>{var y,v,b;return{error:{message:`${(y=g?.name)!==null&&y!==void 0?y:"FetchError"}: ${g?.message}`,details:`${(v=g?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(b=g?.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,d)}returns(){return this}overrideTypes(){return this}}return ps.default=s,ps}var Km;function cg(){if(Km)return ms;Km=1;var a=ms&&ms.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ms,"__esModule",{value:!0});const t=a(lg());class r extends t.default{select(i){let c=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:c=!0,nullsFirst:d,foreignTable:f,referencedTable:p=f}={}){const g=p?`${p}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${i}.${c?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:c,referencedTable:d=c}={}){const f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${i}`),this}range(i,c,{foreignTable:d,referencedTable:f=d}={}){const p=typeof f>"u"?"offset":`${f}.offset`,g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${i}`),this.url.searchParams.set(g,`${c-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:c=!1,settings:d=!1,buffers:f=!1,wal:p=!1,format:g="text"}={}){var y;const v=[i?"analyze":null,c?"verbose":null,d?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),b=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${b}"; options=${v};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return ms.default=r,ms}var Jm;function ad(){if(Jm)return fs;Jm=1;var a=fs&&fs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(fs,"__esModule",{value:!0});const t=a(cg());class r extends t.default{eq(i,c){return this.url.searchParams.append(i,`eq.${c}`),this}neq(i,c){return this.url.searchParams.append(i,`neq.${c}`),this}gt(i,c){return this.url.searchParams.append(i,`gt.${c}`),this}gte(i,c){return this.url.searchParams.append(i,`gte.${c}`),this}lt(i,c){return this.url.searchParams.append(i,`lt.${c}`),this}lte(i,c){return this.url.searchParams.append(i,`lte.${c}`),this}like(i,c){return this.url.searchParams.append(i,`like.${c}`),this}likeAllOf(i,c){return this.url.searchParams.append(i,`like(all).{${c.join(",")}}`),this}likeAnyOf(i,c){return this.url.searchParams.append(i,`like(any).{${c.join(",")}}`),this}ilike(i,c){return this.url.searchParams.append(i,`ilike.${c}`),this}ilikeAllOf(i,c){return this.url.searchParams.append(i,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(i,c){return this.url.searchParams.append(i,`ilike(any).{${c.join(",")}}`),this}is(i,c){return this.url.searchParams.append(i,`is.${c}`),this}in(i,c){const d=Array.from(new Set(c)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(i,`in.(${d})`),this}contains(i,c){return typeof c=="string"?this.url.searchParams.append(i,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(i,`cs.{${c.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(c)}`),this}containedBy(i,c){return typeof c=="string"?this.url.searchParams.append(i,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(i,`cd.{${c.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(c)}`),this}rangeGt(i,c){return this.url.searchParams.append(i,`sr.${c}`),this}rangeGte(i,c){return this.url.searchParams.append(i,`nxl.${c}`),this}rangeLt(i,c){return this.url.searchParams.append(i,`sl.${c}`),this}rangeLte(i,c){return this.url.searchParams.append(i,`nxr.${c}`),this}rangeAdjacent(i,c){return this.url.searchParams.append(i,`adj.${c}`),this}overlaps(i,c){return typeof c=="string"?this.url.searchParams.append(i,`ov.${c}`):this.url.searchParams.append(i,`ov.{${c.join(",")}}`),this}textSearch(i,c,{config:d,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(i,`${p}fts${g}.${c}`),this}match(i){return Object.entries(i).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(i,c,d){return this.url.searchParams.append(i,`not.${c}.${d}`),this}or(i,{foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${i})`),this}filter(i,c,d){return this.url.searchParams.append(i,`${c}.${d}`),this}}return fs.default=r,fs}var Gm;function ug(){if(Gm)return hs;Gm=1;var a=hs&&hs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(hs,"__esModule",{value:!0});const t=a(ad());class r{constructor(i,{headers:c={},schema:d,fetch:f}){this.url=i,this.headers=new Headers(c),this.schema=d,this.fetch=f}select(i,{head:c=!1,count:d}={}){const f=c?"HEAD":"GET";let p=!1;const g=(i??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",g),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:c,defaultToNull:d=!0}={}){var f;const p="POST";if(c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(g.length>0){const y=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(i,{onConflict:c,ignoreDuplicates:d=!1,count:f,defaultToNull:p=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const v=i.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(v.length>0){const b=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(i,{count:c}={}){var d;const f="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:i}={}){var c;const d="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return hs.default=r,hs}var Qm;function Gw(){if(Qm)return ds;Qm=1;var a=ds&&ds.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ds,"__esModule",{value:!0});const t=a(ug()),r=a(ad());class s{constructor(c,{headers:d={},schema:f,fetch:p}={}){this.url=c,this.headers=new Headers(d),this.schemaName=f,this.fetch=p}from(c){const d=new URL(`${this.url}/${c}`);return new t.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new s(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,d={},{head:f=!1,get:p=!1,count:g}={}){var y;let v;const b=new URL(`${this.url}/rpc/${c}`);let w;f||p?(v=f?"HEAD":"GET",Object.entries(d).filter(([N,C])=>C!==void 0).map(([N,C])=>[N,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([N,C])=>{b.searchParams.append(N,C)})):(v="POST",w=d);const k=new Headers(this.headers);return g&&k.set("Prefer",`count=${g}`),new r.default({method:v,url:b,headers:k,schema:this.schemaName,body:w,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return ds.default=s,ds}var Xm;function Qw(){if(Xm)return it;Xm=1;var a=it&&it.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(it,"__esModule",{value:!0}),it.PostgrestError=it.PostgrestBuilder=it.PostgrestTransformBuilder=it.PostgrestFilterBuilder=it.PostgrestQueryBuilder=it.PostgrestClient=void 0;const t=a(Gw());it.PostgrestClient=t.default;const r=a(ug());it.PostgrestQueryBuilder=r.default;const s=a(ad());it.PostgrestFilterBuilder=s.default;const i=a(cg());it.PostgrestTransformBuilder=i.default;const c=a(lg());it.PostgrestBuilder=c.default;const d=a(og());return it.PostgrestError=d.default,it.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:c.default,PostgrestError:d.default},it}var Xw=Qw();const Yw=Bp(Xw),{PostgrestClient:Zw,PostgrestQueryBuilder:D2,PostgrestFilterBuilder:U2,PostgrestTransformBuilder:F2,PostgrestBuilder:z2,PostgrestError:B2}=Yw;class eb{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const s=this.getWebSocketConstructor();return new s(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const tb="2.15.5",rb=`realtime-js/${tb}`,nb="1.0.0",Nu=1e4,sb=1e3,ab=100;var La;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(La||(La={}));var et;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(et||(et={}));var rr;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(rr||(rr={}));var Su;(function(a){a.websocket="websocket"})(Su||(Su={}));var Tn;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Tn||(Tn={}));class ib{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,r,s)}_decodeBroadcast(t,r,s){const i=r.getUint8(1),c=r.getUint8(2);let d=this.HEADER_LENGTH+2;const f=s.decode(t.slice(d,d+i));d=d+i;const p=s.decode(t.slice(d,d+c));d=d+c;const g=JSON.parse(s.decode(t.slice(d,t.byteLength)));return{ref:null,topic:f,event:p,payload:g}}}class dg{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})($e||($e={}));const Ym=(a,t,r={})=>{var s;const i=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((c,d)=>(c[d]=ob(d,a,t,i),c),{})},ob=(a,t,r,s)=>{const i=t.find(f=>f.name===a),c=i?.type,d=r[a];return c&&!s.includes(c)?hg(c,d):Eu(d)},hg=(a,t)=>{if(a.charAt(0)==="_"){const r=a.slice(1,a.length);return db(t,r)}switch(a){case $e.bool:return lb(t);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return cb(t);case $e.json:case $e.jsonb:return ub(t);case $e.timestamp:return hb(t);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return Eu(t);default:return Eu(t)}},Eu=a=>a,lb=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},cb=a=>{if(typeof a=="string"){const t=parseFloat(a);if(!Number.isNaN(t))return t}return a},ub=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(t){return console.log(`JSON parse error: ${t}`),a}return a},db=(a,t)=>{if(typeof a!="string")return a;const r=a.length-1,s=a[r];if(a[0]==="{"&&s==="}"){let c;const d=a.slice(1,r);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(f=>hg(t,f))}return a},hb=a=>typeof a=="string"?a.replace(" ","T"):a,fg=a=>{let t=a;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class su{constructor(t,r,s={},i=Nu){this.channel=t,this.event=r,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Zm;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Zm||(Zm={}));class Ma{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ma.syncState(this.state,i,c,d),this.pendingDiffs.forEach(p=>{this.state=Ma.syncDiff(this.state,p,c,d)}),this.pendingDiffs=[],f()}),this.channel._on(s.diff,{},i=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ma.syncDiff(this.state,i,c,d),f())}),this.onJoin((i,c,d)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:c,newPresences:d})}),this.onLeave((i,c,d)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,i){const c=this.cloneDeep(t),d=this.transformState(r),f={},p={};return this.map(c,(g,y)=>{d[g]||(p[g]=y)}),this.map(d,(g,y)=>{const v=c[g];if(v){const b=y.map(C=>C.presence_ref),w=v.map(C=>C.presence_ref),k=y.filter(C=>w.indexOf(C.presence_ref)<0),N=v.filter(C=>b.indexOf(C.presence_ref)<0);k.length>0&&(f[g]=k),N.length>0&&(p[g]=N)}else f[g]=y}),this.syncDiff(c,{joins:f,leaves:p},s,i)}static syncDiff(t,r,s,i){const{joins:c,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(c,(f,p)=>{var g;const y=(g=t[f])!==null&&g!==void 0?g:[];if(t[f]=this.cloneDeep(p),y.length>0){const v=t[f].map(w=>w.presence_ref),b=y.filter(w=>v.indexOf(w.presence_ref)<0);t[f].unshift(...b)}s(f,y,p)}),this.map(d,(f,p)=>{let g=t[f];if(!g)return;const y=p.map(v=>v.presence_ref);g=g.filter(v=>y.indexOf(v.presence_ref)<0),t[f]=g,i(f,g,p),g.length===0&&delete t[f]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const i=t[s];return"metas"in i?r[s]=i.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[s]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ep;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(ep||(ep={}));var Da;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Da||(Da={}));var Cr;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(Cr||(Cr={}));class id{constructor(t,r={config:{}},s){this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new su(this,rr.join,this.params,this.timeout),this.rejoinTimer=new dg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rr.reply,{},(i,c)=>{this._trigger(this._replyEventName(c),i)}),this.presence=new Ma(this),this.broadcastEndpointURL=fg(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var s,i,c;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:d,presence:f,private:p}}=this.params,g=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(w=>w.filter))!==null&&i!==void 0?i:[],y=!!this.bindings[Da.PRESENCE]&&this.bindings[Da.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,v={},b={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(Cr.CHANNEL_ERROR,w)),this._onClose(()=>t?.(Cr.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var k;if(this.socket.setAuth(),w===void 0){t?.(Cr.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,C=(k=N?.length)!==null&&k!==void 0?k:0,$=[];for(let T=0;T<C;T++){const M=N[T],{filter:{event:L,schema:H,table:U,filter:B}}=M,te=w&&w[T];if(te&&te.event===L&&te.schema===H&&te.table===U&&te.filter===B)$.push(Object.assign(Object.assign({},M),{id:te.id}));else{this.unsubscribe(),this.state=et.errored,t?.(Cr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=$,t&&t(Cr.SUBSCRIBED);return}}).receive("error",w=>{this.state=et.errored,t?.(Cr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(Cr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this.state===et.joined&&t===Da.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,s)}async send(t,r={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){const{event:c,payload:d}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=g.body)===null||i===void 0?void 0:i.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,f,p;const g=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=et.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new su(this,rr.leave,{},t),s.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(t,r,s){const i=new AbortController,c=setTimeout(()=>i.abort(),s),d=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(c),d}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new su(this,t,r,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ab){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var i,c;const d=t.toLocaleLowerCase(),{close:f,error:p,leave:g,join:y}=rr;if(s&&[f,p,g,y].indexOf(d)>=0&&s!==this._joinRef())return;let b=this._onMessage(d,r,s);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var k,N,C;return((k=w.filter)===null||k===void 0?void 0:k.event)==="*"||((C=(N=w.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===d}).map(w=>w.callback(b,s)):(c=this.bindings[d])===null||c===void 0||c.filter(w=>{var k,N,C,$,T,M;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in w){const L=w.id,H=(k=w.filter)===null||k===void 0?void 0:k.event;return L&&((N=r.ids)===null||N===void 0?void 0:N.includes(L))&&(H==="*"||H?.toLocaleLowerCase()===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const L=(T=($=w?.filter)===null||$===void 0?void 0:$.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return L==="*"||L===((M=r?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===d}).map(w=>{if(typeof b=="object"&&"ids"in b){const k=b.data,{schema:N,table:C,commit_timestamp:$,type:T,errors:M}=k;b=Object.assign(Object.assign({},{schema:N,table:C,commit_timestamp:$,eventType:T,new:{},old:{},errors:M}),this._getPayloadRecords(k))}w.callback(b,s)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const i=t.toLocaleLowerCase(),c={type:i,filter:r,callback:s};return this.bindings[i]?this.bindings[i].push(c):this.bindings[i]=[c],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var c;return!(((c=i.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===s&&id.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rr.close,{},t)}_onError(t){this._on(rr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ym(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ym(t.columns,t.old_record)),r}}const au=()=>{},xo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fb=[1e3,2e3,5e3,1e4],mb=1e4,pb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gb{constructor(t,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nu,this.transport=null,this.heartbeatIntervalMs=xo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=au,this.ref=0,this.reconnectTimer=null,this.logger=au,this.conn=null,this.sendBuffer=[],this.serializer=new ib,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let c;return i?c=i:typeof fetch>"u"?c=(...d)=>Ya(async()=>{const{default:f}=await Promise.resolve().then(()=>Ls);return{default:f}},void 0).then(({default:f})=>f(...d)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...d)=>c(...d)},!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Su.websocket}`,this.httpEndpoint=fg(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=eb.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:nb}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case La.connecting:return Tn.Connecting;case La.open:return Tn.Open;case La.closing:return Tn.Closing;default:return Tn.Closed}}isConnected(){return this.connectionState()===Tn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(c=>c.topic===s);if(i)return i;{const c=new id(`realtime:${t}`,r,this);return this.channels.push(c),c}}push(t){const{topic:r,event:s,payload:i,ref:c}=t,d=()=>{this.encode(t,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${r} ${s} (${c})`,i),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(sb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},xo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:c,ref:d}=r,f=d?`(${d})`:"",p=c.status||"";this.log("receive",`${p} ${s} ${i} ${f}`.trim(),c),this.channels.filter(g=>g._isMember(s)).forEach(g=>g._trigger(i,c,d)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(rr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${s}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([pb],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:rb};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(rr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new dg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,s,i,c,d,f,p,g,y;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=t?.timeout)!==null&&s!==void 0?s:Nu,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:xo.HEARTBEAT_INTERVAL,this.worker=(c=t?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=t?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:au,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(v=>fb[v-1]||mb),this.encode=(g=t?.encode)!==null&&g!==void 0?g:((v,b)=>b(JSON.stringify(v))),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class od extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function rt(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class yb extends od{constructor(t,r,s){super(t),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cu extends od{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var xb=function(a,t,r,s){function i(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function f(y){try{g(s.next(y))}catch(v){d(v)}}function p(y){try{g(s.throw(y))}catch(v){d(v)}}function g(y){y.done?c(y.value):i(y.value).then(f,p)}g((s=s.apply(a,t||[])).next())})};const mg=a=>{let t;return a?t=a:typeof fetch>"u"?t=(...r)=>Ya(async()=>{const{default:s}=await Promise.resolve().then(()=>Ls);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},vb=()=>xb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ya(()=>Promise.resolve().then(()=>Ls),void 0)).Response:Response}),Pu=a=>{if(Array.isArray(a))return a.map(r=>Pu(r));if(typeof a=="function"||a!==Object(a))return a;const t={};return Object.entries(a).forEach(([r,s])=>{const i=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[i]=Pu(s)}),t},wb=a=>{if(typeof a!="object"||a===null)return!1;const t=Object.getPrototypeOf(a);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)};var Dn=function(a,t,r,s){function i(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function f(y){try{g(s.next(y))}catch(v){d(v)}}function p(y){try{g(s.throw(y))}catch(v){d(v)}}function g(y){y.done?c(y.value):i(y.value).then(f,p)}g((s=s.apply(a,t||[])).next())})};const iu=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),bb=(a,t,r)=>Dn(void 0,void 0,void 0,function*(){const s=yield vb();a instanceof s&&!r?.noResolveJson?a.json().then(i=>{const c=a.status||500,d=i?.statusCode||c+"";t(new yb(iu(i),c,d))}).catch(i=>{t(new Cu(iu(i),i))}):t(new Cu(iu(a),a))}),_b=(a,t,r,s)=>{const i={method:a,headers:t?.headers||{}};return a==="GET"||!s?i:(wb(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(s)):i.body=s,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Za(a,t,r,s,i,c){return Dn(this,void 0,void 0,function*(){return new Promise((d,f)=>{a(r,_b(t,s,i,c)).then(p=>{if(!p.ok)throw p;return s?.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>bb(p,f,s))})})}function zo(a,t,r,s){return Dn(this,void 0,void 0,function*(){return Za(a,"GET",t,r,s)})}function ur(a,t,r,s,i){return Dn(this,void 0,void 0,function*(){return Za(a,"POST",t,s,i,r)})}function Tu(a,t,r,s,i){return Dn(this,void 0,void 0,function*(){return Za(a,"PUT",t,s,i,r)})}function kb(a,t,r,s){return Dn(this,void 0,void 0,function*(){return Za(a,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function pg(a,t,r,s,i){return Dn(this,void 0,void 0,function*(){return Za(a,"DELETE",t,s,i,r)})}var bt=function(a,t,r,s){function i(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function f(y){try{g(s.next(y))}catch(v){d(v)}}function p(y){try{g(s.throw(y))}catch(v){d(v)}}function g(y){y.done?c(y.value):i(y.value).then(f,p)}g((s=s.apply(a,t||[])).next())})};const jb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Nb{constructor(t,r={},s,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=s,this.fetch=mg(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,s,i){return bt(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},tp),i);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl),p&&c.append("metadata",this.encodeMetadata(p))):(c=s,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),i?.headers&&(f=Object.assign(Object.assign({},f),i.headers));const g=this._removeEmptyFolders(r),y=this._getFinalPath(g),v=yield(t=="PUT"?Tu:ur)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:f},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:v.Id,fullPath:v.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(rt(c))return{data:null,error:c};throw c}})}upload(t,r,s){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,s)})}uploadToSignedUrl(t,r,s,i){return bt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(t),d=this._getFinalPath(c),f=new URL(this.url+`/object/upload/sign/${d}`);f.searchParams.set("token",r);try{let p;const g=Object.assign({upsert:tp.upsert},i),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",g.cacheControl)):(p=s,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const v=yield Tu(this.fetch,f.toString(),p,{headers:y});return{data:{path:c,fullPath:v.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(rt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,r){return bt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const c=yield ur(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),d=new URL(this.url+c.url),f=d.searchParams.get("token");if(!f)throw new od("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:f},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rt(s))return{data:null,error:s};throw s}})}update(t,r,s){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,s)})}move(t,r,s){return bt(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}copy(t,r,s){return bt(this,void 0,void 0,function*(){try{return{data:{path:(yield ur(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,s){return bt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),c=yield ur(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,s){return bt(this,void 0,void 0,function*(){try{const i=yield ur(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}download(t,r){return bt(this,void 0,void 0,function*(){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(r?.transform||{}),d=c?`?${c}`:"";try{const f=this._getFinalPath(t);return{data:yield(yield zo(this.fetch,`${this.url}/${i}/${f}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(rt(f))return{data:null,error:f};throw f}})}info(t){return bt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const s=yield zo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Pu(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rt(s))return{data:null,error:s};throw s}})}exists(t){return bt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield kb(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rt(s)&&s instanceof Cu){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,r){const s=this._getFinalPath(t),i=[],c=r?.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&i.push(c);const f=typeof r?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(r?.transform||{});p!==""&&i.push(p);let g=i.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${s}${g}`)}}}remove(t){return bt(this,void 0,void 0,function*(){try{return{data:yield pg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}list(t,r,s){return bt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},jb),r),{prefix:t||""});return{data:yield ur(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}})}listV2(t,r){return bt(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield ur(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Sb="2.12.1",Eb={"X-Client-Info":`storage-js/${Sb}`};var gs=function(a,t,r,s){function i(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function f(y){try{g(s.next(y))}catch(v){d(v)}}function p(y){try{g(s.throw(y))}catch(v){d(v)}}function g(y){y.done?c(y.value):i(y.value).then(f,p)}g((s=s.apply(a,t||[])).next())})};class Cb{constructor(t,r={},s,i){this.shouldThrowOnError=!1;const c=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},Eb),r),this.fetch=mg(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return gs(this,void 0,void 0,function*(){try{return{data:yield zo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rt(t))return{data:null,error:t};throw t}})}getBucket(t){return gs(this,void 0,void 0,function*(){try{return{data:yield zo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return gs(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rt(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return gs(this,void 0,void 0,function*(){try{return{data:yield Tu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return gs(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return gs(this,void 0,void 0,function*(){try{return{data:yield pg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}}class Pb extends Cb{constructor(t,r={},s,i){super(t,r,s,i)}from(t){return new Nb(this.url,this.headers,t,this.fetch)}}const Tb="2.57.4";let Sa="";typeof Deno<"u"?Sa="deno":typeof document<"u"?Sa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sa="react-native":Sa="node";const Ab={"X-Client-Info":`supabase-js-${Sa}/${Tb}`},Rb={headers:Ab},Ib={schema:"public"},Ob={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$b={};var Lb=function(a,t,r,s){function i(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function f(y){try{g(s.next(y))}catch(v){d(v)}}function p(y){try{g(s.throw(y))}catch(v){d(v)}}function g(y){y.done?c(y.value):i(y.value).then(f,p)}g((s=s.apply(a,t||[])).next())})};const Mb=a=>{let t;return a?t=a:typeof fetch>"u"?t=ag:t=fetch,(...r)=>t(...r)},Db=()=>typeof Headers>"u"?ig:Headers,Ub=(a,t,r)=>{const s=Mb(r),i=Db();return(c,d)=>Lb(void 0,void 0,void 0,function*(){var f;const p=(f=yield t())!==null&&f!==void 0?f:a;let g=new i(d?.headers);return g.has("apikey")||g.set("apikey",a),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),s(c,Object.assign(Object.assign({},d),{headers:g}))})};var Fb=function(a,t,r,s){function i(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function f(y){try{g(s.next(y))}catch(v){d(v)}}function p(y){try{g(s.throw(y))}catch(v){d(v)}}function g(y){y.done?c(y.value):i(y.value).then(f,p)}g((s=s.apply(a,t||[])).next())})};function zb(a){return a.endsWith("/")?a:a+"/"}function Bb(a,t){var r,s;const{db:i,auth:c,realtime:d,global:f}=a,{db:p,auth:g,realtime:y,global:v}=t,b={db:Object.assign(Object.assign({},p),i),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},v),f),{headers:Object.assign(Object.assign({},(r=v?.headers)!==null&&r!==void 0?r:{}),(s=f?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Fb(this,void 0,void 0,function*(){return""})};return a.accessToken?b.accessToken=a.accessToken:delete b.accessToken,b}function Wb(a){const t=a?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zb(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const gg="2.71.1",js=30*1e3,Au=3,ou=Au*js,Hb="http://localhost:9999",qb="supabase.auth.token",Vb={"X-Client-Info":`gotrue-js/${gg}`},Ru="X-Supabase-Api-Version",yg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Kb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Jb=600*1e3;class ld extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function ke(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class Gb extends ld{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Qb(a){return ke(a)&&a.name==="AuthApiError"}class xg extends ld{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class cn extends ld{constructor(t,r,s,i){super(t,s,i),this.name=r,this.status=s}}class sn extends cn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xb(a){return ke(a)&&a.name==="AuthSessionMissingError"}class vo extends cn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wo extends cn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class bo extends cn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Yb(a){return ke(a)&&a.name==="AuthImplicitGrantRedirectError"}class rp extends cn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Iu extends cn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function lu(a){return ke(a)&&a.name==="AuthRetryableFetchError"}class np extends cn{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Ou extends cn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),sp=` 	
\r=`.split(""),Zb=(()=>{const a=new Array(128);for(let t=0;t<a.length;t+=1)a[t]=-1;for(let t=0;t<sp.length;t+=1)a[sp[t].charCodeAt(0)]=-2;for(let t=0;t<Bo.length;t+=1)a[Bo[t].charCodeAt(0)]=t;return a})();function ap(a,t,r){if(a!==null)for(t.queue=t.queue<<8|a,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(Bo[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(Bo[s]),t.queuedBits-=6}}function vg(a,t,r){const s=Zb[a];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function ip(a){const t=[],r=d=>{t.push(String.fromCodePoint(d))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},c=d=>{r1(d,s,r)};for(let d=0;d<a.length;d+=1)vg(a.charCodeAt(d),i,c);return t.join("")}function e1(a,t){if(a<=127){t(a);return}else if(a<=2047){t(192|a>>6),t(128|a&63);return}else if(a<=65535){t(224|a>>12),t(128|a>>6&63),t(128|a&63);return}else if(a<=1114111){t(240|a>>18),t(128|a>>12&63),t(128|a>>6&63),t(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function t1(a,t){for(let r=0;r<a.length;r+=1){let s=a.charCodeAt(r);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(a.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}e1(s,t)}}function r1(a,t,r){if(t.utf8seq===0){if(a<=127){r(a);return}for(let s=1;s<6;s+=1)if((a>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=a&31;else if(t.utf8seq===3)t.codepoint=a&15;else if(t.utf8seq===4)t.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|a&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function n1(a){const t=[],r={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<a.length;i+=1)vg(a.charCodeAt(i),r,s);return new Uint8Array(t)}function s1(a){const t=[];return t1(a,r=>t.push(r)),new Uint8Array(t)}function a1(a){const t=[],r={queue:0,queuedBits:0},s=i=>{t.push(i)};return a.forEach(i=>ap(i,r,s)),ap(null,r,s),t.join("")}function i1(a){return Math.round(Date.now()/1e3)+a}function o1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const t=Math.random()*16|0;return(a=="x"?t:t&3|8).toString(16)})}const er=()=>typeof window<"u"&&typeof document<"u",Sn={tested:!1,writable:!1},wg=()=>{if(!er())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sn.tested)return Sn.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Sn.tested=!0,Sn.writable=!0}catch{Sn.tested=!0,Sn.writable=!1}return Sn.writable};function l1(a){const t={},r=new URL(a);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,c)=>{t[c]=i})}catch{}return r.searchParams.forEach((s,i)=>{t[i]=s}),t}const bg=a=>{let t;return a?t=a:typeof fetch>"u"?t=(...r)=>Ya(async()=>{const{default:s}=await Promise.resolve().then(()=>Ls);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},c1=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Ns=async(a,t,r)=>{await a.setItem(t,JSON.stringify(r))},En=async(a,t)=>{const r=await a.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},tn=async(a,t)=>{await a.removeItem(t)};class Zo{constructor(){this.promise=new Zo.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Zo.promiseConstructor=Promise;function cu(a){const t=a.split(".");if(t.length!==3)throw new Ou("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Kb.test(t[s]))throw new Ou("JWT not in base64url format");return{header:JSON.parse(ip(t[0])),payload:JSON.parse(ip(t[1])),signature:n1(t[2]),raw:{header:t[0],payload:t[1]}}}async function u1(a){return await new Promise(t=>{setTimeout(()=>t(null),a)})}function d1(a,t){return new Promise((s,i)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await a(c);if(!t(c,null,d)){s(d);return}}catch(d){if(!t(c,d)){i(d);return}}})()})}function h1(a){return("0"+a.toString(16)).substr(-2)}function f1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let i="";for(let c=0;c<56;c++)i+=r.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,h1).join("")}async function m1(a){const r=new TextEncoder().encode(a),s=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(s);return Array.from(i).map(c=>String.fromCharCode(c)).join("")}async function p1(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const r=await m1(a);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ys(a,t,r=!1){const s=f1();let i=s;r&&(i+="/PASSWORD_RECOVERY"),await Ns(a,`${t}-code-verifier`,i);const c=await p1(s);return[c,s===c?"plain":"s256"]}const g1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function y1(a){const t=a.headers.get(Ru);if(!t||!t.match(g1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function x1(a){if(!a)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(a<=t)throw new Error("JWT has expired")}function v1(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const w1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xs(a){if(!w1.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function uu(){const a={};return new Proxy(a,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function op(a){return JSON.parse(JSON.stringify(a))}var b1=function(a,t){var r={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(r[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(a);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(a,s[i])&&(r[s[i]]=a[s[i]]);return r};const Cn=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),_1=[502,503,504];async function lp(a){var t;if(!c1(a))throw new Iu(Cn(a),0);if(_1.includes(a.status))throw new Iu(Cn(a),a.status);let r;try{r=await a.json()}catch(c){throw new xg(Cn(c),c)}let s;const i=y1(a);if(i&&i.getTime()>=yg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new np(Cn(r),a.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new sn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new np(Cn(r),a.status,r.weak_password.reasons);throw new Gb(Cn(r),a.status||500,s)}const k1=(a,t,r,s)=>{const i={method:a,headers:t?.headers||{}};return a==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),r))};async function Se(a,t,r,s){var i;const c=Object.assign({},s?.headers);c[Ru]||(c[Ru]=yg["2024-01-01"].name),s?.jwt&&(c.Authorization=`Bearer ${s.jwt}`);const d=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(d.redirect_to=s.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await j1(a,t,r+f,{headers:c,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(p):{data:Object.assign({},p),error:null}}async function j1(a,t,r,s,i,c){const d=k1(t,s,i,c);let f;try{f=await a(r,Object.assign({},d))}catch(p){throw console.error(p),new Iu(Cn(p),0)}if(f.ok||await lp(f),s?.noResolveJson)return f;try{return await f.json()}catch(p){await lp(p)}}function Sr(a){var t;let r=null;C1(a)&&(r=Object.assign({},a),a.expires_at||(r.expires_at=i1(a.expires_in)));const s=(t=a.user)!==null&&t!==void 0?t:a;return{data:{session:r,user:s},error:null}}function cp(a){const t=Sr(a);return!t.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=a.weak_password),t}function an(a){var t;return{data:{user:(t=a.user)!==null&&t!==void 0?t:a},error:null}}function N1(a){return{data:a,error:null}}function S1(a){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:i,verification_type:c}=a,d=b1(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:r,hashed_token:s,redirect_to:i,verification_type:c},p=Object.assign({},d);return{data:{properties:f,user:p},error:null}}function E1(a){return a}function C1(a){return a.access_token&&a.refresh_token&&a.expires_in}const du=["global","local","others"];var P1=function(a,t){var r={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(r[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(a);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(a,s[i])&&(r[s[i]]=a[s[i]]);return r};class T1{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=bg(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=du[0]){if(du.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${du.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:an})}catch(s){if(ke(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=P1(t,["options"]),i=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:S1,redirectTo:r?.redirectTo})}catch(r){if(ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:an})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,i,c,d,f,p;try{const g={nextPage:null,lastPage:0,total:0},y=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(c=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&c!==void 0?c:""},xform:E1});if(y.error)throw y.error;const v=await y.json(),b=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(k=>{const N=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(k.split(";")[1].split("=")[1]);g[`${C}Page`]=N}),g.total=parseInt(b)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(ke(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){xs(t);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:an})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){xs(t);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:an})}catch(s){if(ke(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){xs(t);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:an})}catch(s){if(ke(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){xs(t.userId);try{const{data:r,error:s}=await Se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:s}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _deleteFactor(t){xs(t.userId),xs(t.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}}function up(a={}){return{getItem:t=>a[t]||null,setItem:(t,r)=>{a[t]=r},removeItem:t=>{delete a[t]}}}function A1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vs={debug:!!(globalThis&&wg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _g extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class R1 extends _g{}async function I1(a,t,r){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),vs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,i.name);try{return await r()}finally{vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,i.name)}}else{if(t===0)throw vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new R1(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(vs.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}A1();const O1={url:Hb,storageKey:qb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function dp(a,t,r){return await r()}const ws={};class Ha{constructor(t){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ha.nextInstanceID,Ha.nextInstanceID+=1,this.instanceID>0&&er()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},O1),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new T1({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=bg(i.fetch),this.lock=i.lock||dp,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:er()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=I1:this.lock=dp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:wg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=up(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=up(this.memoryStorage)),er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=ws[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ws[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=l1(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),er()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:c}=await this._getSessionFromURL(r,s);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Yb(c)){const p=(t=c.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:f}=i;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ke(r)?{error:r}:{error:new xg("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,i;try{const c=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Sr}),{data:d,error:f}=c;if(f||!d)return{data:{user:null,session:null},error:f};const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(ke(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(t){var r,s,i;try{let c;if("email"in t){const{email:y,password:v,options:b}=t;let w=null,k=null;this.flowType==="pkce"&&([w,k]=await ys(this.storage,this.storageKey)),c=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:y,password:v,data:(r=b?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:w,code_challenge_method:k},xform:Sr})}else if("phone"in t){const{phone:y,password:v,options:b}=t;c=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(s=b?.data)!==null&&s!==void 0?s:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Sr})}else throw new wo("You must provide either an email or phone number and a password");const{data:d,error:f}=c;if(f||!d)return{data:{user:null,session:null},error:f};const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(ke(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(t){try{let r;if("email"in t){const{email:c,password:d,options:f}=t;r=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:cp})}else if("phone"in t){const{phone:c,password:d,options:f}=t;r=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:cp})}else throw new wo("You must provide either an email or phone number and a password");const{data:s,error:i}=r;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new vo}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,s,i,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,s,i,c,d,f,p,g,y,v,b,w;let k,N;if("message"in t)k=t.message,N=t.signature;else{const{chain:C,wallet:$,statement:T,options:M}=t;let L;if(er())if(typeof $=="object")L=$;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))L=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=$}const H=new URL((r=M?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in L&&L.signIn){const U=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),T?{statement:T}:null));let B;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")B=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)B=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)k=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),N=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${H.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(i=(s=M?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((c=M?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((d=M?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((f=M?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((p=M?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((g=M?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((v=(y=M?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...M.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const U=await L.signMessage(new TextEncoder().encode(k),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=U}}try{const{data:C,error:$}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:a1(N)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Sr});if($)throw $;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new vo}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:$})}catch(C){if(ke(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(t){const r=await En(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(r??"").split("/");try{const{data:c,error:d}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Sr});if(await tn(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new vo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:i??null}),error:d})}catch(c){if(ke(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(t){try{const{options:r,provider:s,token:i,access_token:c,nonce:d}=t,f=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Sr}),{data:p,error:g}=f;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new vo}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,s,i,c,d;try{if("email"in t){const{email:f,options:p}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await ys(this.storage,this.storageKey));const{error:v}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(s=p?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:f,options:p}=t,{data:g,error:y}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(i=p?.data)!==null&&i!==void 0?i:{},create_user:(c=p?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(d=p?.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:y}}throw new wo("You must provide either an email or phone number.")}catch(f){if(ke(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(t){var r,s;try{let i,c;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,c=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:f}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:i,xform:Sr});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,g=d.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,s,i;try{let c=null,d=null;return this.flowType==="pkce"&&([c,d]=await ys(this.storage,this.storageKey)),await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:N1})}catch(c){if(ke(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new sn;const{error:i}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ke(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:c}=t,{error:d}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in t){const{phone:s,type:i,options:c}=t,{data:d,error:f}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new wo("You must provide either an email or phone number and a type")}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await En(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<ou:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const d=await En(this.userStorage,this.storageKey+"-user");d?.user?t.user=d.user:t.user=uu()}if(this.storage.isServer&&t.user){let d=this.suppressGetSessionWarning;t=new Proxy(t,{get:(p,g,y)=>(!d&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,y))})}return{data:{session:t},error:null}}const{session:i,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{session:null},error:c}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:an}):await this._useSession(async r=>{var s,i,c;const{data:d,error:f}=r;if(f)throw f;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sn}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(i=d.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0,xform:an})})}catch(r){if(ke(r))return Xb(r)&&(await this._removeSession(),await tn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:i,error:c}=s;if(c)throw c;if(!i.session)throw new sn;const d=i.session;let f=null,p=null;this.flowType==="pkce"&&t.email!=null&&([f,p]=await ys(this.storage,this.storageKey));const{data:g,error:y}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:p}),jwt:d.access_token,xform:an});if(y)throw y;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(s){if(ke(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new sn;const r=Date.now()/1e3;let s=r,i=!0,c=null;const{payload:d}=cu(t.access_token);if(d.exp&&(s=d.exp,i=s<=r),i){const{session:f,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:p}=await this._getUser(t.access_token);if(p)throw p;c={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(r){if(ke(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:d,error:f}=r;if(f)throw f;t=(s=d.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new sn;const{session:i,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{user:null,session:null},error:c}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!er())throw new bo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new rp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new rp("No code detected.");const{data:T,error:M}=await this._exchangeCodeForSession(t.code);if(M)throw M;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:c,refresh_token:d,expires_in:f,expires_at:p,token_type:g}=t;if(!c||!f||!d||!g)throw new bo("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(f);let b=y+v;p&&(b=parseInt(p));const w=b-y;w*1e3<=js&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const k=b-v;y-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,b,y):y-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,b,y);const{data:N,error:C}=await this._getUser(c);if(C)throw C;const $={provider_token:s,provider_refresh_token:i,access_token:c,expires_in:v,expires_at:b,refresh_token:d,token_type:g,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:$,redirectType:t.type},error:null}}catch(s){if(ke(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await En(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:i,error:c}=r;if(c)return{error:c};const d=(s=i.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:f}=await this.admin.signOut(d,t);if(f&&!(Qb(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return t!=="others"&&(await this._removeSession(),await tn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=o1(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,i;try{const{data:{session:c},error:d}=r;if(d)throw d;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,r={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await ys(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(ke(c))return{data:null,error:c};throw c}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:s,error:i}=await this._useSession(async c=>{var d,f,p,g,y;const{data:v,error:b}=c;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(i)throw i;return er()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:t.provider,url:s?.url},error:null}}catch(s){if(ke(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,i;const{data:c,error:d}=r;if(d)throw d;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await d1(async i=>(i>0&&await u1(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Sr})),(i,c)=>{const d=200*Math.pow(2,i);return c&&lu(c)&&Date.now()+d-s<js})}catch(s){if(this._debug(r,"error",s),ke(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),er()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await En(this.storage,this.storageKey);if(i&&this.userStorage){let d=await En(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:i.user},await Ns(this.userStorage,this.storageKey+"-user",d)),i.user=(t=d?.user)!==null&&t!==void 0?t:uu()}else if(i&&!i.user&&!i.user){const d=await En(this.storage,this.storageKey+"-user");d&&d?.user?(i.user=d.user,await tn(this.storage,this.storageKey+"-user"),await Ns(this.storage,this.storageKey,i)):i.user=uu()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const c=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ou;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${ou}s`),c){if(this.autoRefreshToken&&i.refresh_token){const{error:d}=await this._callRefreshToken(i.refresh_token);d&&(console.error(d),lu(d)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(i.access_token);!f&&d?.user?(i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(s,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new sn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Zo;const{data:c,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!c.session)throw new sn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={session:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(i,"error",c),ke(c)){const d={session:null,error:c};return lu(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(c),c}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,r)}catch(p){c.push(p)}});if(await Promise.all(d),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Ns(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const c=op(i);await Ns(this.storage,this.storageKey,c)}else{const i=op(r);await Ns(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await tn(this.storage,this.storageKey),await tn(this.storage,this.storageKey+"-code-verifier"),await tn(this.storage,this.storageKey+"-user"),this.userStorage&&await tn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&er()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),js);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/js);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${js}ms, refresh threshold is ${Au} ticks`),i<=Au&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _g)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!er()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const i=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[c,d]=await ys(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});i.push(f.toString())}if(s?.queryParams){const c=new URLSearchParams(s.queryParams);i.push(c.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:i,error:c}=r;return c?{data:null,error:c}:await Se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,i;const{data:c,error:d}=r;if(d)return{data:null,error:d};const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:p,error:g}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});return g?{data:null,error:g}:(t.factorType==="totp"&&(!((i=p?.totp)===null||i===void 0)&&i.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:i,error:c}=r;if(c)return{data:null,error:c};const{data:d,error:f}=await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:f})})}catch(r){if(ke(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:i,error:c}=r;return c?{data:null,error:c}:await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(ke(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=t?.factors||[],i=s.filter(d=>d.factor_type==="totp"&&d.status==="verified"),c=s.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:s,totp:i,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,s;const{data:{session:i},error:c}=t;if(c)return{data:null,error:c};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=cu(i.access_token);let f=null;d.aal&&(f=d.aal);let p=f;((s=(r=i.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const y=d.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(f=>f.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(f=>f.kid===t),s&&this.jwks_cached_at+Jb>i)return s;const{data:c,error:d}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=i,s=c.keys.find(f=>f.kid===t),!s)?null:s}async getClaims(t,r={}){try{let s=t;if(!s){const{data:w,error:k}=await this.getSession();if(k||!w.session)return{data:null,error:k};s=w.session.access_token}const{header:i,payload:c,signature:d,raw:{header:f,payload:p}}=cu(s);r?.allowExpired||x1(c.exp);const g=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!g){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:c,header:i,signature:d},error:null}}const y=v1(i.alg),v=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,d,s1(`${f}.${p}`)))throw new Ou("Invalid JWT signature");return{data:{claims:c,header:i,signature:d},error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}}}Ha.nextInstanceID=0;const $1=Ha;class L1 extends $1{constructor(t){super(t)}}var M1=function(a,t,r,s){function i(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function f(y){try{g(s.next(y))}catch(v){d(v)}}function p(y){try{g(s.throw(y))}catch(v){d(v)}}function g(y){y.done?c(y.value):i(y.value).then(f,p)}g((s=s.apply(a,t||[])).next())})};class D1{constructor(t,r,s){var i,c,d;this.supabaseUrl=t,this.supabaseKey=r;const f=Wb(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const p=`sb-${f.hostname.split(".")[0]}-auth-token`,g={db:Ib,realtime:$b,auth:Object.assign(Object.assign({},Ob),{storageKey:p}),global:Rb},y=Bb(s??{},g);this.storageKey=(i=y.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=Ub(r,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new Zw(new URL("rest/v1",f).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Pb(this.storageUrl.href,this.headers,this.fetch,s?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Ww(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},s={}){return this.rest.rpc(t,r,s)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return M1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:i,userStorage:c,storageKey:d,flowType:f,lock:p,debug:g},y,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new L1({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),y),storageKey:d,autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:i,userStorage:c,flowType:f,lock:p,debug:g,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new gb(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s?.access_token)})}_handleTokenChanged(t,r,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const U1=(a,t,r)=>new D1(a,t,r);function F1(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const t=a.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}F1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const z1="https://pfqtnmtsyomnhumpeeug.supabase.co",B1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBmcXRubXRzeW9tbmh1bXBlZXVnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg3NjYwOTYsImV4cCI6MjA3NDM0MjA5Nn0.N18g4vFZc512C6diiZlh3SI9qtP_YueJtGY072zZ4CY",He=U1(z1,B1),W1=()=>{try{localStorage.removeItem("sb-"+"https://pfqtnmtsyomnhumpeeug.supabase.co".split("//")[1].split(".")[0]+"-auth-token");const t=[];for(let r=0;r<localStorage.length;r++){const s=localStorage.key(r);s&&(s.includes("supabase")||s.includes("auth"))&&t.push(s)}t.forEach(r=>{localStorage.removeItem(r)}),console.log("All auth data cleared from localStorage")}catch(a){console.error("Error clearing auth data:",a)}},H1=()=>{console.log("=== Auth Debug Info ==="),console.log("LocalStorage keys:",Object.keys(localStorage)),console.log("Supabase URL:",He.supabaseUrl);const a=Object.keys(localStorage).filter(t=>t.includes("supabase")||t.includes("auth"));console.log("Auth-related keys:",a),a.forEach(t=>{console.log(`${t}:`,localStorage.getItem(t))}),console.log("========================")},kg=j.createContext(void 0),Un=()=>{const a=j.useContext(kg);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a},q1=({children:a})=>{const[t,r]=j.useState(null),[s,i]=j.useState(null),[c,d]=j.useState(!0);j.useEffect(()=>{He.auth.getSession().then(({data:{session:v}})=>{i(v),r(v?.user??null),d(!1)});const{data:{subscription:y}}=He.auth.onAuthStateChange((v,b)=>{i(b),r(b?.user??null),d(!1)});return()=>y.unsubscribe()},[]);const g={user:t,session:s,loading:c,signOut:async()=>{try{const{error:y}=await He.auth.signOut();if(y){console.error("Error signing out:",y);return}r(null),i(null),W1(),console.log("Successfully signed out")}catch(y){console.error("Unexpected error during sign out:",y)}},debugAuth:()=>{H1(),console.log("Current user:",t),console.log("Current session:",s)}};return l.jsx(kg.Provider,{value:g,children:a})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pe=(a,t)=>{const r=j.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:f="",children:p,...g},y)=>j.createElement("svg",{ref:y,...V1,width:i,height:i,stroke:s,strokeWidth:d?Number(c)*24/Number(i):c,className:["lucide",`lucide-${K1(a)}`,f].join(" "),...g},[...t.map(([v,b])=>j.createElement(v,b)),...Array.isArray(p)?p:[p]]));return r.displayName=`${a}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=pe("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=pe("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=pe("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=pe("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=pe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=pe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=pe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=pe("FileX",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=pe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=pe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=pe("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=pe("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=pe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=pe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=pe("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=pe("PinOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V17h12",key:"13x2n8"}],["path",{d:"M15 9.34V6h1a2 2 0 0 0 0-4H7.89",key:"reo3ki"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=pe("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=pe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=pe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=pe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=pe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=pe("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=pe("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=pe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),c_=()=>{const[a,t]=j.useState(!1),{user:r,signOut:s}=Un(),i=Vt(),c=async()=>{try{await s(),i("/"),t(!1)}catch(d){console.error("Error during sign out:",d)}};return l.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-[#0a1a1a]/80 via-[#1a2f2f]/80 to-[#0f1f1f]/80 backdrop-blur-md border-b border-[#4deeea]/30",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx(ti,{className:"h-8 w-8 text-[#4deeea]"}),l.jsx(Ir,{className:"h-4 w-4 text-[#4deeea] absolute -top-1 -right-1"})]}),l.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] bg-clip-text text-transparent",children:"NotesAI"})]}),l.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[l.jsx(dt,{to:"/",className:"text-gray-300 hover:text-white transition-colors duration-200",children:"Home"}),l.jsx(dt,{to:"/notes",className:"text-gray-300 hover:text-white transition-colors duration-200",children:"My Notes"}),l.jsx("a",{href:"#features",className:"text-gray-300 hover:text-white transition-colors duration-200",children:"Features"}),l.jsx(dt,{to:"/settings",className:"text-gray-300 hover:text-white transition-colors duration-200",children:"Settings"})]}),l.jsx("div",{className:"hidden md:flex items-center space-x-4",children:r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[l.jsx(Ka,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:r.email})]}),l.jsxs("button",{onClick:c,className:"text-gray-300 hover:text-white transition-colors duration-200 flex items-center space-x-2",children:[l.jsx($u,{className:"h-4 w-4"}),l.jsx("span",{children:"Sign Out"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(dt,{to:"/signin",className:"text-gray-300 hover:text-white transition-colors duration-200",children:"Sign In"}),l.jsx(dt,{to:"/signup",className:"bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] text-black px-6 py-2 rounded-full hover:from-[#3dd9d4] hover:to-[#2dc4be] transition-all duration-200 transform hover:scale-105 inline-block",children:"Get Started"})]})}),l.jsx("div",{className:"md:hidden",children:l.jsx("button",{onClick:()=>t(!a),className:"text-gray-300 hover:text-white transition-colors duration-200",children:a?l.jsx(Ua,{className:"h-6 w-6"}):l.jsx(Pg,{className:"h-6 w-6"})})})]}),a&&l.jsx("div",{className:"md:hidden bg-gradient-to-r from-[#0a1a1a]/95 via-[#1a2f2f]/95 to-[#0f1f1f]/95 backdrop-blur-md border-t border-[#4deeea]/30",children:l.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[l.jsx(dt,{to:"/",className:"block px-3 py-2 text-gray-300 hover:text-white transition-colors duration-200",children:"Home"}),l.jsx(dt,{to:"/notes",className:"block px-3 py-2 text-gray-300 hover:text-white transition-colors duration-200",children:"My Notes"}),l.jsx(dt,{to:"/settings",className:"block px-3 py-2 text-gray-300 hover:text-white transition-colors duration-200",children:"Settings"}),l.jsx("a",{href:"#features",className:"block px-3 py-2 text-gray-300 hover:text-white transition-colors duration-200",children:"Features"}),l.jsx("a",{href:"#ai-powered",className:"block px-3 py-2 text-gray-300 hover:text-white transition-colors duration-200",children:"AI Tools"}),l.jsx("div",{className:"border-t border-[#4deeea]/30 pt-3 mt-3",children:r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"px-3 py-2 text-gray-300 flex items-center space-x-2",children:[l.jsx(Ka,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:r.email})]}),l.jsxs("button",{onClick:c,className:"block w-full text-left px-3 py-2 text-gray-300 hover:text-white transition-colors duration-200 flex items-center space-x-2",children:[l.jsx($u,{className:"h-4 w-4"}),l.jsx("span",{children:"Sign Out"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(dt,{to:"/signin",className:"block w-full text-left px-3 py-2 text-gray-300 hover:text-white transition-colors duration-200",children:"Sign In"}),l.jsx(dt,{to:"/signup",className:"mt-2 block w-full bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] text-black px-6 py-2 rounded-full hover:from-[#3dd9d4] hover:to-[#2dc4be] transition-all duration-200 text-center",children:"Get Started"})]})})]})})]})})},u_=()=>l.jsxs("section",{className:"min-h-screen flex items-center justify-center relative overflow-hidden bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] pt-24 sm:pt-20 md:pt-0",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border border-[#4deeea]/20 rotate-45 animate-pulse"}),l.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 border border-[#4deeea]/15 rotate-12 animate-pulse delay-1000"}),l.jsx("div",{className:"absolute bottom-32 left-40 w-40 h-40 border border-[#4deeea]/10 -rotate-12 animate-pulse delay-500"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-28 h-28 border border-[#4deeea]/25 rotate-45 animate-pulse delay-700"})]}),l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-0 left-1/4 w-px h-full bg-gradient-to-b from-transparent via-[#4deeea]/20 to-transparent rotate-12"}),l.jsx("div",{className:"absolute top-0 right-1/3 w-px h-full bg-gradient-to-b from-transparent via-[#4deeea]/15 to-transparent -rotate-12"}),l.jsx("div",{className:"absolute top-0 left-2/3 w-px h-full bg-gradient-to-b from-transparent via-[#4deeea]/10 to-transparent rotate-6"})]}),l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-[#4deeea]/20 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-[#4deeea]/15 rounded-full blur-3xl animate-pulse delay-1000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-[#4deeea]/10 rounded-full blur-3xl animate-pulse delay-500"})]}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{className:"text-left",children:[l.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight",children:["Your Ideas,",l.jsx("span",{className:"block bg-gradient-to-r from-[#4deeea] via-[#3dd9d4] to-[#2dc4be] bg-clip-text text-transparent",children:"Supercharged"}),"by AI"]}),l.jsx("p",{className:"text-lg md:text-xl text-gray-300 mb-8 max-w-2xl leading-relaxed",children:"Create, organize, and enhance your notes with the power of artificial intelligence. Rich text editing, smart suggestions, and bulletproof security all in one place."}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-2 bg-black/30 backdrop-blur-sm rounded-full px-4 py-2",children:[l.jsx(on,{className:"h-5 w-5 text-[#4deeea]"}),l.jsx("span",{className:"text-gray-300",children:"AI Grammar Check"})]}),l.jsxs("div",{className:"flex items-center space-x-2 bg-black/30 backdrop-blur-sm rounded-full px-4 py-2",children:[l.jsx(Rg,{className:"h-5 w-5 text-[#4deeea]"}),l.jsx("span",{className:"text-gray-300",children:"Smart Summaries"})]}),l.jsxs("div",{className:"flex items-center space-x-2 bg-black/30 backdrop-blur-sm rounded-full px-4 py-2",children:[l.jsx(Va,{className:"h-5 w-5 text-[#4deeea]"}),l.jsx("span",{className:"text-gray-300",children:"End-to-End Encryption"})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4 mb-12",children:[l.jsxs("button",{className:"group bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] text-black px-8 py-4 rounded-full font-semibold text-lg hover:from-[#3dd9d4] hover:to-[#2dc4be] transition-all duration-200 transform hover:scale-105 flex items-center space-x-2",children:[l.jsx("span",{children:"Start Writing Now"}),l.jsx(J1,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform duration-200"})]}),l.jsx("button",{className:"text-gray-300 hover:text-white border border-[#4deeea] hover:border-[#3dd9d4] px-8 py-4 rounded-full font-semibold text-lg transition-all duration-200 hover:bg-black/50",children:"Watch Demo"})]})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"bg-black/50 backdrop-blur-sm border border-[#4deeea]/30 rounded-2xl p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-[#4deeea]/30",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),l.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),l.jsx("div",{className:"text-gray-400 text-sm",children:"NotesAI"})]}),l.jsxs("div",{className:"flex items-center space-x-2 mb-4 p-2 bg-[#4deeea]/20 rounded-lg",children:[l.jsx("button",{className:"p-2 hover:bg-[#4deeea]/30 rounded text-gray-300 hover:text-white transition-colors",children:l.jsx("span",{className:"font-bold text-sm",children:"B"})}),l.jsx("button",{className:"p-2 hover:bg-[#4deeea]/30 rounded text-gray-300 hover:text-white transition-colors",children:l.jsx("span",{className:"italic text-sm",children:"I"})}),l.jsx("button",{className:"p-2 hover:bg-[#4deeea]/30 rounded text-gray-300 hover:text-white transition-colors",children:l.jsx("span",{className:"underline text-sm",children:"U"})}),l.jsx("div",{className:"w-px h-6 bg-[#4deeea]/50"}),l.jsx("button",{className:"p-2 hover:bg-[#4deeea]/30 rounded text-gray-300 hover:text-white transition-colors",children:l.jsx(on,{className:"h-4 w-4"})}),l.jsx("button",{className:"p-2 hover:bg-[#4deeea]/30 rounded text-gray-300 hover:text-white transition-colors",children:l.jsx(Ir,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-[#4deeea]/20 border border-[#4deeea]/30 rounded-lg",children:[l.jsx(Tr,{className:"h-4 w-4 text-[#4deeea]"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-white font-medium text-sm",children:"Meeting Notes"}),l.jsx("div",{className:"text-gray-400 text-xs",children:"AI-enhanced summary available"})]}),l.jsx("div",{className:"w-2 h-2 bg-[#4deeea] rounded-full"})]}),l.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-700/30 rounded-lg",children:[l.jsx(Rn,{className:"h-4 w-4 text-[#4deeea]"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-white font-medium text-sm",children:"Project Ideas"}),l.jsx("div",{className:"text-gray-400 text-xs",children:"3 AI-suggested tags"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-700/30 rounded-lg",children:[l.jsx(qt,{className:"h-4 w-4 text-[#4deeea]"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-white font-medium text-sm",children:"Personal Journal"}),l.jsx("div",{className:"text-gray-400 text-xs",children:"Encrypted & secure"})]})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx($n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search notes...",className:"w-full pl-10 pr-4 py-2 bg-gray-700/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#4deeea] transition-colors"})]}),l.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-2 text-xs text-gray-400",children:[l.jsx("div",{className:"w-2 h-2 bg-[#4deeea] rounded-full animate-pulse"}),l.jsx("span",{children:"AI actively analyzing content"})]})]}),l.jsx("div",{className:"absolute -top-4 -right-4 bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] p-3 rounded-xl shadow-lg",children:l.jsx(on,{className:"h-6 w-6 text-white"})}),l.jsx("div",{className:"absolute -bottom-4 -left-4 bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] p-3 rounded-xl shadow-lg",children:l.jsx(Va,{className:"h-6 w-6 text-white"})})]})]})})]}),d_=()=>{const a=[{icon:l.jsx(ei,{className:"h-8 w-8"}),title:"Custom Rich Text Editor",description:"Built from scratch with all essential formatting tools. Bold, italic, underline, alignment, and dynamic font sizing.",color:"purple"},{icon:l.jsx(Tr,{className:"h-8 w-8"}),title:"Smart Note Management",description:"Create, edit, delete, and organize notes effortlessly. Pin important notes to the top with visual indicators.",color:"blue"},{icon:l.jsx($n,{className:"h-8 w-8"}),title:"Intelligent Search",description:"Find any note instantly by searching through titles and content with advanced search algorithms.",color:"emerald"},{icon:l.jsx(Va,{className:"h-8 w-8"}),title:"Note Encryption",description:"Password-protect sensitive notes with military-grade encryption. Your privacy, guaranteed.",color:"red"}],t=[{icon:l.jsx(on,{className:"h-6 w-6"}),title:"Auto Glossary Highlighting",description:"Key terms are automatically highlighted with hover definitions and detailed explanations.",color:"purple"},{icon:l.jsx(Ir,{className:"h-6 w-6"}),title:"AI Summarization",description:"Get instant 1-2 line summaries of your notes powered by advanced AI models.",color:"blue"},{icon:l.jsx(Lu,{className:"h-6 w-6"}),title:"Smart Tag Suggestions",description:"AI analyzes your content and suggests 3-5 relevant tags for better organization.",color:"emerald"},{icon:l.jsx(Rg,{className:"h-6 w-6"}),title:"Grammar Check",description:"Real-time grammar checking with smart underlines for grammatical errors.",color:"yellow"},{icon:l.jsx(t_,{className:"h-6 w-6"}),title:"Multi-language Translation",description:"Translate your notes to multiple languages with AI-powered translation.",color:"indigo"},{icon:l.jsx(Rs,{className:"h-6 w-6"}),title:"AI Insights",description:"Get intelligent recommendations and key point highlights based on your content.",color:"pink"}],r=s=>({purple:"from-[#4deeea] to-[#3dd9d4]",blue:"from-[#4deeea] to-[#3dd9d4]",emerald:"from-[#4deeea] to-[#3dd9d4]",red:"from-[#4deeea] to-[#3dd9d4]",yellow:"from-[#4deeea] to-[#3dd9d4]",indigo:"from-[#4deeea] to-[#3dd9d4]",pink:"from-[#4deeea] to-[#3dd9d4]"})[s]||"from-[#4deeea] to-[#3dd9d4]";return l.jsxs("section",{id:"features",className:"py-20 bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-[#4deeea]/10 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-[#4deeea]/5 rounded-full blur-3xl"})]}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Everything You Need to",l.jsx("span",{className:"block bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] bg-clip-text text-transparent"}),l.jsx("span",{className:"block bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] bg-clip-text text-transparent",children:"Write Better"})]}),l.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Powerful features designed to enhance your writing experience and boost productivity"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-20",children:a.map((s,i)=>l.jsxs("div",{className:"group bg-black/50 backdrop-blur-sm border border-[#4deeea]/30 rounded-2xl p-6 hover:bg-black/70 hover:border-[#4deeea]/50 transition-all duration-300 hover:-translate-y-1",children:[l.jsx("div",{className:`inline-flex p-3 rounded-xl bg-gradient-to-br ${r(s.color)} mb-4 group-hover:scale-110 transition-transform duration-300`,children:wu.cloneElement(s.icon,{className:"h-8 w-8 text-white"})}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:s.title}),l.jsx("p",{className:"text-gray-400 leading-relaxed",children:s.description})]},i))}),l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-[#4deeea]/20 to-[#3dd9d4]/20 backdrop-blur-sm border border-[#4deeea]/30 rounded-full px-6 py-2 mb-6",children:[l.jsx(on,{className:"h-5 w-5 text-[#4deeea]"}),l.jsx("span",{className:"text-[#4deeea] font-medium",children:"AI-Powered Features"})]}),l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Artificial Intelligence",l.jsx("span",{className:"block bg-gradient-to-r from-[#4deeea] via-[#3dd9d4] to-[#2dc4be] bg-clip-text text-transparent",children:"At Your Fingertips"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((s,i)=>l.jsxs("div",{className:"group bg-gray-800/30 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6 hover:bg-gray-800/50 hover:border-gray-600 transition-all duration-300",children:[l.jsx("div",{className:`inline-flex p-2 rounded-lg bg-gradient-to-br ${r(s.color)} mb-4`,children:wu.cloneElement(s.icon,{className:"h-6 w-6 text-white"})}),l.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:s.title}),l.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:s.description})]},i))}),l.jsxs("div",{className:"mt-20 text-center",children:[l.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-full px-6 py-2 mb-6",children:[l.jsx(Ir,{className:"h-5 w-5 text-[#4deeea]"}),l.jsx("span",{className:"text-[#4deeea] font-medium",children:"Bonus Features"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[l.jsx(s_,{className:"h-6 w-6 text-[#4deeea]"}),l.jsx("h3",{className:"text-lg font-semibold text-white",children:"Version History"})]}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Track changes and restore previous versions of your notes with complete version control."})]}),l.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[l.jsx(qt,{className:"h-6 w-6 text-[#4deeea]"}),l.jsx("h3",{className:"text-lg font-semibold text-white",children:"Responsive Design"})]}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Seamlessly works across desktop, tablet, and mobile with touch-optimized interfaces."})]})]})]})]})]})},h_=()=>l.jsx("footer",{className:"bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] border-t border-[#4deeea]/30",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx(ti,{className:"h-8 w-8 text-[#4deeea]"}),l.jsx(Ir,{className:"h-4 w-4 text-[#4deeea] absolute -top-1 -right-1"})]}),l.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] bg-clip-text text-transparent",children:"NotesAI"})]}),l.jsx("p",{className:"text-gray-400 mb-6 max-w-md leading-relaxed",children:"Transform your note-taking experience with AI-powered features, rich text editing, and enterprise-grade security. Your ideas deserve the best tools."}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("a",{href:"#",className:"text-gray-400 hover:text-[#4deeea] transition-colors duration-200",children:l.jsx(o_,{className:"h-6 w-6"})}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-[#4deeea] transition-colors duration-200",children:l.jsx(Y1,{className:"h-6 w-6"})}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-[#4deeea] transition-colors duration-200",children:l.jsx(r_,{className:"h-6 w-6"})}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-[#4deeea] transition-colors duration-200",children:l.jsx(ud,{className:"h-6 w-6"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-semibold mb-4",children:"Product"}),l.jsxs("ul",{className:"space-y-3",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Features"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"AI Tools"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Security"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Integrations"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"API"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-semibold mb-4",children:"Company"}),l.jsxs("ul",{className:"space-y-3",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"About"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Blog"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Careers"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Press"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Contact"})})]})]})]}),l.jsxs("div",{className:"mt-12 pt-8 border-t border-[#4deeea]/30",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[l.jsx("div",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:" 2025 NotesAI. All rights reserved."}),l.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Privacy Policy"}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Terms of Service"}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Cookie Policy"})]})]}),l.jsxs("div",{className:"mt-6 flex items-center justify-center space-x-2 text-gray-400 text-sm",children:[l.jsx("span",{children:"Made with"}),l.jsx(Z1,{className:"h-4 w-4 text-red-400"}),l.jsx("span",{children:"for writers and thinkers everywhere"})]})]})]})}),f_=()=>l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f]",children:[l.jsx(c_,{}),l.jsx(u_,{}),l.jsx(d_,{}),l.jsx(h_,{})]}),m_=async()=>{try{const{data:{user:a}}=await He.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:t,error:r}=await He.from("notes").select("*").eq("user_id",a.id).order("updated_at",{ascending:!1});if(r)throw console.error("Error fetching notes:",r),r;return t||[]}catch(a){throw console.error("Error in getAllNotes:",a),a}},Is=async a=>{try{const{data:{user:t}}=await He.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r,error:s}=await He.from("notes").select("*").eq("id",a).eq("user_id",t.id).single();return s?(console.error("Error fetching note:",s),null):r}catch(t){return console.error("Error in getNoteById:",t),null}},p_=async a=>{try{const{data:{user:t}}=await He.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r,error:s}=await He.from("notes").insert([{title:a.title,content:a.content,is_pinned:a.is_pinned||!1,is_encrypted:a.is_encrypted||!1,user_id:t.id}]).select().single();if(s)throw console.error("Error creating note:",s),s;return r}catch(t){throw console.error("Error in createNote:",t),t}},Mu=async(a,t)=>{try{const{data:{user:r}}=await He.auth.getUser();if(!r)throw new Error("User not authenticated");const{data:s,error:i}=await He.from("notes").update({...t,updated_at:new Date().toISOString()}).eq("id",a).eq("user_id",r.id).select().single();return i?(console.error("Error updating note:",i),null):s}catch(r){return console.error("Error in updateNote:",r),null}},Ig=async a=>{try{const{data:{user:t}}=await He.auth.getUser();if(!t)throw new Error("User not authenticated");const{error:r}=await He.from("notes").delete().eq("id",a).eq("user_id",t.id);return r?(console.error("Error deleting note:",r),!1):!0}catch(t){return console.error("Error in deleteNote:",t),!1}},g_=async a=>{try{const{data:{user:t}}=await He.auth.getUser();if(!t)throw new Error("User not authenticated");const r=await Is(a);if(!r)return null;const{data:s,error:i}=await He.from("notes").update({is_pinned:!r.is_pinned,updated_at:new Date().toISOString()}).eq("id",a).eq("user_id",t.id).select().single();return i?(console.error("Error toggling pin:",i),null):s}catch(t){return console.error("Error in togglePinNote:",t),null}},Og=async a=>{try{const{data:{user:t}}=await He.auth.getUser();if(!t)throw new Error("User not authenticated");const r=await Is(a);if(!r)return null;const{data:s,error:i}=await He.from("notes").update({is_encrypted:!r.is_encrypted,updated_at:new Date().toISOString()}).eq("id",a).eq("user_id",t.id).select().single();return i?(console.error("Error toggling lock:",i),null):s}catch(t){return console.error("Error in toggleLockNote:",t),null}},$g=async a=>{try{const{data:{user:t}}=await He.auth.getUser();if(!t)throw new Error("User not authenticated");const{error:r}=await He.auth.signInWithPassword({email:t.email,password:a});return!r}catch(t){return console.error("Error verifying password:",t),!1}},y_=()=>{const a=Vt(),{user:t,loading:r}=Un(),[s,i]=j.useState([]),[c,d]=j.useState(""),[f,p]=j.useState(!1),[g,y]=j.useState("all"),[v,b]=j.useState(!1),[w,k]=j.useState(!0),[N,C]=j.useState(""),[$,T]=j.useState(null),[M,L]=j.useState(!1),[H,U]=j.useState(!1),[B,te]=j.useState(null),[le,ue]=j.useState(!1),[be,J]=j.useState(""),[se,Re]=j.useState(""),[Ke,Le]=j.useState(!1),[Te,V]=j.useState("view"),[ie,G]=j.useState(!1),[P,D]=j.useState(!1),[me,ve]=j.useState(null),we=async(Q=!0)=>{try{Q?k(!0):L(!0);const X=await m_();i(X),T(new Date),C("")}catch(X){console.error("Error loading notes:",X),C("Failed to load notes. Please try again.")}finally{Q?k(!1):L(!1)}};j.useEffect(()=>{!r&&t&&we()},[r,t]),j.useEffect(()=>{if(!t)return;const Q=setInterval(()=>{!w&&s.length>0&&we(!1)},3e4);return()=>clearInterval(Q)},[t,w,s.length]),j.useEffect(()=>{const Q=()=>{if(document.visibilityState==="visible"&&t&&!w){const Ee=$?new Date().getTime()-$.getTime():1/0,mt=300*1e3;Ee>mt&&we(!1)}};return document.addEventListener("visibilitychange",Q),()=>document.removeEventListener("visibilitychange",Q)},[t,w,$]);const _e=j.useMemo(()=>{let Q=s;return g==="pinned"&&(Q=Q.filter(X=>X.is_pinned)),c.trim()&&(Q=Q.filter(X=>X.title.toLowerCase().includes(c.toLowerCase())||X.content.toLowerCase().includes(c.toLowerCase()))),Q.sort((X,Ee)=>X.is_pinned&&!Ee.is_pinned?-1:!X.is_pinned&&Ee.is_pinned?1:new Date(Ee.updated_at).getTime()-new Date(X.updated_at).getTime())},[s,c,g]);if(j.useEffect(()=>{!r&&!t&&a("/signin")},[t,r,a]),r)return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] flex items-center justify-center relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border border-[#4deeea]/20 rotate-45 animate-pulse"}),l.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 border border-[#4deeea]/15 rotate-12 animate-pulse delay-1000"}),l.jsx("div",{className:"absolute bottom-32 left-40 w-40 h-40 border border-[#4deeea]/10 -rotate-12 animate-pulse delay-500"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-28 h-28 border border-[#4deeea]/25 rotate-45 animate-pulse delay-700"})]}),l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-[#4deeea]/20 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-[#4deeea]/15 rounded-full blur-3xl animate-pulse delay-1000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-[#4deeea]/10 rounded-full blur-3xl animate-pulse delay-500"})]}),l.jsxs("div",{className:"text-center relative z-10 flex flex-col items-center justify-center w-full h-full",children:[l.jsxs("div",{className:"relative mb-8 flex items-center justify-center",children:[l.jsxs("div",{className:"w-20 h-20 relative",children:[l.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-[#4deeea]/20"}),l.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-[#4deeea] animate-spin"}),l.jsx("div",{className:"absolute inset-2 rounded-full bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] animate-pulse"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx(Rn,{className:"h-8 w-8 text-white animate-bounce"})})]}),l.jsx("div",{className:"absolute -top-2 -left-2 w-2 h-2 bg-[#4deeea] rounded-full animate-ping"}),l.jsx("div",{className:"absolute -top-1 -right-3 w-1.5 h-1.5 bg-[#3dd9d4] rounded-full animate-ping animation-delay-300"}),l.jsx("div",{className:"absolute -bottom-2 -left-1 w-1 h-1 bg-[#4deeea] rounded-full animate-ping animation-delay-700"}),l.jsx("div",{className:"absolute -bottom-1 -right-2 w-2 h-2 bg-[#3dd9d4] rounded-full animate-ping animation-delay-500"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xl font-semibold bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] bg-clip-text text-transparent",children:"Initializing NotesAI"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Setting up your secure workspace..."}),l.jsxs("div",{className:"flex justify-center space-x-1 mt-4",children:[l.jsx("div",{className:"w-2 h-2 bg-[#4deeea] rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-[#4deeea] rounded-full animate-bounce animation-delay-200"}),l.jsx("div",{className:"w-2 h-2 bg-[#4deeea] rounded-full animate-bounce animation-delay-400"})]})]})]})]});if(!t)return null;const Ce=s.filter(Q=>Q.is_pinned),ae=s.length,ge=async Q=>{try{const X=await Og(Q);X?i(Ee=>Ee.map(mt=>mt.id===Q?X:mt)):C("Failed to toggle lock status")}catch(X){console.error("Error toggling lock:",X),C("Failed to toggle lock status")}},Qe=async Q=>{const X=s.find(Ee=>Ee.id===Q);X&&(te(X),U(!0))},Or=async()=>{if(B)try{await Ig(B.id)?(i(X=>X.filter(Ee=>Ee.id!==B.id)),U(!1),te(null)):C("Failed to delete note")}catch(Q){console.error("Error deleting note:",Q),C("Failed to delete note")}},Fn=()=>{U(!1),te(null)},gr=async Q=>{Q.preventDefault(),Re("");try{await $g(be)?(Le(!0),ue(!1),J(""),me&&a(`/notes/view/${me.id}`)):(Re("Incorrect password. Please try again."),D(!0),J(""),setTimeout(()=>D(!1),500))}catch(X){console.error("Error verifying password:",X),Re("Failed to verify password. Please try again."),D(!0),J(""),setTimeout(()=>D(!1),500)}},un=Q=>{Q.key==="Enter"&&gr(Q)},dn=Q=>{Q.is_encrypted?(ve(Q),V("view"),ue(!0)):a(`/notes/view/${Q.id}`)},$r=(Q,X=120)=>{const Ee=Q.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").trim();return Ee.length>X?Ee.substring(0,X)+"...":Ee},hn=Q=>{const Ee=Math.abs(new Date().getTime()-Q.getTime()),mt=Math.ceil(Ee/(1e3*60*60*24));return mt===1?"Today":mt===2?"Yesterday":mt<=7?`${mt-1} days ago`:Q.toLocaleDateString()};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f]",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border border-[#4deeea]/20 rotate-45 animate-pulse"}),l.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 border border-[#4deeea]/15 rotate-12 animate-pulse delay-1000"}),l.jsx("div",{className:"absolute bottom-32 left-40 w-40 h-40 border border-[#4deeea]/10 -rotate-12 animate-pulse delay-500"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-28 h-28 border border-[#4deeea]/25 rotate-45 animate-pulse delay-700"})]}),l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-[#4deeea]/20 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-[#4deeea]/15 rounded-full blur-3xl animate-pulse delay-1000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-[#4deeea]/10 rounded-full blur-3xl animate-pulse delay-500"})]}),N&&l.jsxs("div",{className:"fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-[60] flex items-center space-x-2 animate-slide-in",children:[l.jsx("span",{children:N}),l.jsx("button",{onClick:()=>C(""),className:"ml-2 text-white hover:text-gray-200",children:""})]}),f&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden",onClick:()=>p(!1)}),l.jsxs("div",{className:`fixed left-0 top-0 h-full w-80 bg-gradient-to-b from-[#0a1a1a]/95 via-[#1a2f2f]/95 to-[#0f1f1f]/95 backdrop-blur-md border-r border-[#4deeea]/30 transform transition-transform duration-300 z-50 lg:translate-x-0 ${f?"translate-x-0":"-translate-x-full"}`,children:[l.jsxs("div",{className:"p-6 border-b border-[#4deeea]/30",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] bg-clip-text text-transparent",children:"Notes"}),l.jsx("button",{onClick:()=>p(!1),className:"lg:hidden text-gray-400 hover:text-white transition-colors",children:l.jsx(Ua,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"mt-4 text-sm text-gray-400",children:[ae," notes  ",Ce.length," pinned",$&&l.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${M?"bg-[#4deeea] animate-pulse":"bg-green-400"}`}),l.jsx("span",{className:"text-xs",children:M?"Syncing...":`Last sync: ${$.toLocaleTimeString()}`})]})]})]}),l.jsxs("div",{className:"p-6 space-y-2",children:[l.jsx("button",{onClick:()=>y("all"),className:`w-full text-left px-4 py-3 rounded-lg transition-all duration-200 ${g==="all"?"bg-[#4deeea]/20 text-[#4deeea] border border-[#4deeea]/30":"text-gray-400 hover:text-white hover:bg-black/30"}`,children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Rn,{className:"h-5 w-5"}),l.jsx("span",{children:"All Notes"}),l.jsx("span",{className:"ml-auto text-xs bg-black/30 px-2 py-1 rounded-full",children:ae})]})}),l.jsx("button",{onClick:()=>y("pinned"),className:`w-full text-left px-4 py-3 rounded-lg transition-all duration-200 ${g==="pinned"?"bg-[#4deeea]/20 text-[#4deeea] border border-[#4deeea]/30":"text-gray-400 hover:text-white hover:bg-black/30"}`,children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Tr,{className:"h-5 w-5"}),l.jsx("span",{children:"Pinned Notes"}),l.jsx("span",{className:"ml-auto text-xs bg-black/30 px-2 py-1 rounded-full",children:Ce.length})]})})]}),l.jsx("div",{className:"px-6 pb-6",children:l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-[#4deeea]/20 rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Quick Stats"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between text-gray-300",children:[l.jsx("span",{children:"Total Notes"}),l.jsx("span",{children:ae})]}),l.jsxs("div",{className:"flex justify-between text-gray-300",children:[l.jsx("span",{children:"Pinned"}),l.jsx("span",{children:Ce.length})]}),l.jsxs("div",{className:"flex justify-between text-gray-300",children:[l.jsx("span",{children:"Recent"}),l.jsx("span",{children:s.filter(Q=>new Date().getTime()-new Date(Q.updated_at).getTime()<10080*60*1e3).length})]})]})]})})]}),l.jsxs("div",{className:"lg:ml-80 relative z-10",children:[l.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-[#0a1a1a]/90 via-[#1a2f2f]/90 to-[#0f1f1f]/90 backdrop-blur-md border-b border-[#4deeea]/30 z-30",children:l.jsx("div",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("button",{onClick:()=>p(!0),className:"lg:hidden text-gray-400 hover:text-white transition-colors",children:l.jsx(Pg,{className:"h-6 w-6"})}),l.jsxs("div",{className:"flex-1 max-w-md relative",children:[l.jsx($n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search notes...",value:c,onChange:Q=>d(Q.target.value),onKeyPress:Q=>{Q.key==="Enter"&&c.trim()&&a(`/search?q=${encodeURIComponent(c.trim())}`)},className:"w-full pl-10 pr-4 py-3 bg-black/50 backdrop-blur-sm border border-[#4deeea]/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#4deeea] focus:ring-1 focus:ring-[#4deeea] transition-all"}),c.trim()&&l.jsx("button",{onClick:()=>a(`/search?q=${encodeURIComponent(c.trim())}`),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-[#4deeea] hover:text-[#3dd9d4] transition-colors",title:"Search",children:l.jsx($n,{className:"h-5 w-5"})})]}),l.jsxs("button",{onClick:()=>b(!0),className:"bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] text-black px-6 py-3 rounded-lg font-semibold hover:from-[#3dd9d4] hover:to-[#2dc4be] transition-all duration-200 transform hover:scale-105 flex items-center space-x-2",children:[l.jsx(n_,{className:"h-5 w-5"}),l.jsx("span",{className:"hidden sm:inline",children:"New Note"})]})]})})}),l.jsxs("div",{className:"p-6 relative",children:[w&&l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0a1a1a]/95 via-[#1a2f2f]/95 to-[#0f1f1f]/95 backdrop-blur-md z-40 flex items-center justify-center rounded-xl",children:l.jsxs("div",{className:"text-center flex flex-col items-center justify-center",children:[l.jsxs("div",{className:"relative mb-8 flex items-center justify-center",children:[l.jsxs("div",{className:"w-16 h-16 relative",children:[l.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-[#4deeea]/20"}),l.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-[#4deeea] animate-spin"}),l.jsx("div",{className:"absolute inset-2 rounded-full bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] animate-pulse"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx(Rn,{className:"h-6 w-6 text-white animate-bounce"})})]}),l.jsx("div",{className:"absolute -top-2 -left-2 w-2 h-2 bg-[#4deeea] rounded-full animate-ping"}),l.jsx("div",{className:"absolute -top-1 -right-3 w-1.5 h-1.5 bg-[#3dd9d4] rounded-full animate-ping animation-delay-300"}),l.jsx("div",{className:"absolute -bottom-2 -left-1 w-1 h-1 bg-[#4deeea] rounded-full animate-ping animation-delay-700"}),l.jsx("div",{className:"absolute -bottom-1 -right-2 w-2 h-2 bg-[#3dd9d4] rounded-full animate-ping animation-delay-500"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-semibold bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] bg-clip-text text-transparent",children:"Loading Notes"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Syncing with cloud..."}),l.jsxs("div",{className:"flex justify-center space-x-1 mt-4",children:[l.jsx("div",{className:"w-2 h-2 bg-[#4deeea] rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-[#4deeea] rounded-full animate-bounce animation-delay-200"}),l.jsx("div",{className:"w-2 h-2 bg-[#4deeea] rounded-full animate-bounce animation-delay-400"})]})]})]})}),_e.length===0?l.jsxs("div",{className:"text-center py-16",children:[l.jsx(Rn,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:c?"No notes found":"No notes yet"}),l.jsx("p",{className:"text-gray-500 mb-6",children:c?"Try adjusting your search terms":"Create your first note to get started"}),!c&&l.jsx("button",{onClick:()=>b(!0),className:"bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] text-black px-6 py-3 rounded-lg font-semibold hover:from-[#3dd9d4] hover:to-[#2dc4be] transition-all duration-200",children:"Create First Note"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:_e.map(Q=>l.jsxs("div",{onClick:()=>dn(Q),className:`group bg-black/50 backdrop-blur-sm border rounded-xl p-6 hover:bg-black/70 transition-all duration-300 hover:-translate-y-1 hover:shadow-xl cursor-pointer ${Q.is_pinned?"border-[#4deeea]/50 bg-[#4deeea]/5":"border-[#4deeea]/30 hover:border-[#4deeea]/50"}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-start space-x-2 flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-white group-hover:text-[#4deeea] transition-colors line-clamp-2",children:Q.title}),Q.is_encrypted&&l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx(qt,{className:"h-4 w-4 text-yellow-400"})})]}),Q.is_pinned&&l.jsx("div",{className:"flex-shrink-0 ml-2",children:l.jsx(Tr,{className:"h-4 w-4 text-[#4deeea] fill-current"})})]}),l.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-3 leading-relaxed",children:$r(Q.content)}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-xs text-gray-500",children:hn(new Date(Q.updated_at))}),l.jsxs("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:X=>{X.stopPropagation(),ge(Q.id)},className:`p-2 rounded-lg transition-colors ${Q.is_encrypted?"text-yellow-400 hover:bg-yellow-400/20":"text-gray-400 hover:text-yellow-400 hover:bg-yellow-400/20"}`,title:Q.is_encrypted?"Unlock note":"Lock note",children:Q.is_encrypted?l.jsx(Ag,{className:"h-4 w-4"}):l.jsx(qt,{className:"h-4 w-4"})}),l.jsx("button",{onClick:X=>{X.stopPropagation(),togglePin(Q.id)},className:`p-2 rounded-lg transition-colors ${Q.is_pinned?"text-[#4deeea] hover:bg-[#4deeea]/20":"text-gray-400 hover:text-[#4deeea] hover:bg-[#4deeea]/20"}`,title:Q.is_pinned?"Unpin note":"Pin note",children:Q.is_pinned?l.jsx(dd,{className:"h-4 w-4"}):l.jsx(Tr,{className:"h-4 w-4"})}),l.jsx("button",{onClick:X=>{X.stopPropagation(),a(Q.is_encrypted?`/notes/encrypted/${Q.id}`:`/notes/edit/${Q.id}`)},className:"p-2 rounded-lg text-gray-400 hover:text-[#4deeea] hover:bg-[#4deeea]/20 transition-colors",title:"Edit note",children:l.jsx(ei,{className:"h-4 w-4"})}),l.jsx("button",{onClick:X=>{X.stopPropagation(),Qe(Q.id)},className:"p-2 rounded-lg text-gray-400 hover:text-red-400 hover:bg-red-400/20 transition-colors",title:"Delete note",children:l.jsx(Ln,{className:"h-4 w-4"})})]})]})]},Q.id))})]})]}),v&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] border border-[#4deeea]/30 rounded-xl p-6 w-full max-w-md backdrop-blur-md",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-semibold bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] bg-clip-text text-transparent",children:"Create New Note"}),l.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white transition-colors",children:l.jsx(Ua,{className:"h-6 w-6"})})]}),l.jsx("p",{className:"text-gray-400 mb-6",children:"This is a placeholder modal. In the full implementation, this would contain a form to create a new note."}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:()=>b(!1),className:"flex-1 bg-black/50 border border-[#4deeea]/30 text-white px-4 py-2 rounded-lg hover:bg-black/70 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:()=>{a("/notes/new"),b(!1)},className:"flex-1 bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] text-black px-4 py-2 rounded-lg font-semibold hover:from-[#3dd9d4] hover:to-[#2dc4be] transition-all",children:"Create"})]})]})}),le&&me&&l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:l.jsxs("div",{className:`bg-gradient-to-br from-[#0a1a1a]/95 via-[#1a2f2f]/95 to-[#0f1f1f]/95 backdrop-blur-md border border-[#4deeea]/30 rounded-2xl p-8 w-full max-w-md shadow-2xl ${P?"animate-shake":""}`,children:[l.jsxs("button",{onClick:()=>{ue(!1),J(""),Re(""),D(!1),ve(null)},className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors mb-6",children:[l.jsx(Ua,{className:"h-5 w-5"}),l.jsx("span",{children:"Back to Notes"})]}),l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx("div",{className:"bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] p-4 rounded-full",children:l.jsx(qt,{className:"h-8 w-8 text-white"})})}),l.jsx("h2",{className:"text-2xl font-bold text-center mb-2 bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] bg-clip-text text-transparent",children:"Enter Password to View Note"}),l.jsx("p",{className:"text-gray-400 text-center mb-8",children:"This note is encrypted and requires a password to access"}),l.jsxs("div",{className:"bg-black/30 border border-gray-700/50 rounded-lg p-3 mb-6",children:[l.jsx("h4",{className:"text-white font-medium mb-1",children:me.title}),l.jsx("p",{className:"text-gray-400 text-sm line-clamp-2",children:$r(me.content,80)})]}),l.jsxs("form",{onSubmit:gr,className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:ie?"text":"password",value:be,onChange:Q=>J(Q.target.value),onKeyPress:un,placeholder:"Enter your account password",className:"w-full px-4 py-3 pr-12 bg-black/50 backdrop-blur-sm border border-[#4deeea]/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#4deeea] focus:ring-1 focus:ring-[#4deeea] transition-all",autoFocus:!0}),l.jsx("button",{type:"button",onClick:()=>G(!ie),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:ie?l.jsx(qa,{className:"h-5 w-5"}):l.jsx(Rs,{className:"h-5 w-5"})})]}),se&&l.jsxs("div",{className:"flex items-center space-x-2 text-red-400 text-sm",children:[l.jsx(hr,{className:"h-4 w-4"}),l.jsx("span",{children:se})]}),l.jsxs("button",{type:"submit",disabled:!be.trim(),className:"w-full bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] text-black px-6 py-3 rounded-lg font-semibold hover:from-[#3dd9d4] hover:to-[#2dc4be] transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2",children:[l.jsx(Va,{className:"h-5 w-5"}),l.jsx("span",{children:"View Note"})]})]})]})}),H&&B&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] border border-[#4deeea]/30 rounded-xl p-6 w-full max-w-md backdrop-blur-md",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-red-500/20 rounded-full",children:l.jsx(Ln,{className:"h-6 w-6 text-red-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-white",children:"Delete Note"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"This action cannot be undone"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("p",{className:"text-gray-300 mb-3",children:"Are you sure you want to delete this note?"}),l.jsxs("div",{className:"bg-black/30 border border-gray-700/50 rounded-lg p-3",children:[l.jsx("h4",{className:"text-white font-medium mb-1",children:B.title}),l.jsx("p",{className:"text-gray-400 text-sm line-clamp-2",children:$r(B.content,80)})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:Fn,className:"flex-1 bg-black/50 border border-[#4deeea]/30 text-white px-4 py-3 rounded-lg hover:bg-black/70 transition-colors font-medium",children:"Cancel"}),l.jsxs("button",{onClick:Or,className:"flex-1 bg-gradient-to-r from-red-500 to-red-600 text-white px-4 py-3 rounded-lg font-semibold hover:from-red-600 hover:to-red-700 transition-all duration-200 transform hover:scale-105 flex items-center justify-center space-x-2",children:[l.jsx(Ln,{className:"h-4 w-4"}),l.jsx("span",{children:"Delete Note"})]})]})]})}),l.jsx("style",{children:`
        @keyframes slide-in {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
        
        .animation-delay-200 {
          animation-delay: 0.2s;
        }
        
        .animation-delay-300 {
          animation-delay: 0.3s;
        }
        
        .animation-delay-400 {
          animation-delay: 0.4s;
        }
        
        .animation-delay-500 {
          animation-delay: 0.5s;
        }
        
        .animation-delay-700 {
          animation-delay: 0.7s;
        }
        
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
          20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        .animate-shake {
          animation: shake 0.5s ease-in-out;
        }
      `})]})};function ye(a,t,r,s,i){if(typeof t=="function"?a!==t||!0:!t.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(a,r),r}function I(a,t,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?a!==t||!s:!t.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(a):s?s.value:t.get(a)}let Lg=function(){const{crypto:a}=globalThis;if(a?.randomUUID)return Lg=a.randomUUID.bind(a),a.randomUUID();const t=new Uint8Array(1),r=a?()=>a.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^r()&15>>+s/4).toString(16))};function Du(a){return typeof a=="object"&&a!==null&&("name"in a&&a.name==="AbortError"||"message"in a&&String(a.message).includes("FetchRequestCanceledException"))}const Uu=a=>{if(a instanceof Error)return a;if(typeof a=="object"&&a!==null){try{if(Object.prototype.toString.call(a)==="[object Error]"){const t=new Error(a.message,a.cause?{cause:a.cause}:{});return a.stack&&(t.stack=a.stack),a.cause&&!t.cause&&(t.cause=a.cause),a.name&&(t.name=a.name),t}}catch{}try{return new Error(JSON.stringify(a))}catch{}}return new Error(a)};class oe extends Error{}class ft extends oe{constructor(t,r,s,i){super(`${ft.makeMessage(t,r,s)}`),this.status=t,this.headers=i,this.requestID=i?.get("x-request-id"),this.error=r;const c=r;this.code=c?.code,this.param=c?.param,this.type=c?.type}static makeMessage(t,r,s){const i=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):s;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,r,s,i){if(!t||!i)return new el({message:s,cause:Uu(r)});const c=r?.error;return t===400?new Mg(t,c,s,i):t===401?new Dg(t,c,s,i):t===403?new Ug(t,c,s,i):t===404?new Fg(t,c,s,i):t===409?new zg(t,c,s,i):t===422?new Bg(t,c,s,i):t===429?new Wg(t,c,s,i):t>=500?new Hg(t,c,s,i):new ft(t,c,s,i)}}class Ht extends ft{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class el extends ft{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class fd extends el{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Mg extends ft{}class Dg extends ft{}class Ug extends ft{}class Fg extends ft{}class zg extends ft{}class Bg extends ft{}class Wg extends ft{}class Hg extends ft{}class qg extends oe{constructor(){super("Could not parse response content as the length limit was reached")}}class Vg extends oe{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Ea extends Error{constructor(t){super(t)}}const x_=/^[a-z][a-z0-9+.-]*:/i,v_=a=>x_.test(a);let Pt=a=>(Pt=Array.isArray,Pt(a)),mp=Pt;function Kg(a){return typeof a!="object"?{}:a??{}}function w_(a){if(!a)return!0;for(const t in a)return!1;return!0}function b_(a,t){return Object.prototype.hasOwnProperty.call(a,t)}function hu(a){return a!=null&&typeof a=="object"&&!Array.isArray(a)}const __=(a,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new oe(`${a} must be an integer`);if(t<0)throw new oe(`${a} must be a positive integer`);return t},k_=a=>{try{return JSON.parse(a)}catch{return}},ri=a=>new Promise(t=>setTimeout(t,a)),Ss="5.23.0",j_=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function N_(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const S_=()=>{const a=N_();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ss,"X-Stainless-OS":gp(Deno.build.os),"X-Stainless-Arch":pp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ss,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ss,"X-Stainless-OS":gp(globalThis.process.platform??"unknown"),"X-Stainless-Arch":pp(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=E_();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ss,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ss,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function E_(){if(typeof navigator>"u"||!navigator)return null;const a=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of a){const s=r.exec(navigator.userAgent);if(s){const i=s[1]||0,c=s[2]||0,d=s[3]||0;return{browser:t,version:`${i}.${c}.${d}`}}}return null}const pp=a=>a==="x32"?"x32":a==="x86_64"||a==="x64"?"x64":a==="arm"?"arm":a==="aarch64"||a==="arm64"?"arm64":a?`other:${a}`:"unknown",gp=a=>(a=a.toLowerCase(),a.includes("ios")?"iOS":a==="android"?"Android":a==="darwin"?"MacOS":a==="win32"?"Windows":a==="freebsd"?"FreeBSD":a==="openbsd"?"OpenBSD":a==="linux"?"Linux":a?`Other:${a}`:"Unknown");let yp;const C_=()=>yp??(yp=S_());function P_(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Jg(...a){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...a)}function Gg(a){let t=Symbol.asyncIterator in a?a[Symbol.asyncIterator]():a[Symbol.iterator]();return Jg({start(){},async pull(r){const{done:s,value:i}=await t.next();s?r.close():r.enqueue(i)},async cancel(){await t.return?.()}})}function Qg(a){if(a[Symbol.asyncIterator])return a;const t=a.getReader();return{async next(){try{const r=await t.read();return r?.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function T_(a){if(a===null||typeof a!="object")return;if(a[Symbol.asyncIterator]){await a[Symbol.asyncIterator]().return?.();return}const t=a.getReader(),r=t.cancel();t.releaseLock(),await r}const A_=({headers:a,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),Xg="RFC3986",Yg=a=>String(a),xp={RFC1738:a=>String(a).replace(/%20/g,"+"),RFC3986:Yg},R_="RFC1738";let Fu=(a,t)=>(Fu=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Fu(a,t));const cr=(()=>{const a=[];for(let t=0;t<256;++t)a.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return a})(),fu=1024,I_=(a,t,r,s,i)=>{if(a.length===0)return a;let c=a;if(typeof a=="symbol"?c=Symbol.prototype.toString.call(a):typeof a!="string"&&(c=String(a)),r==="iso-8859-1")return escape(c).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});let d="";for(let f=0;f<c.length;f+=fu){const p=c.length>=fu?c.slice(f,f+fu):c,g=[];for(let y=0;y<p.length;++y){let v=p.charCodeAt(y);if(v===45||v===46||v===95||v===126||v>=48&&v<=57||v>=65&&v<=90||v>=97&&v<=122||i===R_&&(v===40||v===41)){g[g.length]=p.charAt(y);continue}if(v<128){g[g.length]=cr[v];continue}if(v<2048){g[g.length]=cr[192|v>>6]+cr[128|v&63];continue}if(v<55296||v>=57344){g[g.length]=cr[224|v>>12]+cr[128|v>>6&63]+cr[128|v&63];continue}y+=1,v=65536+((v&1023)<<10|p.charCodeAt(y)&1023),g[g.length]=cr[240|v>>18]+cr[128|v>>12&63]+cr[128|v>>6&63]+cr[128|v&63]}d+=g.join("")}return d};function O_(a){return!a||typeof a!="object"?!1:!!(a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer(a))}function vp(a,t){if(Pt(a)){const r=[];for(let s=0;s<a.length;s+=1)r.push(t(a[s]));return r}return t(a)}const Zg={brackets(a){return String(a)+"[]"},comma:"comma",indices(a,t){return String(a)+"["+t+"]"},repeat(a){return String(a)}},e0=function(a,t){Array.prototype.push.apply(a,Pt(t)?t:[t])};let wp;const tt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:I_,encodeValuesOnly:!1,format:Xg,formatter:Yg,indices:!1,serializeDate(a){return(wp??(wp=Function.prototype.call.bind(Date.prototype.toISOString)))(a)},skipNulls:!1,strictNullHandling:!1};function $_(a){return typeof a=="string"||typeof a=="number"||typeof a=="boolean"||typeof a=="symbol"||typeof a=="bigint"}const mu={};function t0(a,t,r,s,i,c,d,f,p,g,y,v,b,w,k,N,C,$){let T=a,M=$,L=0,H=!1;for(;(M=M.get(mu))!==void 0&&!H;){const ue=M.get(a);if(L+=1,typeof ue<"u"){if(ue===L)throw new RangeError("Cyclic object value");H=!0}typeof M.get(mu)>"u"&&(L=0)}if(typeof g=="function"?T=g(t,T):T instanceof Date?T=b?.(T):r==="comma"&&Pt(T)&&(T=vp(T,function(ue){return ue instanceof Date?b?.(ue):ue})),T===null){if(c)return p&&!N?p(t,tt.encoder,C,"key",w):t;T=""}if($_(T)||O_(T)){if(p){const ue=N?t:p(t,tt.encoder,C,"key",w);return[k?.(ue)+"="+k?.(p(T,tt.encoder,C,"value",w))]}return[k?.(t)+"="+k?.(String(T))]}const U=[];if(typeof T>"u")return U;let B;if(r==="comma"&&Pt(T))N&&p&&(T=vp(T,p)),B=[{value:T.length>0?T.join(",")||null:void 0}];else if(Pt(g))B=g;else{const ue=Object.keys(T);B=y?ue.sort(y):ue}const te=f?String(t).replace(/\./g,"%2E"):String(t),le=s&&Pt(T)&&T.length===1?te+"[]":te;if(i&&Pt(T)&&T.length===0)return le+"[]";for(let ue=0;ue<B.length;++ue){const be=B[ue],J=typeof be=="object"&&typeof be.value<"u"?be.value:T[be];if(d&&J===null)continue;const se=v&&f?be.replace(/\./g,"%2E"):be,Re=Pt(T)?typeof r=="function"?r(le,se):le:le+(v?"."+se:"["+se+"]");$.set(a,L);const Ke=new WeakMap;Ke.set(mu,$),e0(U,t0(J,Re,r,s,i,c,d,f,r==="comma"&&N&&Pt(T)?null:p,g,y,v,b,w,k,N,C,Ke))}return U}function L_(a=tt){if(typeof a.allowEmptyArrays<"u"&&typeof a.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof a.encodeDotInKeys<"u"&&typeof a.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(a.encoder!==null&&typeof a.encoder<"u"&&typeof a.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=a.charset||tt.charset;if(typeof a.charset<"u"&&a.charset!=="utf-8"&&a.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=Xg;if(typeof a.format<"u"){if(!Fu(xp,a.format))throw new TypeError("Unknown format option provided.");r=a.format}const s=xp[r];let i=tt.filter;(typeof a.filter=="function"||Pt(a.filter))&&(i=a.filter);let c;if(a.arrayFormat&&a.arrayFormat in Zg?c=a.arrayFormat:"indices"in a?c=a.indices?"indices":"repeat":c=tt.arrayFormat,"commaRoundTrip"in a&&typeof a.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const d=typeof a.allowDots>"u"?a.encodeDotInKeys?!0:tt.allowDots:!!a.allowDots;return{addQueryPrefix:typeof a.addQueryPrefix=="boolean"?a.addQueryPrefix:tt.addQueryPrefix,allowDots:d,allowEmptyArrays:typeof a.allowEmptyArrays=="boolean"?!!a.allowEmptyArrays:tt.allowEmptyArrays,arrayFormat:c,charset:t,charsetSentinel:typeof a.charsetSentinel=="boolean"?a.charsetSentinel:tt.charsetSentinel,commaRoundTrip:!!a.commaRoundTrip,delimiter:typeof a.delimiter>"u"?tt.delimiter:a.delimiter,encode:typeof a.encode=="boolean"?a.encode:tt.encode,encodeDotInKeys:typeof a.encodeDotInKeys=="boolean"?a.encodeDotInKeys:tt.encodeDotInKeys,encoder:typeof a.encoder=="function"?a.encoder:tt.encoder,encodeValuesOnly:typeof a.encodeValuesOnly=="boolean"?a.encodeValuesOnly:tt.encodeValuesOnly,filter:i,format:r,formatter:s,serializeDate:typeof a.serializeDate=="function"?a.serializeDate:tt.serializeDate,skipNulls:typeof a.skipNulls=="boolean"?a.skipNulls:tt.skipNulls,sort:typeof a.sort=="function"?a.sort:null,strictNullHandling:typeof a.strictNullHandling=="boolean"?a.strictNullHandling:tt.strictNullHandling}}function M_(a,t={}){let r=a;const s=L_(t);let i,c;typeof s.filter=="function"?(c=s.filter,r=c("",r)):Pt(s.filter)&&(c=s.filter,i=c);const d=[];if(typeof r!="object"||r===null)return"";const f=Zg[s.arrayFormat],p=f==="comma"&&s.commaRoundTrip;i||(i=Object.keys(r)),s.sort&&i.sort(s.sort);const g=new WeakMap;for(let b=0;b<i.length;++b){const w=i[b];s.skipNulls&&r[w]===null||e0(d,t0(r[w],w,f,p,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,g))}const y=d.join(s.delimiter);let v=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),y.length>0?v+y:""}function D_(a){let t=0;for(const i of a)t+=i.length;const r=new Uint8Array(t);let s=0;for(const i of a)r.set(i,s),s+=i.length;return r}let bp;function md(a){let t;return(bp??(t=new globalThis.TextEncoder,bp=t.encode.bind(t)))(a)}let _p;function kp(a){let t;return(_p??(t=new globalThis.TextDecoder,_p=t.decode.bind(t)))(a)}var Ot,$t;class tl{constructor(){Ot.set(this,void 0),$t.set(this,void 0),ye(this,Ot,new Uint8Array),ye(this,$t,null)}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?md(t):t;ye(this,Ot,D_([I(this,Ot,"f"),r]));const s=[];let i;for(;(i=U_(I(this,Ot,"f"),I(this,$t,"f")))!=null;){if(i.carriage&&I(this,$t,"f")==null){ye(this,$t,i.index);continue}if(I(this,$t,"f")!=null&&(i.index!==I(this,$t,"f")+1||i.carriage)){s.push(kp(I(this,Ot,"f").subarray(0,I(this,$t,"f")-1))),ye(this,Ot,I(this,Ot,"f").subarray(I(this,$t,"f"))),ye(this,$t,null);continue}const c=I(this,$t,"f")!==null?i.preceding-1:i.preceding,d=kp(I(this,Ot,"f").subarray(0,c));s.push(d),ye(this,Ot,I(this,Ot,"f").subarray(i.index)),ye(this,$t,null)}return s}flush(){return I(this,Ot,"f").length?this.decode(`
`):[]}}Ot=new WeakMap,$t=new WeakMap;tl.NEWLINE_CHARS=new Set([`
`,"\r"]);tl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function U_(a,t){for(let i=t??0;i<a.length;i++){if(a[i]===10)return{preceding:i,index:i+1,carriage:!1};if(a[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function F_(a){for(let s=0;s<a.length-1;s++){if(a[s]===10&&a[s+1]===10||a[s]===13&&a[s+1]===13)return s+2;if(a[s]===13&&a[s+1]===10&&s+3<a.length&&a[s+2]===13&&a[s+3]===10)return s+4}return-1}const Wo={off:0,error:200,warn:300,info:400,debug:500},jp=(a,t,r)=>{if(a){if(b_(Wo,a))return a;ut(r).warn(`${t} was set to ${JSON.stringify(a)}, expected one of ${JSON.stringify(Object.keys(Wo))}`)}};function Ca(){}function _o(a,t,r){return!t||Wo[a]>Wo[r]?Ca:t[a].bind(t)}const z_={error:Ca,warn:Ca,info:Ca,debug:Ca};let Np=new WeakMap;function ut(a){const t=a.logger,r=a.logLevel??"off";if(!t)return z_;const s=Np.get(t);if(s&&s[0]===r)return s[1];const i={error:_o("error",t,r),warn:_o("warn",t,r),info:_o("info",t,r),debug:_o("debug",t,r)};return Np.set(t,[r,i]),i}const Pn=a=>(a.options&&(a.options={...a.options},delete a.options.headers),a.headers&&(a.headers=Object.fromEntries((a.headers instanceof Headers?[...a.headers]:Object.entries(a.headers)).map(([t,r])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in a&&(a.retryOfRequestLogID&&(a.retryOf=a.retryOfRequestLogID),delete a.retryOfRequestLogID),a);var ja;class fr{constructor(t,r,s){this.iterator=t,ja.set(this,void 0),this.controller=r,ye(this,ja,s)}static fromSSEResponse(t,r,s){let i=!1;const c=s?ut(s):console;async function*d(){if(i)throw new oe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{for await(const p of B_(t,r))if(!f){if(p.data.startsWith("[DONE]")){f=!0;continue}if(p.event===null||!p.event.startsWith("thread.")){let g;try{g=JSON.parse(p.data)}catch(y){throw c.error("Could not parse message into JSON:",p.data),c.error("From chunk:",p.raw),y}if(g&&g.error)throw new ft(void 0,g.error,void 0,t.headers);yield g}else{let g;try{g=JSON.parse(p.data)}catch(y){throw console.error("Could not parse message into JSON:",p.data),console.error("From chunk:",p.raw),y}if(p.event=="error")throw new ft(void 0,g.error,g.message,void 0);yield{event:p.event,data:g}}}f=!0}catch(p){if(Du(p))return;throw p}finally{f||r.abort()}}return new fr(d,r,s)}static fromReadableStream(t,r,s){let i=!1;async function*c(){const f=new tl,p=Qg(t);for await(const g of p)for(const y of f.decode(g))yield y;for(const g of f.flush())yield g}async function*d(){if(i)throw new oe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{for await(const p of c())f||p&&(yield JSON.parse(p));f=!0}catch(p){if(Du(p))return;throw p}finally{f||r.abort()}}return new fr(d,r,s)}[(ja=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],r=[],s=this.iterator(),i=c=>({next:()=>{if(c.length===0){const d=s.next();t.push(d),r.push(d)}return c.shift()}});return[new fr(()=>i(t),this.controller,I(this,ja,"f")),new fr(()=>i(r),this.controller,I(this,ja,"f"))]}toReadableStream(){const t=this;let r;return Jg({async start(){r=t[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:c}=await r.next();if(c)return s.close();const d=md(JSON.stringify(i)+`
`);s.enqueue(d)}catch(i){s.error(i)}},async cancel(){await r.return?.()}})}}async function*B_(a,t){if(!a.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new oe("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new oe("Attempted to iterate over a response with no body");const r=new H_,s=new tl,i=Qg(a.body);for await(const c of W_(i))for(const d of s.decode(c)){const f=r.decode(d);f&&(yield f)}for(const c of s.flush()){const d=r.decode(c);d&&(yield d)}}async function*W_(a){let t=new Uint8Array;for await(const r of a){if(r==null)continue;const s=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?md(r):r;let i=new Uint8Array(t.length+s.length);i.set(t),i.set(s,t.length),t=i;let c;for(;(c=F_(t))!==-1;)yield t.slice(0,c),t=t.slice(c)}t.length>0&&(yield t)}class H_{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,s,i]=q_(t,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}function q_(a,t){const r=a.indexOf(t);return r!==-1?[a.substring(0,r),t,a.substring(r+t.length)]:[a,"",""]}async function r0(a,t){const{response:r,requestLogID:s,retryOfRequestLogID:i,startTime:c}=t,d=await(async()=>{if(t.options.stream)return ut(a).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller,a):fr.fromSSEResponse(r,t.controller,a);if(r.status===204)return null;if(t.options.__binaryResponse)return r;const p=r.headers.get("content-type")?.split(";")[0]?.trim();if(p?.includes("application/json")||p?.endsWith("+json")){const v=await r.json();return n0(v,r)}return await r.text()})();return ut(a).debug(`[${s}] response parsed`,Pn({retryOfRequestLogID:i,url:r.url,status:r.status,body:d,durationMs:Date.now()-c})),d}function n0(a,t){return!a||typeof a!="object"||Array.isArray(a)?a:Object.defineProperty(a,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var Pa;class rl extends Promise{constructor(t,r,s=r0){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=s,Pa.set(this,void 0),ye(this,Pa,t)}_thenUnwrap(t){return new rl(I(this,Pa,"f"),this.responsePromise,async(r,s)=>n0(t(await this.parseResponse(r,s),s),s.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(I(this,Pa,"f"),t))),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}Pa=new WeakMap;var ko;class pd{constructor(t,r,s,i){ko.set(this,void 0),ye(this,ko,t),this.options=i,this.response=r,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new oe("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await I(this,ko,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(ko=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const r of t.getPaginatedItems())yield r}}class V_ extends rl{constructor(t,r,s){super(t,r,async(i,c)=>new s(i,c.response,await r0(i,c),c.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const r of t)yield r}}class nl extends pd{constructor(t,r,s,i){super(t,r,s,i),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class Ge extends pd{constructor(t,r,s,i){super(t,r,s,i),this.data=s.data||[],this.has_more=s.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.getPaginatedItems(),r=t[t.length-1]?.id;return r?{...this.options,query:{...Kg(this.options.query),after:r}}:null}}class K_ extends pd{constructor(t,r,s,i){super(t,r,s,i),this.data=s.data||[],this.has_more=s.has_more||!1,this.last_id=s.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.last_id;return t?{...this.options,query:{...Kg(this.options.query),after:t}}:null}}const s0=()=>{if(typeof File>"u"){const{process:a}=globalThis,t=typeof a?.versions?.node=="string"&&parseInt(a.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Fa(a,t,r){return s0(),new File(a,t??"unknown_file",r)}function Ao(a){return(typeof a=="object"&&a!==null&&("name"in a&&a.name&&String(a.name)||"url"in a&&a.url&&String(a.url)||"filename"in a&&a.filename&&String(a.filename)||"path"in a&&a.path&&String(a.path))||"").split(/[\\/]/).pop()||void 0}const a0=a=>a!=null&&typeof a=="object"&&typeof a[Symbol.asyncIterator]=="function",Mn=async(a,t)=>({...a,body:await G_(a.body,t)}),Sp=new WeakMap;function J_(a){const t=typeof a=="function"?a:a.fetch,r=Sp.get(t);if(r)return r;const s=(async()=>{try{const i="Response"in t?t.Response:(await t("data:,")).constructor,c=new FormData;return c.toString()!==await new i(c).text()}catch{return!0}})();return Sp.set(t,s),s}const G_=async(a,t)=>{if(!await J_(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const r=new FormData;return await Promise.all(Object.entries(a||{}).map(([s,i])=>zu(r,s,i))),r},Q_=a=>a instanceof Blob&&"name"in a,zu=async(a,t,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")a.append(t,String(r));else if(r instanceof Response)a.append(t,Fa([await r.blob()],Ao(r)));else if(a0(r))a.append(t,Fa([await new Response(Gg(r)).blob()],Ao(r)));else if(Q_(r))a.append(t,r,Ao(r));else if(Array.isArray(r))await Promise.all(r.map(s=>zu(a,t+"[]",s)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([s,i])=>zu(a,`${t}[${s}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}},i0=a=>a!=null&&typeof a=="object"&&typeof a.size=="number"&&typeof a.type=="string"&&typeof a.text=="function"&&typeof a.slice=="function"&&typeof a.arrayBuffer=="function",X_=a=>a!=null&&typeof a=="object"&&typeof a.name=="string"&&typeof a.lastModified=="number"&&i0(a),Y_=a=>a!=null&&typeof a=="object"&&typeof a.url=="string"&&typeof a.blob=="function";async function Z_(a,t,r){if(s0(),a=await a,X_(a))return a instanceof File?a:Fa([await a.arrayBuffer()],a.name);if(Y_(a)){const i=await a.blob();return t||(t=new URL(a.url).pathname.split(/[\\/]/).pop()),Fa(await Bu(i),t,r)}const s=await Bu(a);if(t||(t=Ao(a)),!r?.type){const i=s.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof i=="string"&&(r={...r,type:i})}return Fa(s,t,r)}async function Bu(a){let t=[];if(typeof a=="string"||ArrayBuffer.isView(a)||a instanceof ArrayBuffer)t.push(a);else if(i0(a))t.push(a instanceof Blob?a:await a.arrayBuffer());else if(a0(a))for await(const r of a)t.push(...await Bu(r));else{const r=a?.constructor?.name;throw new Error(`Unexpected data type: ${typeof a}${r?`; constructor: ${r}`:""}${e2(a)}`)}return t}function e2(a){return typeof a!="object"||a===null?"":`; props: [${Object.getOwnPropertyNames(a).map(r=>`"${r}"`).join(", ")}]`}class fe{constructor(t){this._client=t}}function o0(a){return a.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Ep=Object.freeze(Object.create(null)),t2=(a=o0)=>function(r,...s){if(r.length===1)return r[0];let i=!1;const c=[],d=r.reduce((y,v,b)=>{/[?#]/.test(v)&&(i=!0);const w=s[b];let k=(i?encodeURIComponent:a)(""+w);return b!==s.length&&(w==null||typeof w=="object"&&w.toString===Object.getPrototypeOf(Object.getPrototypeOf(w.hasOwnProperty??Ep)??Ep)?.toString)&&(k=w+"",c.push({start:y.length+v.length,length:k.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),y+v+(b===s.length?"":k)},""),f=d.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=p.exec(f))!==null;)c.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(c.sort((y,v)=>y.start-v.start),c.length>0){let y=0;const v=c.reduce((b,w)=>{const k=" ".repeat(w.start-y),N="^".repeat(w.length);return y=w.start+w.length,b+k+N},"");throw new oe(`Path parameters result in path with invalid segments:
${c.map(b=>b.error).join(`
`)}
${d}
${v}`)}return d},K=t2(o0);let l0=class extends fe{list(t,r={},s){return this._client.getAPIList(K`/chat/completions/${t}/messages`,Ge,{query:r,...s})}};function Ho(a){return a!==void 0&&"function"in a&&a.function!==void 0}function gd(a){return a?.$brand==="auto-parseable-response-format"}function ni(a){return a?.$brand==="auto-parseable-tool"}function r2(a,t){return!t||!c0(t)?{...a,choices:a.choices.map(r=>(u0(r.message.tool_calls),{...r,message:{...r.message,parsed:null,...r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0}}))}:yd(a,t)}function yd(a,t){const r=a.choices.map(s=>{if(s.finish_reason==="length")throw new qg;if(s.finish_reason==="content_filter")throw new Vg;return u0(s.message.tool_calls),{...s,message:{...s.message,...s.message.tool_calls?{tool_calls:s.message.tool_calls?.map(i=>s2(t,i))??void 0}:void 0,parsed:s.message.content&&!s.message.refusal?n2(t,s.message.content):null}}});return{...a,choices:r}}function n2(a,t){return a.response_format?.type!=="json_schema"?null:a.response_format?.type==="json_schema"?"$parseRaw"in a.response_format?a.response_format.$parseRaw(t):JSON.parse(t):null}function s2(a,t){const r=a.tools?.find(s=>Ho(s)&&s.function?.name===t.function.name);return{...t,function:{...t.function,parsed_arguments:ni(r)?r.$parseRaw(t.function.arguments):r?.function.strict?JSON.parse(t.function.arguments):null}}}function a2(a,t){if(!a||!("tools"in a)||!a.tools)return!1;const r=a.tools?.find(s=>Ho(s)&&s.function?.name===t.function.name);return Ho(r)&&(ni(r)||r?.function.strict||!1)}function c0(a){return gd(a.response_format)?!0:a.tools?.some(t=>ni(t)||t.type==="function"&&t.function.strict===!0)??!1}function u0(a){for(const t of a||[])if(t.type!=="function")throw new oe(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}function i2(a){for(const t of a??[]){if(t.type!=="function")throw new oe(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new oe(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const qo=a=>a?.role==="assistant",d0=a=>a?.role==="tool";var Wu,Ro,Io,Ta,Aa,Oo,Ra,Er,Ia,Vo,Ko,Es,h0;class xd{constructor(){Wu.add(this),this.controller=new AbortController,Ro.set(this,void 0),Io.set(this,()=>{}),Ta.set(this,()=>{}),Aa.set(this,void 0),Oo.set(this,()=>{}),Ra.set(this,()=>{}),Er.set(this,{}),Ia.set(this,!1),Vo.set(this,!1),Ko.set(this,!1),Es.set(this,!1),ye(this,Ro,new Promise((t,r)=>{ye(this,Io,t,"f"),ye(this,Ta,r,"f")})),ye(this,Aa,new Promise((t,r)=>{ye(this,Oo,t,"f"),ye(this,Ra,r,"f")})),I(this,Ro,"f").catch(()=>{}),I(this,Aa,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},I(this,Wu,"m",h0).bind(this))},0)}_connected(){this.ended||(I(this,Io,"f").call(this),this._emit("connect"))}get ended(){return I(this,Ia,"f")}get errored(){return I(this,Vo,"f")}get aborted(){return I(this,Ko,"f")}abort(){this.controller.abort()}on(t,r){return(I(this,Er,"f")[t]||(I(this,Er,"f")[t]=[])).push({listener:r}),this}off(t,r){const s=I(this,Er,"f")[t];if(!s)return this;const i=s.findIndex(c=>c.listener===r);return i>=0&&s.splice(i,1),this}once(t,r){return(I(this,Er,"f")[t]||(I(this,Er,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,s)=>{ye(this,Es,!0),t!=="error"&&this.once("error",s),this.once(t,r)})}async done(){ye(this,Es,!0),await I(this,Aa,"f")}_emit(t,...r){if(I(this,Ia,"f"))return;t==="end"&&(ye(this,Ia,!0),I(this,Oo,"f").call(this));const s=I(this,Er,"f")[t];if(s&&(I(this,Er,"f")[t]=s.filter(i=>!i.once),s.forEach(({listener:i})=>i(...r))),t==="abort"){const i=r[0];!I(this,Es,"f")&&!s?.length&&Promise.reject(i),I(this,Ta,"f").call(this,i),I(this,Ra,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=r[0];!I(this,Es,"f")&&!s?.length&&Promise.reject(i),I(this,Ta,"f").call(this,i),I(this,Ra,"f").call(this,i),this._emit("end")}}_emitFinal(){}}Ro=new WeakMap,Io=new WeakMap,Ta=new WeakMap,Aa=new WeakMap,Oo=new WeakMap,Ra=new WeakMap,Er=new WeakMap,Ia=new WeakMap,Vo=new WeakMap,Ko=new WeakMap,Es=new WeakMap,Wu=new WeakSet,h0=function(t){if(ye(this,Vo,!0),t instanceof Error&&t.name==="AbortError"&&(t=new Ht),t instanceof Ht)return ye(this,Ko,!0),this._emit("abort",t);if(t instanceof oe)return this._emit("error",t);if(t instanceof Error){const r=new oe(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new oe(String(t)))};function o2(a){return typeof a.parse=="function"}var _t,Hu,Jo,qu,Vu,Ku,f0,m0;const l2=10;class p0 extends xd{constructor(){super(...arguments),_t.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){this._chatCompletions.push(t),this._emit("chatCompletion",t);const r=t.choices[0]?.message;return r&&this._addMessage(r),t}_addMessage(t,r=!0){if("content"in t||(t.content=null),this.messages.push(t),r){if(this._emit("message",t),d0(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(qo(t)&&t.tool_calls)for(const s of t.tool_calls)s.type==="function"&&this._emit("functionToolCall",s.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new oe("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),I(this,_t,"m",Hu).call(this)}async finalMessage(){return await this.done(),I(this,_t,"m",Jo).call(this)}async finalFunctionToolCall(){return await this.done(),I(this,_t,"m",qu).call(this)}async finalFunctionToolCallResult(){return await this.done(),I(this,_t,"m",Vu).call(this)}async totalUsage(){return await this.done(),I(this,_t,"m",Ku).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const r=I(this,_t,"m",Jo).call(this);r&&this._emit("finalMessage",r);const s=I(this,_t,"m",Hu).call(this);s&&this._emit("finalContent",s);const i=I(this,_t,"m",qu).call(this);i&&this._emit("finalFunctionToolCall",i);const c=I(this,_t,"m",Vu).call(this);c!=null&&this._emit("finalFunctionToolCallResult",c),this._chatCompletions.some(d=>d.usage)&&this._emit("totalUsage",I(this,_t,"m",Ku).call(this))}async _createChatCompletion(t,r,s){const i=s?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),I(this,_t,"m",f0).call(this,r);const c=await t.chat.completions.create({...r,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(yd(c,r))}async _runChatCompletion(t,r,s){for(const i of r.messages)this._addMessage(i,!1);return await this._createChatCompletion(t,r,s)}async _runTools(t,r,s){const i="tool",{tool_choice:c="auto",stream:d,...f}=r,p=typeof c!="string"&&c.type==="function"&&c?.function?.name,{maxChatCompletions:g=l2}=s||{},y=r.tools.map(w=>{if(ni(w)){if(!w.$callback)throw new oe("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:w.$callback,name:w.function.name,description:w.function.description||"",parameters:w.function.parameters,parse:w.$parseRaw,strict:!0}}}return w}),v={};for(const w of y)w.type==="function"&&(v[w.function.name||w.function.function.name]=w.function);const b="tools"in r?y.map(w=>w.type==="function"?{type:"function",function:{name:w.function.name||w.function.function.name,parameters:w.function.parameters,description:w.function.description,strict:w.function.strict}}:w):void 0;for(const w of r.messages)this._addMessage(w,!1);for(let w=0;w<g;++w){const N=(await this._createChatCompletion(t,{...f,tool_choice:c,tools:b,messages:[...this.messages]},s)).choices[0]?.message;if(!N)throw new oe("missing message in ChatCompletion response");if(!N.tool_calls?.length)return;for(const C of N.tool_calls){if(C.type!=="function")continue;const $=C.id,{name:T,arguments:M}=C.function,L=v[T];if(L){if(p&&p!==T){const te=`Invalid tool_call: ${JSON.stringify(T)}. ${JSON.stringify(p)} requested. Please try again`;this._addMessage({role:i,tool_call_id:$,content:te});continue}}else{const te=`Invalid tool_call: ${JSON.stringify(T)}. Available options are: ${Object.keys(v).map(le=>JSON.stringify(le)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:$,content:te});continue}let H;try{H=o2(L)?await L.parse(M):M}catch(te){const le=te instanceof Error?te.message:String(te);this._addMessage({role:i,tool_call_id:$,content:le});continue}const U=await L.function(H,this),B=I(this,_t,"m",m0).call(this,U);if(this._addMessage({role:i,tool_call_id:$,content:B}),p)return}}}}_t=new WeakSet,Hu=function(){return I(this,_t,"m",Jo).call(this).content??null},Jo=function(){let t=this.messages.length;for(;t-- >0;){const r=this.messages[t];if(qo(r))return{...r,content:r.content??null,refusal:r.refusal??null}}throw new oe("stream ended without producing a ChatCompletionMessage with role=assistant")},qu=function(){for(let t=this.messages.length-1;t>=0;t--){const r=this.messages[t];if(qo(r)&&r?.tool_calls?.length)return r.tool_calls.filter(s=>s.type==="function").at(-1)?.function}},Vu=function(){for(let t=this.messages.length-1;t>=0;t--){const r=this.messages[t];if(d0(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(s=>s.role==="assistant"&&s.tool_calls?.some(i=>i.type==="function"&&i.id===r.tool_call_id)))return r.content}},Ku=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(t.completion_tokens+=r.completion_tokens,t.prompt_tokens+=r.prompt_tokens,t.total_tokens+=r.total_tokens);return t},f0=function(t){if(t.n!=null&&t.n>1)throw new oe("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},m0=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class vd extends p0{static runTools(t,r,s){const i=new vd,c={...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,r,c)),i}_addMessage(t,r=!0){super._addMessage(t,r),qo(t)&&t.content&&this._emit("content",t.content)}}const g0=1,y0=2,x0=4,v0=8,w0=16,b0=32,_0=64,k0=128,j0=256,N0=k0|j0,S0=w0|b0|N0|_0,E0=g0|y0|S0,C0=x0|v0,c2=E0|C0,ot={STR:g0,NUM:y0,ARR:x0,OBJ:v0,NULL:w0,BOOL:b0,NAN:_0,INFINITY:k0,MINUS_INFINITY:j0,INF:N0,SPECIAL:S0,ATOM:E0,COLLECTION:C0,ALL:c2};class u2 extends Error{}class d2 extends Error{}function h2(a,t=ot.ALL){if(typeof a!="string")throw new TypeError(`expecting str, got ${typeof a}`);if(!a.trim())throw new Error(`${a} is empty`);return f2(a.trim(),t)}const f2=(a,t)=>{const r=a.length;let s=0;const i=b=>{throw new u2(`${b} at position ${s}`)},c=b=>{throw new d2(`${b} at position ${s}`)},d=()=>(v(),s>=r&&i("Unexpected end of input"),a[s]==='"'?f():a[s]==="{"?p():a[s]==="["?g():a.substring(s,s+4)==="null"||ot.NULL&t&&r-s<4&&"null".startsWith(a.substring(s))?(s+=4,null):a.substring(s,s+4)==="true"||ot.BOOL&t&&r-s<4&&"true".startsWith(a.substring(s))?(s+=4,!0):a.substring(s,s+5)==="false"||ot.BOOL&t&&r-s<5&&"false".startsWith(a.substring(s))?(s+=5,!1):a.substring(s,s+8)==="Infinity"||ot.INFINITY&t&&r-s<8&&"Infinity".startsWith(a.substring(s))?(s+=8,1/0):a.substring(s,s+9)==="-Infinity"||ot.MINUS_INFINITY&t&&1<r-s&&r-s<9&&"-Infinity".startsWith(a.substring(s))?(s+=9,-1/0):a.substring(s,s+3)==="NaN"||ot.NAN&t&&r-s<3&&"NaN".startsWith(a.substring(s))?(s+=3,NaN):y()),f=()=>{const b=s;let w=!1;for(s++;s<r&&(a[s]!=='"'||w&&a[s-1]==="\\");)w=a[s]==="\\"?!w:!1,s++;if(a.charAt(s)=='"')try{return JSON.parse(a.substring(b,++s-Number(w)))}catch(k){c(String(k))}else if(ot.STR&t)try{return JSON.parse(a.substring(b,s-Number(w))+'"')}catch{return JSON.parse(a.substring(b,a.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},p=()=>{s++,v();const b={};try{for(;a[s]!=="}";){if(v(),s>=r&&ot.OBJ&t)return b;const w=f();v(),s++;try{const k=d();Object.defineProperty(b,w,{value:k,writable:!0,enumerable:!0,configurable:!0})}catch(k){if(ot.OBJ&t)return b;throw k}v(),a[s]===","&&s++}}catch{if(ot.OBJ&t)return b;i("Expected '}' at end of object")}return s++,b},g=()=>{s++;const b=[];try{for(;a[s]!=="]";)b.push(d()),v(),a[s]===","&&s++}catch{if(ot.ARR&t)return b;i("Expected ']' at end of array")}return s++,b},y=()=>{if(s===0){a==="-"&&ot.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(a)}catch(w){if(ot.NUM&t)try{return a[a.length-1]==="."?JSON.parse(a.substring(0,a.lastIndexOf("."))):JSON.parse(a.substring(0,a.lastIndexOf("e")))}catch{}c(String(w))}}const b=s;for(a[s]==="-"&&s++;a[s]&&!",]}".includes(a[s]);)s++;s==r&&!(ot.NUM&t)&&i("Unterminated number literal");try{return JSON.parse(a.substring(b,s))}catch{a.substring(b,s)==="-"&&ot.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(a.substring(b,a.lastIndexOf("e")))}catch(k){c(String(k))}}},v=()=>{for(;s<r&&` 
\r	`.includes(a[s]);)s++};return d()},Cp=a=>h2(a,ot.ALL^ot.NUM);var Ze,Nr,bs,rn,pu,jo,gu,yu,xu,No,vu,Pp;class Ja extends p0{constructor(t){super(),Ze.add(this),Nr.set(this,void 0),bs.set(this,void 0),rn.set(this,void 0),ye(this,Nr,t),ye(this,bs,[])}get currentChatCompletionSnapshot(){return I(this,rn,"f")}static fromReadableStream(t){const r=new Ja(null);return r._run(()=>r._fromReadableStream(t)),r}static createChatCompletion(t,r,s){const i=new Ja(r);return i._run(()=>i._runChatCompletion(t,{...r,stream:!0},{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(t,r,s){super._createChatCompletion;const i=s?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),I(this,Ze,"m",pu).call(this);const c=await t.chat.completions.create({...r,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const d of c)I(this,Ze,"m",gu).call(this,d);if(c.controller.signal?.aborted)throw new Ht;return this._addChatCompletion(I(this,Ze,"m",No).call(this))}async _fromReadableStream(t,r){const s=r?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),I(this,Ze,"m",pu).call(this),this._connected();const i=fr.fromReadableStream(t,this.controller);let c;for await(const d of i)c&&c!==d.id&&this._addChatCompletion(I(this,Ze,"m",No).call(this)),I(this,Ze,"m",gu).call(this,d),c=d.id;if(i.controller.signal?.aborted)throw new Ht;return this._addChatCompletion(I(this,Ze,"m",No).call(this))}[(Nr=new WeakMap,bs=new WeakMap,rn=new WeakMap,Ze=new WeakSet,pu=function(){this.ended||ye(this,rn,void 0)},jo=function(r){let s=I(this,bs,"f")[r.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},I(this,bs,"f")[r.index]=s,s)},gu=function(r){if(this.ended)return;const s=I(this,Ze,"m",Pp).call(this,r);this._emit("chunk",r,s);for(const i of r.choices){const c=s.choices[i.index];i.delta.content!=null&&c.message?.role==="assistant"&&c.message?.content&&(this._emit("content",i.delta.content,c.message.content),this._emit("content.delta",{delta:i.delta.content,snapshot:c.message.content,parsed:c.message.parsed})),i.delta.refusal!=null&&c.message?.role==="assistant"&&c.message?.refusal&&this._emit("refusal.delta",{delta:i.delta.refusal,snapshot:c.message.refusal}),i.logprobs?.content!=null&&c.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:i.logprobs?.content,snapshot:c.logprobs?.content??[]}),i.logprobs?.refusal!=null&&c.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:i.logprobs?.refusal,snapshot:c.logprobs?.refusal??[]});const d=I(this,Ze,"m",jo).call(this,c);c.finish_reason&&(I(this,Ze,"m",xu).call(this,c),d.current_tool_call_index!=null&&I(this,Ze,"m",yu).call(this,c,d.current_tool_call_index));for(const f of i.delta.tool_calls??[])d.current_tool_call_index!==f.index&&(I(this,Ze,"m",xu).call(this,c),d.current_tool_call_index!=null&&I(this,Ze,"m",yu).call(this,c,d.current_tool_call_index)),d.current_tool_call_index=f.index;for(const f of i.delta.tool_calls??[]){const p=c.message.tool_calls?.[f.index];p?.type&&(p?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:p.function?.name,index:f.index,arguments:p.function.arguments,parsed_arguments:p.function.parsed_arguments,arguments_delta:f.function?.arguments??""}):(p?.type,void 0))}}},yu=function(r,s){if(I(this,Ze,"m",jo).call(this,r).done_tool_calls.has(s))return;const c=r.message.tool_calls?.[s];if(!c)throw new Error("no tool call snapshot");if(!c.type)throw new Error("tool call snapshot missing `type`");if(c.type==="function"){const d=I(this,Nr,"f")?.tools?.find(f=>Ho(f)&&f.function.name===c.function.name);this._emit("tool_calls.function.arguments.done",{name:c.function.name,index:s,arguments:c.function.arguments,parsed_arguments:ni(d)?d.$parseRaw(c.function.arguments):d?.function.strict?JSON.parse(c.function.arguments):null})}else c.type},xu=function(r){const s=I(this,Ze,"m",jo).call(this,r);if(r.message.content&&!s.content_done){s.content_done=!0;const i=I(this,Ze,"m",vu).call(this);this._emit("content.done",{content:r.message.content,parsed:i?i.$parseRaw(r.message.content):null})}r.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),r.logprobs?.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),r.logprobs?.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},No=function(){if(this.ended)throw new oe("stream has ended, this shouldn't happen");const r=I(this,rn,"f");if(!r)throw new oe("request ended without sending any chunks");return ye(this,rn,void 0),ye(this,bs,[]),m2(r,I(this,Nr,"f"))},vu=function(){const r=I(this,Nr,"f")?.response_format;return gd(r)?r:null},Pp=function(r){var s,i,c,d;let f=I(this,rn,"f");const{choices:p,...g}=r;f?Object.assign(f,g):f=ye(this,rn,{...g,choices:[]});for(const{delta:y,finish_reason:v,index:b,logprobs:w=null,...k}of r.choices){let N=f.choices[b];if(N||(N=f.choices[b]={finish_reason:v,index:b,message:{},logprobs:w,...k}),w)if(!N.logprobs)N.logprobs=Object.assign({},w);else{const{content:U,refusal:B,...te}=w;Object.assign(N.logprobs,te),U&&((s=N.logprobs).content??(s.content=[]),N.logprobs.content.push(...U)),B&&((i=N.logprobs).refusal??(i.refusal=[]),N.logprobs.refusal.push(...B))}if(v&&(N.finish_reason=v,I(this,Nr,"f")&&c0(I(this,Nr,"f")))){if(v==="length")throw new qg;if(v==="content_filter")throw new Vg}if(Object.assign(N,k),!y)continue;const{content:C,refusal:$,function_call:T,role:M,tool_calls:L,...H}=y;if(Object.assign(N.message,H),$&&(N.message.refusal=(N.message.refusal||"")+$),M&&(N.message.role=M),T&&(N.message.function_call?(T.name&&(N.message.function_call.name=T.name),T.arguments&&((c=N.message.function_call).arguments??(c.arguments=""),N.message.function_call.arguments+=T.arguments)):N.message.function_call=T),C&&(N.message.content=(N.message.content||"")+C,!N.message.refusal&&I(this,Ze,"m",vu).call(this)&&(N.message.parsed=Cp(N.message.content))),L){N.message.tool_calls||(N.message.tool_calls=[]);for(const{index:U,id:B,type:te,function:le,...ue}of L){const be=(d=N.message.tool_calls)[U]??(d[U]={});Object.assign(be,ue),B&&(be.id=B),te&&(be.type=te),le&&(be.function??(be.function={name:le.name??"",arguments:""})),le?.name&&(be.function.name=le.name),le?.arguments&&(be.function.arguments+=le.arguments,a2(I(this,Nr,"f"),be)&&(be.function.parsed_arguments=Cp(be.function.arguments)))}}}return f},Symbol.asyncIterator)](){const t=[],r=[];let s=!1;return this.on("chunk",i=>{const c=r.shift();c?c.resolve(i):t.push(i)}),this.on("end",()=>{s=!0;for(const i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{s=!0;for(const c of r)c.reject(i);r.length=0}),this.on("error",i=>{s=!0;for(const c of r)c.reject(i);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((c,d)=>r.push({resolve:c,reject:d})).then(c=>c?{value:c,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new fr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function m2(a,t){const{id:r,choices:s,created:i,model:c,system_fingerprint:d,...f}=a,p={...f,id:r,choices:s.map(({message:g,finish_reason:y,index:v,logprobs:b,...w})=>{if(!y)throw new oe(`missing finish_reason for choice ${v}`);const{content:k=null,function_call:N,tool_calls:C,...$}=g,T=g.role;if(!T)throw new oe(`missing role for choice ${v}`);if(N){const{arguments:M,name:L}=N;if(M==null)throw new oe(`missing function_call.arguments for choice ${v}`);if(!L)throw new oe(`missing function_call.name for choice ${v}`);return{...w,message:{content:k,function_call:{arguments:M,name:L},role:T,refusal:g.refusal??null},finish_reason:y,index:v,logprobs:b}}return C?{...w,index:v,finish_reason:y,logprobs:b,message:{...$,role:T,content:k,refusal:g.refusal??null,tool_calls:C.map((M,L)=>{const{function:H,type:U,id:B,...te}=M,{arguments:le,name:ue,...be}=H||{};if(B==null)throw new oe(`missing choices[${v}].tool_calls[${L}].id
${So(a)}`);if(U==null)throw new oe(`missing choices[${v}].tool_calls[${L}].type
${So(a)}`);if(ue==null)throw new oe(`missing choices[${v}].tool_calls[${L}].function.name
${So(a)}`);if(le==null)throw new oe(`missing choices[${v}].tool_calls[${L}].function.arguments
${So(a)}`);return{...te,id:B,type:U,function:{...be,name:ue,arguments:le}}})}}:{...w,message:{...$,content:k,role:T,refusal:g.refusal??null},finish_reason:y,index:v,logprobs:b}}),created:i,model:c,object:"chat.completion",...d?{system_fingerprint:d}:{}};return r2(p,t)}function So(a){return JSON.stringify(a)}class Go extends Ja{static fromReadableStream(t){const r=new Go(null);return r._run(()=>r._fromReadableStream(t)),r}static runTools(t,r,s){const i=new Go(r),c={...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,r,c)),i}}let wd=class extends fe{constructor(){super(...arguments),this.messages=new l0(this._client)}create(t,r){return this._client.post("/chat/completions",{body:t,...r,stream:t.stream??!1})}retrieve(t,r){return this._client.get(K`/chat/completions/${t}`,r)}update(t,r,s){return this._client.post(K`/chat/completions/${t}`,{body:r,...s})}list(t={},r){return this._client.getAPIList("/chat/completions",Ge,{query:t,...r})}delete(t,r){return this._client.delete(K`/chat/completions/${t}`,r)}parse(t,r){return i2(t.tools),this._client.chat.completions.create(t,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(s=>yd(s,t))}runTools(t,r){return t.stream?Go.runTools(this._client,t,r):vd.runTools(this._client,t,r)}stream(t,r){return Ja.createChatCompletion(this._client,t,r)}};wd.Messages=l0;class bd extends fe{constructor(){super(...arguments),this.completions=new wd(this._client)}}bd.Completions=wd;const P0=Symbol("brand.privateNullableHeaders");function*p2(a){if(!a)return;if(P0 in a){const{values:s,nulls:i}=a;yield*s.entries();for(const c of i)yield[c,null];return}let t=!1,r;a instanceof Headers?r=a.entries():mp(a)?r=a:(t=!0,r=Object.entries(a??{}));for(let s of r){const i=s[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const c=mp(s[1])?s[1]:[s[1]];let d=!1;for(const f of c)f!==void 0&&(t&&!d&&(d=!0,yield[i,null]),yield[i,f])}}const ce=a=>{const t=new Headers,r=new Set;for(const s of a){const i=new Set;for(const[c,d]of p2(s)){const f=c.toLowerCase();i.has(f)||(t.delete(c),i.add(f)),d===null?(t.delete(c),r.add(f)):(t.append(c,d),r.delete(f))}}return{[P0]:!0,values:t,nulls:r}};class T0 extends fe{create(t,r){return this._client.post("/audio/speech",{body:t,...r,headers:ce([{Accept:"application/octet-stream"},r?.headers]),__binaryResponse:!0})}}class A0 extends fe{create(t,r){return this._client.post("/audio/transcriptions",Mn({body:t,...r,stream:t.stream??!1,__metadata:{model:t.model}},this._client))}}class R0 extends fe{create(t,r){return this._client.post("/audio/translations",Mn({body:t,...r,__metadata:{model:t.model}},this._client))}}class si extends fe{constructor(){super(...arguments),this.transcriptions=new A0(this._client),this.translations=new R0(this._client),this.speech=new T0(this._client)}}si.Transcriptions=A0;si.Translations=R0;si.Speech=T0;class I0 extends fe{create(t,r){return this._client.post("/batches",{body:t,...r})}retrieve(t,r){return this._client.get(K`/batches/${t}`,r)}list(t={},r){return this._client.getAPIList("/batches",Ge,{query:t,...r})}cancel(t,r){return this._client.post(K`/batches/${t}/cancel`,r)}}class O0 extends fe{create(t,r){return this._client.post("/assistants",{body:t,...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(t,r){return this._client.get(K`/assistants/${t}`,{...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(t,r,s){return this._client.post(K`/assistants/${t}`,{body:r,...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(t={},r){return this._client.getAPIList("/assistants",Ge,{query:t,...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(t,r){return this._client.delete(K`/assistants/${t}`,{...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class $0 extends fe{create(t,r){return this._client.post("/realtime/sessions",{body:t,...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class L0 extends fe{create(t,r){return this._client.post("/realtime/transcription_sessions",{body:t,...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}let sl=class extends fe{constructor(){super(...arguments),this.sessions=new $0(this._client),this.transcriptionSessions=new L0(this._client)}};sl.Sessions=$0;sl.TranscriptionSessions=L0;class M0 extends fe{create(t,r,s){return this._client.post(K`/threads/${t}/messages`,{body:r,...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(t,r,s){const{thread_id:i}=r;return this._client.get(K`/threads/${i}/messages/${t}`,{...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(t,r,s){const{thread_id:i,...c}=r;return this._client.post(K`/threads/${i}/messages/${t}`,{body:c,...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(t,r={},s){return this._client.getAPIList(K`/threads/${t}/messages`,Ge,{query:r,...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(t,r,s){const{thread_id:i}=r;return this._client.delete(K`/threads/${i}/messages/${t}`,{...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}class D0 extends fe{retrieve(t,r,s){const{thread_id:i,run_id:c,...d}=r;return this._client.get(K`/threads/${i}/runs/${c}/steps/${t}`,{query:d,...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(t,r,s){const{thread_id:i,...c}=r;return this._client.getAPIList(K`/threads/${i}/runs/${t}/steps`,Ge,{query:c,...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}const g2=a=>{if(typeof Buffer<"u"){const t=Buffer.from(a,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(a),r=t.length,s=new Uint8Array(r);for(let i=0;i<r;i++)s[i]=t.charCodeAt(i);return Array.from(new Float32Array(s.buffer))}};var y2={};const _s=a=>{if(typeof globalThis.process<"u")return y2?.[a]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(a)?.trim()};var ht,In,Ju,dr,$o,tr,On,Ps,An,Qo,Lt,Lo,Mo,za,Oa,$a,Tp,Ap,Rp,Ip,Op,$p,Lp;class Ba extends xd{constructor(){super(...arguments),ht.add(this),Ju.set(this,[]),dr.set(this,{}),$o.set(this,{}),tr.set(this,void 0),On.set(this,void 0),Ps.set(this,void 0),An.set(this,void 0),Qo.set(this,void 0),Lt.set(this,void 0),Lo.set(this,void 0),Mo.set(this,void 0),za.set(this,void 0)}[(Ju=new WeakMap,dr=new WeakMap,$o=new WeakMap,tr=new WeakMap,On=new WeakMap,Ps=new WeakMap,An=new WeakMap,Qo=new WeakMap,Lt=new WeakMap,Lo=new WeakMap,Mo=new WeakMap,za=new WeakMap,ht=new WeakSet,Symbol.asyncIterator)](){const t=[],r=[];let s=!1;return this.on("event",i=>{const c=r.shift();c?c.resolve(i):t.push(i)}),this.on("end",()=>{s=!0;for(const i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{s=!0;for(const c of r)c.reject(i);r.length=0}),this.on("error",i=>{s=!0;for(const c of r)c.reject(i);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((c,d)=>r.push({resolve:c,reject:d})).then(c=>c?{value:c,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const r=new In;return r._run(()=>r._fromReadableStream(t)),r}async _fromReadableStream(t,r){const s=r?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=fr.fromReadableStream(t,this.controller);for await(const c of i)I(this,ht,"m",Oa).call(this,c);if(i.controller.signal?.aborted)throw new Ht;return this._addRun(I(this,ht,"m",$a).call(this))}toReadableStream(){return new fr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,r,s,i){const c=new In;return c._run(()=>c._runToolAssistantStream(t,r,s,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),c}async _createToolAssistantStream(t,r,s,i){const c=i?.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort()));const d={...s,stream:!0},f=await t.submitToolOutputs(r,d,{...i,signal:this.controller.signal});this._connected();for await(const p of f)I(this,ht,"m",Oa).call(this,p);if(f.controller.signal?.aborted)throw new Ht;return this._addRun(I(this,ht,"m",$a).call(this))}static createThreadAssistantStream(t,r,s){const i=new In;return i._run(()=>i._threadAssistantStream(t,r,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(t,r,s,i){const c=new In;return c._run(()=>c._runAssistantStream(t,r,s,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),c}currentEvent(){return I(this,Lo,"f")}currentRun(){return I(this,Mo,"f")}currentMessageSnapshot(){return I(this,tr,"f")}currentRunStepSnapshot(){return I(this,za,"f")}async finalRunSteps(){return await this.done(),Object.values(I(this,dr,"f"))}async finalMessages(){return await this.done(),Object.values(I(this,$o,"f"))}async finalRun(){if(await this.done(),!I(this,On,"f"))throw Error("Final run was not received.");return I(this,On,"f")}async _createThreadAssistantStream(t,r,s){const i=s?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const c={...r,stream:!0},d=await t.createAndRun(c,{...s,signal:this.controller.signal});this._connected();for await(const f of d)I(this,ht,"m",Oa).call(this,f);if(d.controller.signal?.aborted)throw new Ht;return this._addRun(I(this,ht,"m",$a).call(this))}async _createAssistantStream(t,r,s,i){const c=i?.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort()));const d={...s,stream:!0},f=await t.create(r,d,{...i,signal:this.controller.signal});this._connected();for await(const p of f)I(this,ht,"m",Oa).call(this,p);if(f.controller.signal?.aborted)throw new Ht;return this._addRun(I(this,ht,"m",$a).call(this))}static accumulateDelta(t,r){for(const[s,i]of Object.entries(r)){if(!t.hasOwnProperty(s)){t[s]=i;continue}let c=t[s];if(c==null){t[s]=i;continue}if(s==="index"||s==="type"){t[s]=i;continue}if(typeof c=="string"&&typeof i=="string")c+=i;else if(typeof c=="number"&&typeof i=="number")c+=i;else if(hu(c)&&hu(i))c=this.accumulateDelta(c,i);else if(Array.isArray(c)&&Array.isArray(i)){if(c.every(d=>typeof d=="string"||typeof d=="number")){c.push(...i);continue}for(const d of i){if(!hu(d))throw new Error(`Expected array delta entry to be an object but got: ${d}`);const f=d.index;if(f==null)throw console.error(d),new Error("Expected array delta entry to have an `index` property");if(typeof f!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${f}`);const p=c[f];p==null?c.push(d):c[f]=this.accumulateDelta(p,d)}continue}else throw Error(`Unhandled record type: ${s}, deltaValue: ${i}, accValue: ${c}`);t[s]=c}return t}_addRun(t){return t}async _threadAssistantStream(t,r,s){return await this._createThreadAssistantStream(r,t,s)}async _runAssistantStream(t,r,s,i){return await this._createAssistantStream(r,t,s,i)}async _runToolAssistantStream(t,r,s,i){return await this._createToolAssistantStream(r,t,s,i)}}In=Ba,Oa=function(t){if(!this.ended)switch(ye(this,Lo,t),I(this,ht,"m",Rp).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":I(this,ht,"m",Lp).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":I(this,ht,"m",Ap).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":I(this,ht,"m",Tp).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},$a=function(){if(this.ended)throw new oe("stream has ended, this shouldn't happen");if(!I(this,On,"f"))throw Error("Final run has not been received");return I(this,On,"f")},Tp=function(t){const[r,s]=I(this,ht,"m",Op).call(this,t,I(this,tr,"f"));ye(this,tr,r),I(this,$o,"f")[r.id]=r;for(const i of s){const c=r.content[i.index];c?.type=="text"&&this._emit("textCreated",c.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,r),t.data.delta.content)for(const i of t.data.delta.content){if(i.type=="text"&&i.text){let c=i.text,d=r.content[i.index];if(d&&d.type=="text")this._emit("textDelta",c,d.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=I(this,Ps,"f")){if(I(this,An,"f"))switch(I(this,An,"f").type){case"text":this._emit("textDone",I(this,An,"f").text,I(this,tr,"f"));break;case"image_file":this._emit("imageFileDone",I(this,An,"f").image_file,I(this,tr,"f"));break}ye(this,Ps,i.index)}ye(this,An,r.content[i.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(I(this,Ps,"f")!==void 0){const i=t.data.content[I(this,Ps,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,I(this,tr,"f"));break;case"text":this._emit("textDone",i.text,I(this,tr,"f"));break}}I(this,tr,"f")&&this._emit("messageDone",t.data),ye(this,tr,void 0)}},Ap=function(t){const r=I(this,ht,"m",Ip).call(this,t);switch(ye(this,za,r),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const s=t.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const c of s.step_details.tool_calls)c.index==I(this,Qo,"f")?this._emit("toolCallDelta",c,r.step_details.tool_calls[c.index]):(I(this,Lt,"f")&&this._emit("toolCallDone",I(this,Lt,"f")),ye(this,Qo,c.index),ye(this,Lt,r.step_details.tool_calls[c.index]),I(this,Lt,"f")&&this._emit("toolCallCreated",I(this,Lt,"f")));this._emit("runStepDelta",t.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ye(this,za,void 0),t.data.step_details.type=="tool_calls"&&I(this,Lt,"f")&&(this._emit("toolCallDone",I(this,Lt,"f")),ye(this,Lt,void 0)),this._emit("runStepDone",t.data,r);break}},Rp=function(t){I(this,Ju,"f").push(t),this._emit("event",t)},Ip=function(t){switch(t.event){case"thread.run.step.created":return I(this,dr,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let r=I(this,dr,"f")[t.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let s=t.data;if(s.delta){const i=In.accumulateDelta(r,s.delta);I(this,dr,"f")[t.data.id]=i}return I(this,dr,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":I(this,dr,"f")[t.data.id]=t.data;break}if(I(this,dr,"f")[t.data.id])return I(this,dr,"f")[t.data.id];throw new Error("No snapshot available")},Op=function(t,r){let s=[];switch(t.event){case"thread.message.created":return[t.data,s];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=t.data;if(i.delta.content)for(const c of i.delta.content)if(c.index in r.content){let d=r.content[c.index];r.content[c.index]=I(this,ht,"m",$p).call(this,c,d)}else r.content[c.index]=c,s.push(c);return[r,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},$p=function(t,r){return In.accumulateDelta(r,t)},Lp=function(t){switch(ye(this,Mo,t.data),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":ye(this,On,t.data),I(this,Lt,"f")&&(this._emit("toolCallDone",I(this,Lt,"f")),ye(this,Lt,void 0));break}};let _d=class extends fe{constructor(){super(...arguments),this.steps=new D0(this._client)}create(t,r,s){const{include:i,...c}=r;return this._client.post(K`/threads/${t}/runs`,{query:{include:i},body:c,...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers]),stream:r.stream??!1})}retrieve(t,r,s){const{thread_id:i}=r;return this._client.get(K`/threads/${i}/runs/${t}`,{...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(t,r,s){const{thread_id:i,...c}=r;return this._client.post(K`/threads/${i}/runs/${t}`,{body:c,...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(t,r={},s){return this._client.getAPIList(K`/threads/${t}/runs`,Ge,{query:r,...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}cancel(t,r,s){const{thread_id:i}=r;return this._client.post(K`/threads/${i}/runs/${t}/cancel`,{...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async createAndPoll(t,r,s){const i=await this.create(t,r,s);return await this.poll(i.id,{thread_id:t},s)}createAndStream(t,r,s){return Ba.createAssistantStream(t,this._client.beta.threads.runs,r,s)}async poll(t,r,s){const i=ce([s?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":s?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:c,response:d}=await this.retrieve(t,r,{...s,headers:{...s?.headers,...i}}).withResponse();switch(c.status){case"queued":case"in_progress":case"cancelling":let f=5e3;if(s?.pollIntervalMs)f=s.pollIntervalMs;else{const p=d.headers.get("openai-poll-after-ms");if(p){const g=parseInt(p);isNaN(g)||(f=g)}}await ri(f);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return c}}}stream(t,r,s){return Ba.createAssistantStream(t,this._client.beta.threads.runs,r,s)}submitToolOutputs(t,r,s){const{thread_id:i,...c}=r;return this._client.post(K`/threads/${i}/runs/${t}/submit_tool_outputs`,{body:c,...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers]),stream:r.stream??!1})}async submitToolOutputsAndPoll(t,r,s){const i=await this.submitToolOutputs(t,r,s);return await this.poll(i.id,r,s)}submitToolOutputsStream(t,r,s){return Ba.createToolAssistantStream(t,this._client.beta.threads.runs,r,s)}};_d.Steps=D0;class al extends fe{constructor(){super(...arguments),this.runs=new _d(this._client),this.messages=new M0(this._client)}create(t={},r){return this._client.post("/threads",{body:t,...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(t,r){return this._client.get(K`/threads/${t}`,{...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(t,r,s){return this._client.post(K`/threads/${t}`,{body:r,...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(t,r){return this._client.delete(K`/threads/${t}`,{...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}createAndRun(t,r){return this._client.post("/threads/runs",{body:t,...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:t.stream??!1})}async createAndRunPoll(t,r){const s=await this.createAndRun(t,r);return await this.runs.poll(s.id,{thread_id:s.thread_id},r)}createAndRunStream(t,r){return Ba.createThreadAssistantStream(t,this._client.beta.threads,r)}}al.Runs=_d;al.Messages=M0;class ai extends fe{constructor(){super(...arguments),this.realtime=new sl(this._client),this.assistants=new O0(this._client),this.threads=new al(this._client)}}ai.Realtime=sl;ai.Assistants=O0;ai.Threads=al;class U0 extends fe{create(t,r){return this._client.post("/completions",{body:t,...r,stream:t.stream??!1})}}class F0 extends fe{retrieve(t,r,s){const{container_id:i}=r;return this._client.get(K`/containers/${i}/files/${t}/content`,{...s,headers:ce([{Accept:"application/binary"},s?.headers]),__binaryResponse:!0})}}let kd=class extends fe{constructor(){super(...arguments),this.content=new F0(this._client)}create(t,r,s){return this._client.post(K`/containers/${t}/files`,Mn({body:r,...s},this._client))}retrieve(t,r,s){const{container_id:i}=r;return this._client.get(K`/containers/${i}/files/${t}`,s)}list(t,r={},s){return this._client.getAPIList(K`/containers/${t}/files`,Ge,{query:r,...s})}delete(t,r,s){const{container_id:i}=r;return this._client.delete(K`/containers/${i}/files/${t}`,{...s,headers:ce([{Accept:"*/*"},s?.headers])})}};kd.Content=F0;class jd extends fe{constructor(){super(...arguments),this.files=new kd(this._client)}create(t,r){return this._client.post("/containers",{body:t,...r})}retrieve(t,r){return this._client.get(K`/containers/${t}`,r)}list(t={},r){return this._client.getAPIList("/containers",Ge,{query:t,...r})}delete(t,r){return this._client.delete(K`/containers/${t}`,{...r,headers:ce([{Accept:"*/*"},r?.headers])})}}jd.Files=kd;class z0 extends fe{create(t,r,s){const{include:i,...c}=r;return this._client.post(K`/conversations/${t}/items`,{query:{include:i},body:c,...s})}retrieve(t,r,s){const{conversation_id:i,...c}=r;return this._client.get(K`/conversations/${i}/items/${t}`,{query:c,...s})}list(t,r={},s){return this._client.getAPIList(K`/conversations/${t}/items`,K_,{query:r,...s})}delete(t,r,s){const{conversation_id:i}=r;return this._client.delete(K`/conversations/${i}/items/${t}`,s)}}class Nd extends fe{constructor(){super(...arguments),this.items=new z0(this._client)}create(t={},r){return this._client.post("/conversations",{body:t,...r})}retrieve(t,r){return this._client.get(K`/conversations/${t}`,r)}update(t,r,s){return this._client.post(K`/conversations/${t}`,{body:r,...s})}delete(t,r){return this._client.delete(K`/conversations/${t}`,r)}}Nd.Items=z0;class B0 extends fe{create(t,r){const s=!!t.encoding_format;let i=s?t.encoding_format:"base64";s&&ut(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);const c=this._client.post("/embeddings",{body:{...t,encoding_format:i},...r});return s?c:(ut(this._client).debug("embeddings/decoding base64 embeddings from base64"),c._thenUnwrap(d=>(d&&d.data&&d.data.forEach(f=>{const p=f.embedding;f.embedding=g2(p)}),d)))}}class W0 extends fe{retrieve(t,r,s){const{eval_id:i,run_id:c}=r;return this._client.get(K`/evals/${i}/runs/${c}/output_items/${t}`,s)}list(t,r,s){const{eval_id:i,...c}=r;return this._client.getAPIList(K`/evals/${i}/runs/${t}/output_items`,Ge,{query:c,...s})}}class Sd extends fe{constructor(){super(...arguments),this.outputItems=new W0(this._client)}create(t,r,s){return this._client.post(K`/evals/${t}/runs`,{body:r,...s})}retrieve(t,r,s){const{eval_id:i}=r;return this._client.get(K`/evals/${i}/runs/${t}`,s)}list(t,r={},s){return this._client.getAPIList(K`/evals/${t}/runs`,Ge,{query:r,...s})}delete(t,r,s){const{eval_id:i}=r;return this._client.delete(K`/evals/${i}/runs/${t}`,s)}cancel(t,r,s){const{eval_id:i}=r;return this._client.post(K`/evals/${i}/runs/${t}`,s)}}Sd.OutputItems=W0;class Ed extends fe{constructor(){super(...arguments),this.runs=new Sd(this._client)}create(t,r){return this._client.post("/evals",{body:t,...r})}retrieve(t,r){return this._client.get(K`/evals/${t}`,r)}update(t,r,s){return this._client.post(K`/evals/${t}`,{body:r,...s})}list(t={},r){return this._client.getAPIList("/evals",Ge,{query:t,...r})}delete(t,r){return this._client.delete(K`/evals/${t}`,r)}}Ed.Runs=Sd;let H0=class extends fe{create(t,r){return this._client.post("/files",Mn({body:t,...r},this._client))}retrieve(t,r){return this._client.get(K`/files/${t}`,r)}list(t={},r){return this._client.getAPIList("/files",Ge,{query:t,...r})}delete(t,r){return this._client.delete(K`/files/${t}`,r)}content(t,r){return this._client.get(K`/files/${t}/content`,{...r,headers:ce([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}async waitForProcessing(t,{pollInterval:r=5e3,maxWait:s=1800*1e3}={}){const i=new Set(["processed","error","deleted"]),c=Date.now();let d=await this.retrieve(t);for(;!d.status||!i.has(d.status);)if(await ri(r),d=await this.retrieve(t),Date.now()-c>s)throw new fd({message:`Giving up on waiting for file ${t} to finish processing after ${s} milliseconds.`});return d}};class q0 extends fe{}let V0=class extends fe{run(t,r){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...r})}validate(t,r){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...r})}};class Cd extends fe{constructor(){super(...arguments),this.graders=new V0(this._client)}}Cd.Graders=V0;class K0 extends fe{create(t,r,s){return this._client.getAPIList(K`/fine_tuning/checkpoints/${t}/permissions`,nl,{body:r,method:"post",...s})}retrieve(t,r={},s){return this._client.get(K`/fine_tuning/checkpoints/${t}/permissions`,{query:r,...s})}delete(t,r,s){const{fine_tuned_model_checkpoint:i}=r;return this._client.delete(K`/fine_tuning/checkpoints/${i}/permissions/${t}`,s)}}let Pd=class extends fe{constructor(){super(...arguments),this.permissions=new K0(this._client)}};Pd.Permissions=K0;class J0 extends fe{list(t,r={},s){return this._client.getAPIList(K`/fine_tuning/jobs/${t}/checkpoints`,Ge,{query:r,...s})}}class Td extends fe{constructor(){super(...arguments),this.checkpoints=new J0(this._client)}create(t,r){return this._client.post("/fine_tuning/jobs",{body:t,...r})}retrieve(t,r){return this._client.get(K`/fine_tuning/jobs/${t}`,r)}list(t={},r){return this._client.getAPIList("/fine_tuning/jobs",Ge,{query:t,...r})}cancel(t,r){return this._client.post(K`/fine_tuning/jobs/${t}/cancel`,r)}listEvents(t,r={},s){return this._client.getAPIList(K`/fine_tuning/jobs/${t}/events`,Ge,{query:r,...s})}pause(t,r){return this._client.post(K`/fine_tuning/jobs/${t}/pause`,r)}resume(t,r){return this._client.post(K`/fine_tuning/jobs/${t}/resume`,r)}}Td.Checkpoints=J0;class Ms extends fe{constructor(){super(...arguments),this.methods=new q0(this._client),this.jobs=new Td(this._client),this.checkpoints=new Pd(this._client),this.alpha=new Cd(this._client)}}Ms.Methods=q0;Ms.Jobs=Td;Ms.Checkpoints=Pd;Ms.Alpha=Cd;class G0 extends fe{}class Ad extends fe{constructor(){super(...arguments),this.graderModels=new G0(this._client)}}Ad.GraderModels=G0;class Q0 extends fe{createVariation(t,r){return this._client.post("/images/variations",Mn({body:t,...r},this._client))}edit(t,r){return this._client.post("/images/edits",Mn({body:t,...r,stream:t.stream??!1},this._client))}generate(t,r){return this._client.post("/images/generations",{body:t,...r,stream:t.stream??!1})}}class X0 extends fe{retrieve(t,r){return this._client.get(K`/models/${t}`,r)}list(t){return this._client.getAPIList("/models",nl,t)}delete(t,r){return this._client.delete(K`/models/${t}`,r)}}class Y0 extends fe{create(t,r){return this._client.post("/moderations",{body:t,...r})}}class Z0 extends fe{create(t,r){return this._client.post("/realtime/client_secrets",{body:t,...r})}}class Rd extends fe{constructor(){super(...arguments),this.clientSecrets=new Z0(this._client)}}Rd.ClientSecrets=Z0;function x2(a,t){return!t||!w2(t)?{...a,output_parsed:null,output:a.output.map(r=>r.type==="function_call"?{...r,parsed_arguments:null}:r.type==="message"?{...r,content:r.content.map(s=>({...s,parsed:null}))}:r)}:ey(a,t)}function ey(a,t){const r=a.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:k2(t,i)};if(i.type==="message"){const c=i.content.map(d=>d.type==="output_text"?{...d,parsed:v2(t,d.text)}:d);return{...i,content:c}}return i}),s=Object.assign({},a,{output:r});return Object.getOwnPropertyDescriptor(a,"output_text")||Gu(s),Object.defineProperty(s,"output_parsed",{enumerable:!0,get(){for(const i of s.output)if(i.type==="message"){for(const c of i.content)if(c.type==="output_text"&&c.parsed!==null)return c.parsed}return null}}),s}function v2(a,t){return a.text?.format?.type!=="json_schema"?null:"$parseRaw"in a.text?.format?(a.text?.format).$parseRaw(t):JSON.parse(t)}function w2(a){return!!gd(a.text?.format)}function b2(a){return a?.$brand==="auto-parseable-tool"}function _2(a,t){return a.find(r=>r.type==="function"&&r.name===t)}function k2(a,t){const r=_2(a.tools??[],t.name);return{...t,...t,parsed_arguments:b2(r)?r.$parseRaw(t.arguments):r?.strict?JSON.parse(t.arguments):null}}function Gu(a){const t=[];for(const r of a.output)if(r.type==="message")for(const s of r.content)s.type==="output_text"&&t.push(s.text);a.output_text=t.join("")}var ks,Eo,nn,Co,Mp,Dp,Up,Fp;class Id extends xd{constructor(t){super(),ks.add(this),Eo.set(this,void 0),nn.set(this,void 0),Co.set(this,void 0),ye(this,Eo,t)}static createResponse(t,r,s){const i=new Id(r);return i._run(()=>i._createOrRetrieveResponse(t,r,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(t,r,s){const i=s?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),I(this,ks,"m",Mp).call(this);let c,d=null;"response_id"in r?(c=await t.responses.retrieve(r.response_id,{stream:!0},{...s,signal:this.controller.signal,stream:!0}),d=r.starting_after??null):c=await t.responses.create({...r,stream:!0},{...s,signal:this.controller.signal}),this._connected();for await(const f of c)I(this,ks,"m",Dp).call(this,f,d);if(c.controller.signal?.aborted)throw new Ht;return I(this,ks,"m",Up).call(this)}[(Eo=new WeakMap,nn=new WeakMap,Co=new WeakMap,ks=new WeakSet,Mp=function(){this.ended||ye(this,nn,void 0)},Dp=function(r,s){if(this.ended)return;const i=(d,f)=>{(s==null||f.sequence_number>s)&&this._emit(d,f)},c=I(this,ks,"m",Fp).call(this,r);switch(i("event",r),r.type){case"response.output_text.delta":{const d=c.output[r.output_index];if(!d)throw new oe(`missing output at index ${r.output_index}`);if(d.type==="message"){const f=d.content[r.content_index];if(!f)throw new oe(`missing content at index ${r.content_index}`);if(f.type!=="output_text")throw new oe(`expected content to be 'output_text', got ${f.type}`);i("response.output_text.delta",{...r,snapshot:f.text})}break}case"response.function_call_arguments.delta":{const d=c.output[r.output_index];if(!d)throw new oe(`missing output at index ${r.output_index}`);d.type==="function_call"&&i("response.function_call_arguments.delta",{...r,snapshot:d.arguments});break}default:i(r.type,r);break}},Up=function(){if(this.ended)throw new oe("stream has ended, this shouldn't happen");const r=I(this,nn,"f");if(!r)throw new oe("request ended without sending any events");ye(this,nn,void 0);const s=j2(r,I(this,Eo,"f"));return ye(this,Co,s),s},Fp=function(r){let s=I(this,nn,"f");if(!s){if(r.type!=="response.created")throw new oe(`When snapshot hasn't been set yet, expected 'response.created' event, got ${r.type}`);return s=ye(this,nn,r.response),s}switch(r.type){case"response.output_item.added":{s.output.push(r.item);break}case"response.content_part.added":{const i=s.output[r.output_index];if(!i)throw new oe(`missing output at index ${r.output_index}`);const c=i.type,d=r.part;c==="message"&&d.type!=="reasoning_text"?i.content.push(d):c==="reasoning"&&d.type==="reasoning_text"&&(i.content||(i.content=[]),i.content.push(d));break}case"response.output_text.delta":{const i=s.output[r.output_index];if(!i)throw new oe(`missing output at index ${r.output_index}`);if(i.type==="message"){const c=i.content[r.content_index];if(!c)throw new oe(`missing content at index ${r.content_index}`);if(c.type!=="output_text")throw new oe(`expected content to be 'output_text', got ${c.type}`);c.text+=r.delta}break}case"response.function_call_arguments.delta":{const i=s.output[r.output_index];if(!i)throw new oe(`missing output at index ${r.output_index}`);i.type==="function_call"&&(i.arguments+=r.delta);break}case"response.reasoning_text.delta":{const i=s.output[r.output_index];if(!i)throw new oe(`missing output at index ${r.output_index}`);if(i.type==="reasoning"){const c=i.content?.[r.content_index];if(!c)throw new oe(`missing content at index ${r.content_index}`);if(c.type!=="reasoning_text")throw new oe(`expected content to be 'reasoning_text', got ${c.type}`);c.text+=r.delta}break}case"response.completed":{ye(this,nn,r.response);break}}return s},Symbol.asyncIterator)](){const t=[],r=[];let s=!1;return this.on("event",i=>{const c=r.shift();c?c.resolve(i):t.push(i)}),this.on("end",()=>{s=!0;for(const i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{s=!0;for(const c of r)c.reject(i);r.length=0}),this.on("error",i=>{s=!0;for(const c of r)c.reject(i);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((c,d)=>r.push({resolve:c,reject:d})).then(c=>c?{value:c,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=I(this,Co,"f");if(!t)throw new oe("stream ended without producing a ChatCompletion");return t}}function j2(a,t){return x2(a,t)}class ty extends fe{list(t,r={},s){return this._client.getAPIList(K`/responses/${t}/input_items`,Ge,{query:r,...s})}}class Od extends fe{constructor(){super(...arguments),this.inputItems=new ty(this._client)}create(t,r){return this._client.post("/responses",{body:t,...r,stream:t.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&Gu(s),s))}retrieve(t,r={},s){return this._client.get(K`/responses/${t}`,{query:r,...s,stream:r?.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&Gu(i),i))}delete(t,r){return this._client.delete(K`/responses/${t}`,{...r,headers:ce([{Accept:"*/*"},r?.headers])})}parse(t,r){return this._client.responses.create(t,r)._thenUnwrap(s=>ey(s,t))}stream(t,r){return Id.createResponse(this._client,t,r)}cancel(t,r){return this._client.post(K`/responses/${t}/cancel`,r)}}Od.InputItems=ty;class ry extends fe{create(t,r,s){return this._client.post(K`/uploads/${t}/parts`,Mn({body:r,...s},this._client))}}class $d extends fe{constructor(){super(...arguments),this.parts=new ry(this._client)}create(t,r){return this._client.post("/uploads",{body:t,...r})}cancel(t,r){return this._client.post(K`/uploads/${t}/cancel`,r)}complete(t,r,s){return this._client.post(K`/uploads/${t}/complete`,{body:r,...s})}}$d.Parts=ry;const N2=async a=>{const t=await Promise.allSettled(a),r=t.filter(i=>i.status==="rejected");if(r.length){for(const i of r)console.error(i.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}const s=[];for(const i of t)i.status==="fulfilled"&&s.push(i.value);return s};class ny extends fe{create(t,r,s){return this._client.post(K`/vector_stores/${t}/file_batches`,{body:r,...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(t,r,s){const{vector_store_id:i}=r;return this._client.get(K`/vector_stores/${i}/file_batches/${t}`,{...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}cancel(t,r,s){const{vector_store_id:i}=r;return this._client.post(K`/vector_stores/${i}/file_batches/${t}/cancel`,{...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async createAndPoll(t,r,s){const i=await this.create(t,r);return await this.poll(t,i.id,s)}listFiles(t,r,s){const{vector_store_id:i,...c}=r;return this._client.getAPIList(K`/vector_stores/${i}/file_batches/${t}/files`,Ge,{query:c,...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async poll(t,r,s){const i=ce([s?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":s?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:c,response:d}=await this.retrieve(r,{vector_store_id:t},{...s,headers:i}).withResponse();switch(c.status){case"in_progress":let f=5e3;if(s?.pollIntervalMs)f=s.pollIntervalMs;else{const p=d.headers.get("openai-poll-after-ms");if(p){const g=parseInt(p);isNaN(g)||(f=g)}}await ri(f);break;case"failed":case"cancelled":case"completed":return c}}}async uploadAndPoll(t,{files:r,fileIds:s=[]},i){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const c=i?.maxConcurrency??5,d=Math.min(c,r.length),f=this._client,p=r.values(),g=[...s];async function y(b){for(let w of b){const k=await f.files.create({file:w,purpose:"assistants"},i);g.push(k.id)}}const v=Array(d).fill(p).map(y);return await N2(v),await this.createAndPoll(t,{file_ids:g})}}class sy extends fe{create(t,r,s){return this._client.post(K`/vector_stores/${t}/files`,{body:r,...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(t,r,s){const{vector_store_id:i}=r;return this._client.get(K`/vector_stores/${i}/files/${t}`,{...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(t,r,s){const{vector_store_id:i,...c}=r;return this._client.post(K`/vector_stores/${i}/files/${t}`,{body:c,...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(t,r={},s){return this._client.getAPIList(K`/vector_stores/${t}/files`,Ge,{query:r,...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(t,r,s){const{vector_store_id:i}=r;return this._client.delete(K`/vector_stores/${i}/files/${t}`,{...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}async createAndPoll(t,r,s){const i=await this.create(t,r,s);return await this.poll(t,i.id,s)}async poll(t,r,s){const i=ce([s?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":s?.pollIntervalMs?.toString()??void 0}]);for(;;){const c=await this.retrieve(r,{vector_store_id:t},{...s,headers:i}).withResponse(),d=c.data;switch(d.status){case"in_progress":let f=5e3;if(s?.pollIntervalMs)f=s.pollIntervalMs;else{const p=c.response.headers.get("openai-poll-after-ms");if(p){const g=parseInt(p);isNaN(g)||(f=g)}}await ri(f);break;case"failed":case"completed":return d}}}async upload(t,r,s){const i=await this._client.files.create({file:r,purpose:"assistants"},s);return this.create(t,{file_id:i.id},s)}async uploadAndPoll(t,r,s){const i=await this.upload(t,r,s);return await this.poll(t,i.id,s)}content(t,r,s){const{vector_store_id:i}=r;return this._client.getAPIList(K`/vector_stores/${i}/files/${t}/content`,nl,{...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}class il extends fe{constructor(){super(...arguments),this.files=new sy(this._client),this.fileBatches=new ny(this._client)}create(t,r){return this._client.post("/vector_stores",{body:t,...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(t,r){return this._client.get(K`/vector_stores/${t}`,{...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(t,r,s){return this._client.post(K`/vector_stores/${t}`,{body:r,...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}list(t={},r){return this._client.getAPIList("/vector_stores",Ge,{query:t,...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(t,r){return this._client.delete(K`/vector_stores/${t}`,{...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}search(t,r,s){return this._client.getAPIList(K`/vector_stores/${t}/search`,nl,{body:r,method:"post",...s,headers:ce([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}il.Files=sy;il.FileBatches=ny;var Cs,ay,Do;class iy extends fe{constructor(){super(...arguments),Cs.add(this)}async unwrap(t,r,s=this._client.webhookSecret,i=300){return await this.verifySignature(t,r,s,i),JSON.parse(t)}async verifySignature(t,r,s=this._client.webhookSecret,i=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");I(this,Cs,"m",ay).call(this,s);const c=ce([r]).values,d=I(this,Cs,"m",Do).call(this,c,"webhook-signature"),f=I(this,Cs,"m",Do).call(this,c,"webhook-timestamp"),p=I(this,Cs,"m",Do).call(this,c,"webhook-id"),g=parseInt(f,10);if(isNaN(g))throw new Ea("Invalid webhook timestamp format");const y=Math.floor(Date.now()/1e3);if(y-g>i)throw new Ea("Webhook timestamp is too old");if(g>y+i)throw new Ea("Webhook timestamp is too new");const v=d.split(" ").map(N=>N.startsWith("v1,")?N.substring(3):N),b=s.startsWith("whsec_")?Buffer.from(s.replace("whsec_",""),"base64"):Buffer.from(s,"utf-8"),w=p?`${p}.${f}.${t}`:`${f}.${t}`,k=await crypto.subtle.importKey("raw",b,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const N of v)try{const C=Buffer.from(N,"base64");if(await crypto.subtle.verify("HMAC",k,C,new TextEncoder().encode(w)))return}catch{continue}throw new Ea("The given webhook signature does not match the expected signature")}}Cs=new WeakSet,ay=function(t){if(typeof t!="string"||t.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Do=function(t,r){if(!t)throw new Error("Headers are required");const s=t.get(r);if(s==null)throw new Error(`Missing required header: ${r}`);return s};var Qu,Ld,Uo,oy;class je{constructor({baseURL:t=_s("OPENAI_BASE_URL"),apiKey:r=_s("OPENAI_API_KEY"),organization:s=_s("OPENAI_ORG_ID")??null,project:i=_s("OPENAI_PROJECT_ID")??null,webhookSecret:c=_s("OPENAI_WEBHOOK_SECRET")??null,...d}={}){if(Qu.add(this),Uo.set(this,void 0),this.completions=new U0(this),this.chat=new bd(this),this.embeddings=new B0(this),this.files=new H0(this),this.images=new Q0(this),this.audio=new si(this),this.moderations=new Y0(this),this.models=new X0(this),this.fineTuning=new Ms(this),this.graders=new Ad(this),this.vectorStores=new il(this),this.webhooks=new iy(this),this.beta=new ai(this),this.batches=new I0(this),this.uploads=new $d(this),this.responses=new Od(this),this.realtime=new Rd(this),this.conversations=new Nd(this),this.evals=new Ed(this),this.containers=new jd(this),r===void 0)throw new oe("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const f={apiKey:r,organization:s,project:i,webhookSecret:c,...d,baseURL:t||"https://api.openai.com/v1"};if(!f.dangerouslyAllowBrowser&&j_())throw new oe(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=f.baseURL,this.timeout=f.timeout??Ld.DEFAULT_TIMEOUT,this.logger=f.logger??console;const p="warn";this.logLevel=p,this.logLevel=jp(f.logLevel,"ClientOptions.logLevel",this)??jp(_s("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??p,this.fetchOptions=f.fetchOptions,this.maxRetries=f.maxRetries??2,this.fetch=f.fetch??P_(),ye(this,Uo,A_),this._options=f,this.apiKey=typeof r=="string"?r:"Missing Key",this.organization=s,this.project=i,this.webhookSecret=c}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:r}){}async authHeaders(t){return ce([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(t){return M_(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Ss}`}defaultIdempotencyKey(){return`stainless-node-retry-${Lg()}`}makeStatusError(t,r,s,i){return ft.generate(t,r,s,i)}async _callApiKey(){const t=this._options.apiKey;if(typeof t!="function")return!1;let r;try{r=await t()}catch(s){throw s instanceof oe?s:new oe(`Failed to get token from 'apiKey' function: ${s.message}`,{cause:s})}if(typeof r!="string"||!r)throw new oe(`Expected 'apiKey' function argument to return a string but it returned ${r}`);return this.apiKey=r,!0}buildURL(t,r,s){const i=!I(this,Qu,"m",oy).call(this)&&s||this.baseURL,c=v_(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),d=this.defaultQuery();return w_(d)||(r={...d,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(c.search=this.stringifyQuery(r)),c.toString()}async prepareOptions(t){await this._callApiKey()}async prepareRequest(t,{url:r,options:s}){}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,s){return this.request(Promise.resolve(s).then(i=>({method:t,path:r,...i})))}request(t,r=null){return new rl(this,this.makeRequest(t,r,void 0))}async makeRequest(t,r,s){const i=await t,c=i.maxRetries??this.maxRetries;r==null&&(r=c),await this.prepareOptions(i);const{req:d,url:f,timeout:p}=await this.buildRequest(i,{retryCount:c-r});await this.prepareRequest(d,{url:f,options:i});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=s===void 0?"":`, retryOf: ${s}`,v=Date.now();if(ut(this).debug(`[${g}] sending request`,Pn({retryOfRequestLogID:s,method:i.method,url:f,options:i,headers:d.headers})),i.signal?.aborted)throw new Ht;const b=new AbortController,w=await this.fetchWithTimeout(f,d,p,b).catch(Uu),k=Date.now();if(w instanceof globalThis.Error){const $=`retrying, ${r} attempts remaining`;if(i.signal?.aborted)throw new Ht;const T=Du(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(r)return ut(this).info(`[${g}] connection ${T?"timed out":"failed"} - ${$}`),ut(this).debug(`[${g}] connection ${T?"timed out":"failed"} (${$})`,Pn({retryOfRequestLogID:s,url:f,durationMs:k-v,message:w.message})),this.retryRequest(i,r,s??g);throw ut(this).info(`[${g}] connection ${T?"timed out":"failed"} - error; no more retries left`),ut(this).debug(`[${g}] connection ${T?"timed out":"failed"} (error; no more retries left)`,Pn({retryOfRequestLogID:s,url:f,durationMs:k-v,message:w.message})),T?new fd:new el({cause:w})}const N=[...w.headers.entries()].filter(([$])=>$==="x-request-id").map(([$,T])=>", "+$+": "+JSON.stringify(T)).join(""),C=`[${g}${y}${N}] ${d.method} ${f} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${k-v}ms`;if(!w.ok){const $=await this.shouldRetry(w);if(r&&$){const B=`retrying, ${r} attempts remaining`;return await T_(w.body),ut(this).info(`${C} - ${B}`),ut(this).debug(`[${g}] response error (${B})`,Pn({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,durationMs:k-v})),this.retryRequest(i,r,s??g,w.headers)}const T=$?"error; no more retries left":"error; not retryable";ut(this).info(`${C} - ${T}`);const M=await w.text().catch(B=>Uu(B).message),L=k_(M),H=L?void 0:M;throw ut(this).debug(`[${g}] response error (${T})`,Pn({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,message:H,durationMs:Date.now()-v})),this.makeStatusError(w.status,L,H,w.headers)}return ut(this).info(C),ut(this).debug(`[${g}] response start`,Pn({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,durationMs:k-v})),{response:w,options:i,controller:b,requestLogID:g,retryOfRequestLogID:s,startTime:v}}getAPIList(t,r,s){return this.requestAPIList(r,{method:"get",path:t,...s})}requestAPIList(t,r){const s=this.makeRequest(r,null,void 0);return new V_(this,s,t)}async fetchWithTimeout(t,r,s,i){const{signal:c,method:d,...f}=r||{};c&&c.addEventListener("abort",()=>i.abort());const p=setTimeout(()=>i.abort(),s),g=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,y={signal:i.signal,...g?{duplex:"half"}:{},method:"GET",...f};d&&(y.method=d.toUpperCase());try{return await this.fetch.call(void 0,t,y)}finally{clearTimeout(p)}}async shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,s,i){let c;const d=i?.get("retry-after-ms");if(d){const p=parseFloat(d);Number.isNaN(p)||(c=p)}const f=i?.get("retry-after");if(f&&!c){const p=parseFloat(f);Number.isNaN(p)?c=Date.parse(f)-Date.now():c=p*1e3}if(!(c&&0<=c&&c<60*1e3)){const p=t.maxRetries??this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(r,p)}return await ri(c),this.makeRequest(t,r-1,s)}calculateDefaultRetryTimeoutMillis(t,r){const c=r-t,d=Math.min(.5*Math.pow(2,c),8),f=1-Math.random()*.25;return d*f*1e3}async buildRequest(t,{retryCount:r=0}={}){const s={...t},{method:i,path:c,query:d,defaultBaseURL:f}=s,p=this.buildURL(c,d,f);"timeout"in s&&__("timeout",s.timeout),s.timeout=s.timeout??this.timeout;const{bodyHeaders:g,body:y}=this.buildBody({options:s}),v=await this.buildHeaders({options:t,method:i,bodyHeaders:g,retryCount:r});return{req:{method:i,headers:v,...s.signal&&{signal:s.signal},...globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"},...y&&{body:y},...this.fetchOptions??{},...s.fetchOptions??{}},url:p,timeout:s.timeout}}async buildHeaders({options:t,method:r,bodyHeaders:s,retryCount:i}){let c={};this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const d=ce([c,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...C_(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(t),this._options.defaultHeaders,s,t.headers]);return this.validateHeaders(d),d.values}buildBody({options:{body:t,headers:r}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=ce([r]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Gg(t)}:I(this,Uo,"f").call(this,{body:t,headers:s})}}Ld=je,Uo=new WeakMap,Qu=new WeakSet,oy=function(){return this.baseURL!=="https://api.openai.com/v1"};je.OpenAI=Ld;je.DEFAULT_TIMEOUT=6e5;je.OpenAIError=oe;je.APIError=ft;je.APIConnectionError=el;je.APIConnectionTimeoutError=fd;je.APIUserAbortError=Ht;je.NotFoundError=Fg;je.ConflictError=zg;je.RateLimitError=Wg;je.BadRequestError=Mg;je.AuthenticationError=Dg;je.InternalServerError=Hg;je.PermissionDeniedError=Ug;je.UnprocessableEntityError=Bg;je.InvalidWebhookSignatureError=Ea;je.toFile=Z_;je.Completions=U0;je.Chat=bd;je.Embeddings=B0;je.Files=H0;je.Images=Q0;je.Audio=si;je.Moderations=Y0;je.Models=X0;je.FineTuning=Ms;je.Graders=Ad;je.VectorStores=il;je.Webhooks=iy;je.Beta=ai;je.Batches=I0;je.Uploads=$d;je.Responses=Od;je.Realtime=Rd;je.Conversations=Nd;je.Evals=Ed;je.Containers=jd;class S2{openai=null;apiKey;constructor(){this.apiKey="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",console.log("AI Service: API key loaded:",this.apiKey?"Yes (length: "+this.apiKey.length+")":"No"),console.log("AI Service: API key starts with sk-:",this.apiKey.startsWith("sk-")),this.apiKey?!this.apiKey.startsWith("sk-")||this.apiKey.length<50?(console.warn("OpenAI API key appears to be invalid. Expected format: sk-... (51+ characters)"),console.warn("Current key:",this.apiKey.substring(0,20)+"..."),this.apiKey=""):(this.openai=new je({apiKey:this.apiKey,dangerouslyAllowBrowser:!0}),console.log("AI Service: OpenAI client initialized successfully")):console.warn("OpenAI API key not found. AI features will use mock data.")}async makeAPICall(t,r=500){if(console.log("AI Service: makeAPICall called with prompt length:",t.length),!this.openai)return console.log("AI Service: OpenAI client not initialized, returning error"),{success:!1,error:"OpenAI client not initialized"};try{console.log("AI Service: Making API call to OpenAI...");const s=await this.openai.chat.completions.create({model:"gpt-4o-mini",messages:[{role:"system",content:"You are a helpful AI assistant that analyzes text content and provides insights."},{role:"user",content:t}],max_tokens:r,temperature:.3});console.log("AI Service: API response received");const i=s.choices[0]?.message?.content;if(!i)throw new Error("No content received from OpenAI API");return{success:!0,data:i}}catch(s){if(console.error("AI API Error:",s),s instanceof Error){if(s.message.includes("429")||s.message.includes("quota"))return{success:!1,error:"OpenAI quota exceeded. Please check your billing and usage limits at https://platform.openai.com/usage"};if(s.message.includes("401")||s.message.includes("unauthorized"))return{success:!1,error:"Invalid OpenAI API key. Please check your API key configuration."};if(s.message.includes("rate limit"))return{success:!1,error:"OpenAI rate limit exceeded. Please try again in a few minutes."}}return{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async generateSummary(t){console.log("AI Service: Generating summary for content:",t.substring(0,100)+"...");const r=`Please provide a concise 1-2 line summary of the following text and list 3-5 key points. Format your response as JSON with "summary" and "keyPoints" fields:

Text: ${t.substring(0,2e3)}

Response format:
{
  "summary": "Brief summary here",
  "keyPoints": ["Point 1", "Point 2", "Point 3"]
}`,s=await this.makeAPICall(r,300);if(console.log("AI Service: API response:",s),s.success&&s.data)try{const i=JSON.parse(s.data);return console.log("AI Service: Parsed summary data:",i),{summary:i.summary||"Unable to generate summary",keyPoints:i.keyPoints||[]}}catch{return console.log("AI Service: JSON parse error, using raw response:",s.data),{summary:s.data||"Unable to generate summary",keyPoints:[]}}return console.log("AI Service: Using fallback mock data"),{summary:"This note discusses important topics and key concepts relevant to the subject matter. [Note: OpenAI quota exceeded - please check billing at https://platform.openai.com/usage]",keyPoints:["Key concept 1","Important point 2","Main topic 3","Significant detail 4"," OpenAI quota exceeded - check billing"]}}async generateTags(t){const r=`Analyze the following text and suggest 3-5 relevant tags. Return only a JSON array of tag strings:

Text: ${t.substring(0,2e3)}

Example response: ["tag1", "tag2", "tag3"]`,s=await this.makeAPICall(r,150);if(s.success&&s.data)try{const i=JSON.parse(s.data);return{tags:Array.isArray(i)?i:[],confidence:.8}}catch{return{tags:[],confidence:.3}}return{tags:["general","notes","content","-quota-exceeded"],confidence:.3}}async checkGrammar(t){const r=`Analyze the following text for grammar errors and provide corrections. Return a JSON array of objects with "text", "suggestion", and "position" fields:

Text: ${t.substring(0,2e3)}

Example response:
[
  {
    "text": "incorrect text",
    "suggestion": "corrected text", 
    "position": 45
  }
]`,s=await this.makeAPICall(r,400);if(s.success&&s.data)try{const i=JSON.parse(s.data);return Array.isArray(i)?i:[]}catch{return[]}return[{text:"teammates",suggestion:"team members",position:45},{text:"However",suggestion:"However,",position:120},{text:" OpenAI quota exceeded",suggestion:"Check your billing at https://platform.openai.com/usage",position:0}]}async generateGlossary(t){const r=`Identify key terms, concepts, and technical words in the following text that might need explanation. For each term, provide a brief definition. Return a JSON array of objects with "term", "definition", and "position" fields:

Text: ${t.substring(0,2e3)}

Example response:
[
  {
    "term": "Agile methodology",
    "definition": "An iterative approach to project management",
    "position": 120
  }
]`,s=await this.makeAPICall(r,500);if(s.success&&s.data)try{const i=JSON.parse(s.data);return Array.isArray(i)?i:[]}catch{return[]}return[{term:"Agile methodology",definition:"An iterative approach to project management",position:120},{term:"Sprint planning",definition:"A collaborative event where the team plans work",position:200},{term:"Stakeholder",definition:"Anyone with an interest in the project outcome",position:300},{term:" OpenAI Quota",definition:"Check your billing and usage at https://platform.openai.com/usage to resolve quota issues",position:0}]}stripHtmlTags(t){return t.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").trim()}}const Na=new S2,E2=({content:a,glossaryTerms:t,className:r=""})=>{const[s,i]=j.useState(null),[c,d]=j.useState("");j.useEffect(()=>{if(!t.length){d(a);return}let g=a;[...t].sort((v,b)=>b.position-v.position).forEach(v=>{const b=new RegExp(`\\b${v.term.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"gi");g=g.replace(b,w=>`<span 
          class="glossary-term bg-yellow-200/30 border-b-2 border-yellow-400 cursor-help transition-all duration-200 hover:bg-yellow-300/50" 
          data-term="${encodeURIComponent(JSON.stringify(v))}"
          title="${v.definition}"
        >${w}</span>`)}),d(g)},[a,t]);const f=g=>{const y=g.target;if(y.classList.contains("glossary-term"))try{const v=JSON.parse(decodeURIComponent(y.getAttribute("data-term")||""));i(v)}catch(v){console.error("Error parsing term data:",v)}},p=()=>{i(null)};return l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:r,dangerouslySetInnerHTML:{__html:c},onMouseEnter:f,onMouseLeave:p}),s&&l.jsxs("div",{className:"absolute z-50 bg-gray-900 text-white p-3 rounded-lg shadow-lg border border-gray-700 max-w-xs pointer-events-none transform -translate-y-2",children:[l.jsx("div",{className:"text-sm font-semibold text-yellow-400 mb-1",children:s.term}),l.jsx("div",{className:"text-xs text-gray-300 leading-relaxed",children:s.definition}),l.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})},C2=({content:a,grammarErrors:t,className:r=""})=>{const[s,i]=j.useState(null),[c,d]=j.useState("");j.useEffect(()=>{if(!t.length){d(a);return}let g=a;[...t].sort((v,b)=>b.position-v.position).forEach(v=>{const b=new RegExp(`\\b${v.text.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"gi");g=g.replace(b,w=>`<span 
          class="grammar-error border-b-2 border-red-400 cursor-help transition-all duration-200 hover:bg-red-100/30" 
          data-error="${encodeURIComponent(JSON.stringify(v))}"
          title="Grammar suggestion: ${v.suggestion}"
        >${w}</span>`)}),d(g)},[a,t]);const f=g=>{const y=g.target;if(y.classList.contains("grammar-error"))try{const v=JSON.parse(decodeURIComponent(y.getAttribute("data-error")||""));i(v)}catch(v){console.error("Error parsing error data:",v)}},p=()=>{i(null)};return l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:r,dangerouslySetInnerHTML:{__html:c},onMouseEnter:f,onMouseLeave:p}),s&&l.jsxs("div",{className:"absolute z-50 bg-red-900 text-white p-3 rounded-lg shadow-lg border border-red-700 max-w-xs pointer-events-none transform -translate-y-2",children:[l.jsx("div",{className:"text-sm font-semibold text-red-300 mb-1",children:"Grammar Suggestion"}),l.jsx("div",{className:"text-xs text-gray-300 leading-relaxed mb-2",children:l.jsx("span",{className:"line-through text-red-400",children:s.text})}),l.jsxs("div",{className:"text-xs text-green-300",children:[l.jsx("span",{className:"font-medium",children:"Suggested:"})," ",s.suggestion]}),l.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-red-900"})]})]})},P2=()=>{const{id:a}=Zu(),t=Vt(),{user:r,loading:s}=Un(),[i,c]=j.useState(null),[d,f]=j.useState(!0),[p,g]=j.useState(""),[y,v]=j.useState(!1),[b,w]=j.useState(!1),[k,N]=j.useState(null),[C,$]=j.useState(!0),[T,M]=j.useState({}),[L,H]=j.useState({});if(j.useEffect(()=>{!s&&!r&&t("/signin")},[r,s,t]),j.useEffect(()=>{!s&&r&&(async()=>{if(!(!a||!r))try{f(!0);const se=await Is(a);se?c(se):(g("Note not found"),setTimeout(()=>t("/notes"),2e3))}catch(se){console.error("Error loading note:",se),g("Failed to load note"),setTimeout(()=>t("/notes"),2e3)}finally{f(!1)}})()},[a,r,s,t]),j.useEffect(()=>{const J=()=>{$(!document.hidden)};return document.addEventListener("visibilitychange",J),()=>{document.removeEventListener("visibilitychange",J)}},[]),j.useEffect(()=>{if(!a||!r||!C||d)return;const J=setInterval(async()=>{try{const se=await Is(a);se&&i&&se.updated_at!==i.updated_at&&c(se)}catch(se){console.error("Error polling note updates:",se)}},5e3);return()=>clearInterval(J)},[a,r,C,d,i]),s)return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] flex items-center justify-center relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border border-[#4deeea]/20 rotate-45 animate-pulse"}),l.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 border border-[#4deeea]/15 rotate-12 animate-pulse delay-1000"}),l.jsx("div",{className:"absolute bottom-32 left-40 w-40 h-40 border border-[#4deeea]/10 -rotate-12 animate-pulse delay-500"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-28 h-28 border border-[#4deeea]/25 rotate-45 animate-pulse delay-700"})]}),l.jsxs("div",{className:"text-center relative z-10 flex flex-col items-center justify-center w-full h-full",children:[l.jsx("div",{className:"relative mb-8 flex items-center justify-center",children:l.jsxs("div",{className:"w-20 h-20 relative",children:[l.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-[#4deeea]/20"}),l.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-[#4deeea] animate-spin"}),l.jsx("div",{className:"absolute inset-2 rounded-full bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] animate-pulse"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx(Rn,{className:"h-8 w-8 text-white animate-bounce"})})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xl font-semibold bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] bg-clip-text text-transparent",children:"Loading Note Details"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Fetching note information..."})]})]})]});if(!r)return null;const U=async()=>{if(i)try{const J=await g_(i.id);J&&c(J)}catch(J){console.error("Error toggling pin:",J),g("Failed to toggle pin status")}},B=async()=>{if(i)try{const J=await Og(i.id);J&&c(J)}catch(J){console.error("Error toggling lock:",J),g("Failed to toggle lock status")}},te=async()=>{if(i)try{await Ig(i.id)?t("/notes"):g("Failed to delete note")}catch(J){console.error("Error deleting note:",J),g("Failed to delete note")}},le=J=>new Date(J).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),ue=J=>J.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").trim(),be=async J=>{if(console.log("NoteDetailsPage: AI feature clicked:",J),k===J){N(null);return}if(N(J),!L[J]&&i){console.log("NoteDetailsPage: Loading AI data for feature:",J),M(se=>({...se,[J]:!0}));try{const se=Na.stripHtmlTags(i.content);switch(console.log("NoteDetailsPage: Plain text extracted:",se.substring(0,100)+"..."),J){case"summary":console.log("NoteDetailsPage: Calling generateSummary...");const Re=await Na.generateSummary(se);console.log("NoteDetailsPage: Summary received:",Re),H(V=>({...V,summary:Re}));break;case"tags":const Ke=await Na.generateTags(se);H(V=>({...V,tags:Ke}));break;case"grammar":const Le=await Na.checkGrammar(se);H(V=>({...V,grammar:Le}));break;case"glossary":const Te=await Na.generateGlossary(se);H(V=>({...V,glossary:Te}));break}}catch(se){console.error(`Error loading AI ${J}:`,se),g(`Failed to load AI ${J}`)}finally{M(se=>({...se,[J]:!1}))}}else console.log("NoteDetailsPage: AI data already exists for feature:",J)};return d?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-[#4deeea]/20 border-t-[#4deeea] rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-400",children:"Loading note details..."})]})}):p||!i?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Rn,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:p||"Note not found"}),l.jsx("button",{onClick:()=>t("/notes"),className:"bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] text-black px-6 py-3 rounded-lg font-semibold hover:from-[#3dd9d4] hover:to-[#2dc4be] transition-all",children:"Back to Notes"})]})}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border border-[#4deeea]/20 rotate-45 animate-pulse"}),l.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 border border-[#4deeea]/15 rotate-12 animate-pulse delay-1000"}),l.jsx("div",{className:"absolute bottom-32 left-40 w-40 h-40 border border-[#4deeea]/10 -rotate-12 animate-pulse delay-500"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-28 h-28 border border-[#4deeea]/25 rotate-45 animate-pulse delay-700"})]}),l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-[#4deeea]/20 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-[#4deeea]/15 rounded-full blur-3xl animate-pulse delay-1000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-[#4deeea]/10 rounded-full blur-3xl animate-pulse delay-500"})]}),p&&l.jsxs("div",{className:"fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-[60] flex items-center space-x-2",children:[l.jsx("span",{children:p}),l.jsx("button",{onClick:()=>g(""),className:"ml-2 text-white hover:text-gray-200",children:""})]}),b&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden",onClick:()=>w(!1)}),l.jsxs("div",{className:`fixed right-0 top-0 h-full w-80 bg-gradient-to-b from-[#0a1a1a]/95 via-[#1a2f2f]/95 to-[#0f1f1f]/95 backdrop-blur-md border-l border-[#4deeea]/30 transform transition-transform duration-300 z-50 lg:translate-x-0 ${b?"translate-x-0":"translate-x-full"}`,children:[l.jsx("div",{className:"p-6 border-b border-[#4deeea]/30",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(on,{className:"h-6 w-6 text-[#4deeea]"}),l.jsx("h2",{className:"text-lg font-semibold bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] bg-clip-text text-transparent",children:"AI Features"})]}),l.jsx("button",{onClick:()=>w(!1),className:"lg:hidden text-gray-400 hover:text-white transition-colors",children:l.jsx(Ua,{className:"h-6 w-6"})})]})}),l.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto h-full pb-32",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>be("summary"),className:`w-full p-4 rounded-lg border transition-all duration-200 ${k==="summary"?"bg-[#4deeea]/20 border-[#4deeea] text-white":"bg-black/30 border-[#4deeea]/20 text-gray-300 hover:bg-[#4deeea]/10 hover:border-[#4deeea]/40"}`,children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ir,{className:"h-5 w-5 text-[#4deeea]"}),l.jsx("span",{className:"font-medium",children:"AI Summary"}),T.summary&&l.jsx("div",{className:"w-4 h-4 border-2 border-[#4deeea]/30 border-t-[#4deeea] rounded-full animate-spin ml-auto"})]})}),l.jsx("button",{onClick:()=>be("tags"),className:`w-full p-4 rounded-lg border transition-all duration-200 ${k==="tags"?"bg-[#4deeea]/20 border-[#4deeea] text-white":"bg-black/30 border-[#4deeea]/20 text-gray-300 hover:bg-[#4deeea]/10 hover:border-[#4deeea]/40"}`,children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Lu,{className:"h-5 w-5 text-[#4deeea]"}),l.jsx("span",{className:"font-medium",children:"Suggested Tags"}),T.tags&&l.jsx("div",{className:"w-4 h-4 border-2 border-[#4deeea]/30 border-t-[#4deeea] rounded-full animate-spin ml-auto"})]})}),l.jsx("button",{onClick:()=>be("grammar"),className:`w-full p-4 rounded-lg border transition-all duration-200 ${k==="grammar"?"bg-[#4deeea]/20 border-[#4deeea] text-white":"bg-black/30 border-[#4deeea]/20 text-gray-300 hover:bg-[#4deeea]/10 hover:border-[#4deeea]/40"}`,children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(As,{className:"h-5 w-5 text-[#4deeea]"}),l.jsx("span",{className:"font-medium",children:"Grammar Check"}),T.grammar&&l.jsx("div",{className:"w-4 h-4 border-2 border-[#4deeea]/30 border-t-[#4deeea] rounded-full animate-spin ml-auto"})]})}),l.jsx("button",{onClick:()=>be("glossary"),className:`w-full p-4 rounded-lg border transition-all duration-200 ${k==="glossary"?"bg-[#4deeea]/20 border-[#4deeea] text-white":"bg-black/30 border-[#4deeea]/20 text-gray-300 hover:bg-[#4deeea]/10 hover:border-[#4deeea]/40"}`,children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(hp,{className:"h-5 w-5 text-[#4deeea]"}),l.jsx("span",{className:"font-medium",children:"Glossary"}),T.glossary&&l.jsx("div",{className:"w-4 h-4 border-2 border-[#4deeea]/30 border-t-[#4deeea] rounded-full animate-spin ml-auto"})]})})]}),k&&l.jsxs("div",{className:"mt-6 bg-black/30 backdrop-blur-sm border border-[#4deeea]/20 rounded-lg p-4",children:[k==="summary"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[l.jsx(Ir,{className:"h-5 w-5 text-[#4deeea]"}),l.jsx("h3",{className:"font-semibold text-white",children:"AI Summary"})]}),T.summary?l.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-[#4deeea]/30 border-t-[#4deeea] rounded-full animate-spin"}),l.jsx("span",{className:"text-sm",children:"Generating summary..."})]}):L.summary?l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-300 text-sm leading-relaxed mb-3",children:L.summary.summary}),L.summary.keyPoints.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-white text-xs font-medium mb-2",children:"Key Points:"}),l.jsx("ul",{className:"space-y-1",children:L.summary.keyPoints.map((J,se)=>l.jsxs("li",{className:"text-gray-400 text-xs flex items-start space-x-2",children:[l.jsx("span",{className:"text-[#4deeea] mt-1",children:""}),l.jsx("span",{children:J})]},se))})]})]}):l.jsx("p",{className:"text-gray-500 text-sm",children:"Click to generate AI summary"})]}),k==="tags"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[l.jsx(Lu,{className:"h-5 w-5 text-[#4deeea]"}),l.jsx("h3",{className:"font-semibold text-white",children:"Suggested Tags"})]}),T.tags?l.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-[#4deeea]/30 border-t-[#4deeea] rounded-full animate-spin"}),l.jsx("span",{className:"text-sm",children:"Generating tags..."})]}):L.tags?l.jsxs("div",{children:[l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:L.tags.tags.map((J,se)=>l.jsx("span",{className:"px-3 py-1 bg-[#4deeea]/20 border border-[#4deeea]/30 rounded-full text-xs text-[#4deeea] hover:bg-[#4deeea]/30 cursor-pointer transition-colors",children:J},se))}),l.jsxs("p",{className:"text-gray-500 text-xs",children:["Confidence: ",Math.round(L.tags.confidence*100),"%"]})]}):l.jsx("p",{className:"text-gray-500 text-sm",children:"Click to generate AI tags"})]}),k==="grammar"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[l.jsx(As,{className:"h-5 w-5 text-[#4deeea]"}),l.jsx("h3",{className:"font-semibold text-white",children:"Grammar Check"})]}),T.grammar?l.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-[#4deeea]/30 border-t-[#4deeea] rounded-full animate-spin"}),l.jsx("span",{className:"text-sm",children:"Checking grammar..."})]}):L.grammar?l.jsx("div",{children:L.grammar.length>0?l.jsx("div",{className:"space-y-2",children:L.grammar.map((J,se)=>l.jsxs("div",{className:"p-2 bg-black/30 rounded border border-gray-700/50",children:[l.jsx("p",{className:"text-gray-300 text-xs mb-1",children:l.jsx("span",{className:"line-through text-red-400",children:J.text})}),l.jsxs("p",{className:"text-green-400 text-xs",children:[l.jsx("span",{className:"font-medium",children:"Suggested:"})," ",J.suggestion]})]},se))}):l.jsx("p",{className:"text-green-400 text-sm",children:" No grammar errors found!"})}):l.jsx("p",{className:"text-gray-500 text-sm",children:"Click to check grammar"})]}),k==="glossary"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[l.jsx(hp,{className:"h-5 w-5 text-[#4deeea]"}),l.jsx("h3",{className:"font-semibold text-white",children:"Glossary"})]}),T.glossary?l.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-[#4deeea]/30 border-t-[#4deeea] rounded-full animate-spin"}),l.jsx("span",{className:"text-sm",children:"Generating glossary..."})]}):L.glossary?l.jsx("div",{children:L.glossary.length>0?l.jsx("div",{className:"space-y-2",children:L.glossary.map((J,se)=>l.jsxs("div",{className:"p-2 bg-black/30 rounded border border-gray-700/50",children:[l.jsx("p",{className:"text-[#4deeea] text-sm font-medium",children:J.term}),l.jsx("p",{className:"text-gray-400 text-xs",children:J.definition})]},se))}):l.jsx("p",{className:"text-gray-500 text-sm",children:"No key terms identified"})}):l.jsx("p",{className:"text-gray-500 text-sm",children:"Click to generate glossary"})]})]})]})]}),y&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] border border-[#4deeea]/30 rounded-xl p-6 w-full max-w-md backdrop-blur-md",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-red-500/20 rounded-full",children:l.jsx(Ln,{className:"h-6 w-6 text-red-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-white",children:"Delete Note"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"This action cannot be undone"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("p",{className:"text-gray-300 mb-3",children:"Are you sure you want to delete this note?"}),l.jsxs("div",{className:"bg-black/30 border border-gray-700/50 rounded-lg p-3",children:[l.jsx("h4",{className:"text-white font-medium mb-1",children:i.title}),l.jsxs("p",{className:"text-gray-400 text-sm line-clamp-2",children:[ue(i.content).substring(0,80),"..."]})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:()=>v(!1),className:"flex-1 bg-black/50 border border-[#4deeea]/30 text-white px-4 py-3 rounded-lg hover:bg-black/70 transition-colors font-medium",children:"Cancel"}),l.jsxs("button",{onClick:()=>{v(!1),te()},className:"flex-1 bg-gradient-to-r from-red-500 to-red-600 text-white px-4 py-3 rounded-lg font-semibold hover:from-red-600 hover:to-red-700 transition-all duration-200 transform hover:scale-105 flex items-center justify-center space-x-2",children:[l.jsx(Ln,{className:"h-4 w-4"}),l.jsx("span",{children:"Delete Note"})]})]})]})}),l.jsxs("div",{className:"lg:mr-80 relative z-10 max-w-5xl mx-auto px-6 py-8",children:[l.jsxs("div",{className:"bg-gradient-to-r from-[#0a1a1a]/90 via-[#1a2f2f]/90 to-[#0f1f1f]/90 backdrop-blur-md border border-[#4deeea]/30 rounded-xl mb-8 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:()=>t("/notes"),className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[l.jsx(Rr,{className:"h-5 w-5"}),l.jsx("span",{children:"Back to Notes"})]}),l.jsxs("button",{onClick:()=>w(!0),className:"lg:hidden flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[l.jsx(on,{className:"h-5 w-5"}),l.jsx("span",{children:"AI Features"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:B,className:`p-2 rounded-lg transition-colors ${i.is_encrypted?"text-yellow-400 bg-yellow-400/20":"text-gray-400 hover:text-yellow-400 hover:bg-yellow-400/20"}`,title:i.is_encrypted?"Unlock note":"Lock note",children:i.is_encrypted?l.jsx(Ag,{className:"h-5 w-5"}):l.jsx(qt,{className:"h-5 w-5"})}),l.jsx("button",{onClick:U,className:`p-2 rounded-lg transition-colors ${i.is_pinned?"text-[#4deeea] bg-[#4deeea]/20":"text-gray-400 hover:text-[#4deeea] hover:bg-[#4deeea]/20"}`,title:i.is_pinned?"Unpin note":"Pin note",children:i.is_pinned?l.jsx(dd,{className:"h-5 w-5"}):l.jsx(Tr,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>t(i.is_encrypted?`/notes/encrypted/${i.id}`:`/notes/edit/${i.id}`),className:"p-2 rounded-lg text-gray-400 hover:text-[#4deeea] hover:bg-[#4deeea]/20 transition-colors",title:"Edit note",children:l.jsx(ei,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>v(!0),className:"p-2 rounded-lg text-gray-400 hover:text-red-400 hover:bg-red-400/20 transition-colors",title:"Delete note",children:l.jsx(Ln,{className:"h-5 w-5"})})]})]}),l.jsx("div",{className:"text-center",children:l.jsxs("h1",{className:"text-4xl font-bold text-white mb-4 flex items-center justify-center space-x-3",children:[i.title,i.is_pinned&&l.jsx(Tr,{className:"h-7 w-7 text-[#4deeea] fill-current"}),i.is_encrypted&&l.jsx(qt,{className:"h-7 w-7 text-yellow-400"})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-[#4deeea]/20 rounded-xl p-6 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-3",children:[l.jsx(G1,{className:"h-5 w-5 text-[#4deeea]"}),l.jsx("h3",{className:"font-semibold text-white",children:"Created"})]}),l.jsx("p",{className:"text-gray-300 text-sm",children:le(i.created_at)})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-[#4deeea]/20 rounded-xl p-6 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-3",children:[l.jsx(Q1,{className:"h-5 w-5 text-[#4deeea]"}),l.jsx("h3",{className:"font-semibold text-white",children:"Last Updated"})]}),l.jsx("p",{className:"text-gray-300 text-sm",children:le(i.updated_at)})]}),l.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-[#4deeea]/20 rounded-xl p-6 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-3",children:[l.jsx(Ka,{className:"h-5 w-5 text-[#4deeea]"}),l.jsx("h3",{className:"font-semibold text-white",children:"Status"})]}),l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.is_pinned&&l.jsx("span",{className:"px-3 py-1 bg-[#4deeea]/20 border border-[#4deeea]/30 rounded-full text-xs text-[#4deeea] font-medium",children:"Pinned"}),i.is_encrypted&&l.jsx("span",{className:"px-3 py-1 bg-yellow-400/20 border border-yellow-400/30 rounded-full text-xs text-yellow-400 font-medium",children:"Encrypted"}),!i.is_pinned&&!i.is_encrypted&&l.jsx("span",{className:"px-3 py-1 bg-gray-500/20 border border-gray-500/30 rounded-full text-xs text-gray-400 font-medium",children:"Standard"})]})]})]}),l.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-8 shadow-xl border border-gray-200/50",children:l.jsx("div",{className:"prose prose-lg max-w-none",children:L.glossary&&L.glossary.length>0?l.jsx(E2,{content:i.content||'<p class="text-gray-500 italic">This note is empty.</p>',glossaryTerms:L.glossary,className:"text-gray-800 leading-relaxed text-left"}):L.grammar&&L.grammar.length>0?l.jsx(C2,{content:i.content||'<p class="text-gray-500 italic">This note is empty.</p>',grammarErrors:L.grammar,className:"text-gray-800 leading-relaxed text-left"}):l.jsx("div",{className:"text-gray-800 leading-relaxed text-left",dangerouslySetInnerHTML:{__html:i.content||'<p class="text-gray-500 italic">This note is empty.</p>'}})})})]})]})},zp=()=>{const{id:a}=Zu(),t=Vt(),{user:r,loading:s}=Un(),i=j.useRef(null),[c,d]=j.useState(""),[f,p]=j.useState("Untitled Note"),[g,y]=j.useState("16"),[v,b]=j.useState(!1),[w,k]=j.useState(!1),[N,C]=j.useState(!1),[$,T]=j.useState(!1),[M,L]=j.useState(!1),[H,U]=j.useState("left"),[B,te]=j.useState(!0),[le,ue]=j.useState(""),[be,J]=j.useState(!1),[se,Re]=j.useState(!1);if(j.useEffect(()=>{!s&&!r&&t("/signin")},[r,s,t]),j.useEffect(()=>{!s&&r&&(async()=>{if(a&&a!=="new")try{const ge=await Is(a);ge?(p(ge.title),d(ge.content),te(!1),Re(!1),i.current&&i.current.innerHTML!==ge.content&&(i.current.innerHTML=ge.content)):t("/notes")}catch(ge){console.error("Error loading note:",ge),ue("Failed to load note"),t("/notes")}else B===!1&&(te(!0),p("Untitled Note"),d(""),Re(!1),i.current&&(i.current.innerHTML=""))})()},[a,t,s,r]),j.useEffect(()=>{if(!se||!f.trim())return;const ae=setTimeout(async()=>{if(!B&&a)try{const ge=i.current?.innerHTML||"";await Mu(a,{title:f.trim(),content:ge}),Re(!1),console.log("Auto-saved note")}catch(ge){console.error("Auto-save failed:",ge)}},2e3);return()=>clearTimeout(ae)},[f,c,se,B,a]),s)return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] flex items-center justify-center relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border border-[#4deeea]/20 rotate-45 animate-pulse"}),l.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 border border-[#4deeea]/15 rotate-12 animate-pulse delay-1000"}),l.jsx("div",{className:"absolute bottom-32 left-40 w-40 h-40 border border-[#4deeea]/10 -rotate-12 animate-pulse delay-500"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-28 h-28 border border-[#4deeea]/25 rotate-45 animate-pulse delay-700"})]}),l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-[#4deeea]/20 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-[#4deeea]/15 rounded-full blur-3xl animate-pulse delay-1000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-[#4deeea]/10 rounded-full blur-3xl animate-pulse delay-500"})]}),l.jsxs("div",{className:"text-center relative z-10 flex flex-col items-center justify-center w-full h-full",children:[l.jsxs("div",{className:"relative mb-8 flex items-center justify-center",children:[l.jsxs("div",{className:"w-20 h-20 relative",children:[l.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-[#4deeea]/20"}),l.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-[#4deeea] animate-spin"}),l.jsx("div",{className:"absolute inset-2 rounded-full bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] animate-pulse"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx(ti,{className:"h-8 w-8 text-white animate-bounce"})})]}),l.jsx("div",{className:"absolute -top-2 -left-2 w-2 h-2 bg-[#4deeea] rounded-full animate-ping"}),l.jsx("div",{className:"absolute -top-1 -right-3 w-1.5 h-1.5 bg-[#3dd9d4] rounded-full animate-ping animation-delay-300"}),l.jsx("div",{className:"absolute -bottom-2 -left-1 w-1 h-1 bg-[#4deeea] rounded-full animate-ping animation-delay-700"}),l.jsx("div",{className:"absolute -bottom-1 -right-2 w-2 h-2 bg-[#3dd9d4] rounded-full animate-ping animation-delay-500"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xl font-semibold bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] bg-clip-text text-transparent",children:"Preparing Editor"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Loading your writing workspace..."}),l.jsxs("div",{className:"flex justify-center space-x-1 mt-4",children:[l.jsx("div",{className:"w-2 h-2 bg-[#4deeea] rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-[#4deeea] rounded-full animate-bounce animation-delay-200"}),l.jsx("div",{className:"w-2 h-2 bg-[#4deeea] rounded-full animate-bounce animation-delay-400"})]})]})]})]});if(!r)return null;const Ke=[{value:"12",label:"12px"},{value:"14",label:"14px"},{value:"16",label:"16px"},{value:"18",label:"18px"},{value:"20",label:"20px"},{value:"24",label:"24px"}],Le=()=>{if(document.queryCommandSupported){C(document.queryCommandState("bold")),T(document.queryCommandState("italic")),L(document.queryCommandState("underline"));const ae=document.queryCommandValue("justifyLeft")?"left":document.queryCommandValue("justifyCenter")?"center":document.queryCommandValue("justifyRight")?"right":"left";U(ae)}},Te=(ae,ge)=>{document.execCommand(ae,!1,ge),Le(),i.current&&i.current.focus()},V=()=>{Te("bold")},ie=()=>{Te("italic")},G=()=>{Te("underline")},P=ae=>{Te({left:"justifyLeft",center:"justifyCenter",right:"justifyRight"}[ae])},D=ae=>{y(ae),b(!1),i.current&&(i.current.style.fontSize=`${ae}px`)},me=()=>{i.current&&(d(i.current.innerHTML),Re(!0)),Le()},ve=()=>{Le()},we=()=>{Le()},_e=ae=>{p(ae.target.value),Re(!0)},Ce=async()=>{k(!0),ue("");try{const ae=i.current?.innerHTML||"";if(!f.trim()){ue("Please enter a title for your note"),k(!1);return}if(B){const ge=await p_({title:f.trim(),content:ae,is_pinned:!1,is_encrypted:!1});console.log("Created new note:",ge),J(!0),Re(!1),setTimeout(()=>{J(!1)},3e3),setTimeout(()=>{t("/notes")},1e3)}else{const ge=await Mu(a,{title:f.trim(),content:ae});ge?(console.log("Updated note:",ge),J(!0),Re(!1),setTimeout(()=>{J(!1)},3e3),setTimeout(()=>{t("/notes")},1e3)):ue("Failed to update note. Note not found.")}}catch(ae){console.error("Error saving note:",ae),ue("Failed to save note. Please try again.")}finally{k(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border border-[#4deeea]/20 rotate-45 animate-pulse"}),l.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 border border-[#4deeea]/15 rotate-12 animate-pulse delay-1000"}),l.jsx("div",{className:"absolute bottom-32 left-40 w-40 h-40 border border-[#4deeea]/10 -rotate-12 animate-pulse delay-500"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-28 h-28 border border-[#4deeea]/25 rotate-45 animate-pulse delay-700"})]}),l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-[#4deeea]/20 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-[#4deeea]/15 rounded-full blur-3xl animate-pulse delay-1000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-[#4deeea]/10 rounded-full blur-3xl animate-pulse delay-500"})]}),le&&l.jsxs("div",{className:"fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-[60] flex items-center space-x-2 animate-slide-in",children:[l.jsx("span",{children:le}),l.jsx("button",{onClick:()=>ue(""),className:"ml-2 text-white hover:text-gray-200",children:""})]}),be&&l.jsxs("div",{className:"fixed top-4 right-4 bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-4 rounded-xl shadow-2xl z-[60] flex items-center space-x-3 animate-slide-in border border-green-400/30 backdrop-blur-sm",children:[l.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-green-400/20 rounded-full",children:l.jsx(CheckCircle,{className:"h-5 w-5 text-green-100"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-semibold text-sm",children:B?"Note Created!":"Note Updated!"}),l.jsx("span",{className:"text-xs text-green-100",children:B?"Your note has been saved successfully":"Your changes have been saved"})]}),l.jsx("button",{onClick:()=>J(!1),className:"ml-2 text-green-100 hover:text-white transition-colors",children:""})]}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-[#0a1a1a]/90 via-[#1a2f2f]/90 to-[#0f1f1f]/90 backdrop-blur-md border-b border-[#4deeea]/30 z-30",children:l.jsxs("div",{className:"px-6 py-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("button",{onClick:()=>t("/notes"),className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[l.jsx(Rr,{className:"h-5 w-5"}),l.jsx("span",{className:"hidden sm:inline",children:"Back to Notes"})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:[B?"Creating new note":"Editing note",se&&l.jsx("span",{className:"ml-2 text-yellow-400",children:" Unsaved changes"})]})]}),l.jsx("input",{type:"text",value:f,onChange:_e,className:"w-full text-2xl font-bold bg-transparent text-white placeholder-gray-400 border-none outline-none mb-4",placeholder:"Untitled Note"}),l.jsxs("div",{className:"flex items-center space-x-2 flex-wrap gap-2",children:[l.jsxs("div",{className:"flex items-center space-x-1 bg-black/30 backdrop-blur-sm border border-[#4deeea]/20 rounded-lg p-1",children:[l.jsx("button",{onClick:V,className:`p-2 rounded transition-colors ${N?"text-[#4deeea] bg-[#4deeea]/20":"text-gray-300 hover:text-white hover:bg-[#4deeea]/20"}`,title:"Bold",children:l.jsx(Eg,{className:"h-4 w-4"})}),l.jsx("button",{onClick:ie,className:`p-2 rounded transition-colors ${$?"text-[#4deeea] bg-[#4deeea]/20":"text-gray-300 hover:text-white hover:bg-[#4deeea]/20"}`,title:"Italic",children:l.jsx(Cg,{className:"h-4 w-4"})}),l.jsx("button",{onClick:G,className:`p-2 rounded transition-colors ${M?"text-[#4deeea] bg-[#4deeea]/20":"text-gray-300 hover:text-white hover:bg-[#4deeea]/20"}`,title:"Underline",children:l.jsx(Tg,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex items-center space-x-1 bg-black/30 backdrop-blur-sm border border-[#4deeea]/20 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>P("left"),className:`p-2 rounded transition-colors ${H==="left"?"text-[#4deeea] bg-[#4deeea]/20":"text-gray-300 hover:text-white hover:bg-[#4deeea]/20"}`,title:"Align Left",children:l.jsx(Ng,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>P("center"),className:`p-2 rounded transition-colors ${H==="center"?"text-[#4deeea] bg-[#4deeea]/20":"text-gray-300 hover:text-white hover:bg-[#4deeea]/20"}`,title:"Align Center",children:l.jsx(jg,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>P("right"),className:`p-2 rounded transition-colors ${H==="right"?"text-[#4deeea] bg-[#4deeea]/20":"text-gray-300 hover:text-white hover:bg-[#4deeea]/20"}`,title:"Align Right",children:l.jsx(Sg,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>b(!v),className:"flex items-center space-x-2 px-3 py-2 bg-black/30 backdrop-blur-sm border border-[#4deeea]/20 rounded-lg text-gray-300 hover:text-white transition-colors",children:[l.jsxs("span",{className:"text-sm",children:[g,"px"]}),l.jsx(cd,{className:"h-4 w-4"})]}),v&&l.jsx("div",{className:"absolute top-full left-0 mt-1 bg-gradient-to-b from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] backdrop-blur-md border border-[#4deeea]/30 rounded-lg shadow-xl z-50",children:Ke.map(ae=>l.jsx("button",{onClick:()=>D(ae.value),className:"block w-full text-left px-4 py-2 text-gray-300 hover:text-white hover:bg-[#4deeea]/20 transition-colors first:rounded-t-lg last:rounded-b-lg",children:ae.label},ae.value))})]})]})]})}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx("div",{ref:i,contentEditable:!0,onInput:me,onKeyUp:ve,onMouseUp:we,style:{fontSize:`${g}px`},className:"w-full min-h-[500px] bg-white/95 backdrop-blur-sm rounded-xl p-8 shadow-xl border border-gray-200/50 focus:outline-none focus:ring-2 focus:ring-[#4deeea] focus:border-transparent text-gray-800 leading-relaxed","data-placeholder":"Start writing your note..."})})})]}),l.jsxs("button",{onClick:Ce,disabled:w,className:"fixed bottom-6 right-6 bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] text-black px-6 py-3 rounded-full font-semibold hover:from-[#3dd9d4] hover:to-[#2dc4be] transition-all duration-200 transform hover:scale-105 flex items-center space-x-2 shadow-xl z-40 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(hd,{className:"h-5 w-5"}),l.jsx("span",{children:w?"Saving...":"Save Note"})]}),l.jsx("style",{children:`
        [contentEditable=true]:empty:before {
          content: attr(data-placeholder);
          color: #9ca3af;
          pointer-events: none;
        }
        
        @keyframes slide-in {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        
        @keyframes slide-out {
          from {
            transform: translateX(0);
            opacity: 1;
          }
          to {
            transform: translateX(100%);
            opacity: 0;
          }
        }
        
        .animate-slide-in {
          animation: slide-in 0.4s ease-out;
        }
        
        .animate-slide-out {
          animation: slide-out 0.3s ease-in;
        }
        
        .animation-delay-200 {
          animation-delay: 0.2s;
        }
        
        .animation-delay-300 {
          animation-delay: 0.3s;
        }
        
        .animation-delay-400 {
          animation-delay: 0.4s;
        }
        
        .animation-delay-500 {
          animation-delay: 0.5s;
        }
        
        .animation-delay-700 {
          animation-delay: 0.7s;
        }
      `})]})},T2=()=>{const{id:a}=Zu(),t=Vt(),{user:r,loading:s}=Un(),i=j.useRef(null),c=j.useRef(null),[d,f]=j.useState(null),[p,g]=j.useState(!1),[y,v]=j.useState(""),[b,w]=j.useState(!1),[k,N]=j.useState(""),[C,$]=j.useState(!1),[T,M]=j.useState(!1),[L,H]=j.useState(!1),[U,B]=j.useState(""),[te,le]=j.useState(""),[ue,be]=j.useState("16"),[J,se]=j.useState(!1),[Re,Ke]=j.useState(!1),[Le,Te]=j.useState(!1),[V,ie]=j.useState(!1),[G,P]=j.useState("left"),[D,me]=j.useState(!1);if(j.useEffect(()=>{!s&&!r&&t("/signin")},[r,s,t]),s)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-[#4deeea] border-t-transparent mx-auto mb-4"}),l.jsx("p",{className:"text-gray-400",children:"Loading..."})]})});if(!r)return null;const ve=[{value:"12",label:"12px"},{value:"14",label:"14px"},{value:"16",label:"16px"},{value:"18",label:"18px"},{value:"20",label:"20px"},{value:"24",label:"24px"}];j.useEffect(()=>{!s&&r&&(async()=>{if(!(!a||!r))try{M(!0);const Ee=await Is(a);Ee?(f(Ee),le(Ee.title),B(Ee.content)):(N("Note not found"),setTimeout(()=>t("/notes"),2e3))}catch(Ee){console.error("Error loading note:",Ee),N("Failed to load note"),setTimeout(()=>t("/notes"),2e3)}finally{M(!1)}})()},[a,r,s,t]);const we=()=>{if(document.queryCommandSupported&&L){Ke(document.queryCommandState("bold")),Te(document.queryCommandState("italic")),ie(document.queryCommandState("underline"));const X=document.queryCommandValue("justifyLeft")?"left":document.queryCommandValue("justifyCenter")?"center":document.queryCommandValue("justifyRight")?"right":"left";P(X)}},_e=(X,Ee)=>{L&&(document.execCommand(X,!1,Ee),we(),c.current&&c.current.focus())},Ce=()=>{_e("bold")},ae=()=>{_e("italic")},ge=()=>{_e("underline")},Qe=X=>{_e({left:"justifyLeft",center:"justifyCenter",right:"justifyRight"}[X])},Or=X=>{be(X),se(!1),c.current&&(c.current.style.fontSize=`${X}px`)},Fn=()=>{c.current&&B(c.current.innerHTML),we()},gr=()=>{we()},un=()=>{we()},dn=async()=>{if(!y.trim()){N("Please enter a password");return}M(!0),N("");try{await $g(y)?(g(!0),me(!0),N(""),setTimeout(()=>{c.current&&d&&(c.current.innerHTML=d.content)},100)):(N("Incorrect password. Please try again."),$(!0),v(""),setTimeout(()=>$(!1),500),i.current&&i.current.focus())}catch(X){console.error("Error verifying password:",X),N("Failed to verify password. Please try again."),$(!0),v(""),setTimeout(()=>$(!1),500)}M(!1)},$r=X=>{X.key==="Enter"&&dn()},hn=async()=>{if(!(!d||!D)){M(!0),N("");try{const X=c.current?.innerHTML||"",Ee=await Mu(d.id,{title:te.trim(),content:X});Ee?(f(Ee),B(X),console.log("Encrypted note saved successfully"),setTimeout(()=>{t("/notes")},1e3)):N("Failed to save note")}catch(X){console.error("Error saving encrypted note:",X),N("Failed to save note. Please try again.")}finally{M(!1)}}},Q=()=>{H(!L),!L&&c.current&&setTimeout(()=>{c.current&&(c.current.innerHTML=U,we())},100)};return p?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border border-[#4deeea]/20 rotate-45 animate-pulse"}),l.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 border border-[#4deeea]/15 rotate-12 animate-pulse delay-1000"}),l.jsx("div",{className:"absolute bottom-32 left-40 w-40 h-40 border border-[#4deeea]/10 -rotate-12 animate-pulse delay-500"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-28 h-28 border border-[#4deeea]/25 rotate-45 animate-pulse delay-700"})]}),l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-[#4deeea]/20 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-[#4deeea]/15 rounded-full blur-3xl animate-pulse delay-1000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-[#4deeea]/10 rounded-full blur-3xl animate-pulse delay-500"})]}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-[#0a1a1a]/90 via-[#1a2f2f]/90 to-[#0f1f1f]/90 backdrop-blur-md border-b border-[#4deeea]/30 z-30",children:l.jsxs("div",{className:"px-6 py-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("button",{onClick:()=>t("/notes"),className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[l.jsx(Rr,{className:"h-5 w-5"}),l.jsx("span",{className:"hidden sm:inline",children:"Back to Notes"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("div",{className:"flex items-center space-x-2 bg-green-500/20 border border-green-500/30 rounded-full px-3 py-1",children:[l.jsx(As,{className:"h-4 w-4 text-green-400"}),l.jsx("span",{className:"text-green-400 text-sm",children:"Unlocked"})]}),l.jsxs("button",{onClick:Q,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${L?"bg-[#4deeea]/20 text-[#4deeea] border border-[#4deeea]/30":"text-gray-400 hover:text-white hover:bg-black/30"}`,children:[l.jsx(ei,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:L?"View Mode":"Edit Mode"})]})]})]}),l.jsx("input",{type:"text",value:te,onChange:X=>le(X.target.value),readOnly:!L||!D,className:`w-full text-2xl font-bold bg-transparent text-white placeholder-gray-400 border-none outline-none mb-4 ${L&&D?"cursor-text":"cursor-default"}`,placeholder:d?.title||"Untitled Encrypted Note"}),L&&D&&l.jsxs("div",{className:"flex items-center space-x-2 flex-wrap gap-2 mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-1 bg-black/30 backdrop-blur-sm border border-[#4deeea]/20 rounded-lg p-1",children:[l.jsx("button",{onClick:Ce,className:`p-2 rounded transition-colors ${Re?"text-[#4deeea] bg-[#4deeea]/20":"text-gray-300 hover:text-white hover:bg-[#4deeea]/20"}`,title:"Bold",children:l.jsx(Eg,{className:"h-4 w-4"})}),l.jsx("button",{onClick:ae,className:`p-2 rounded transition-colors ${Le?"text-[#4deeea] bg-[#4deeea]/20":"text-gray-300 hover:text-white hover:bg-[#4deeea]/20"}`,title:"Italic",children:l.jsx(Cg,{className:"h-4 w-4"})}),l.jsx("button",{onClick:ge,className:`p-2 rounded transition-colors ${V?"text-[#4deeea] bg-[#4deeea]/20":"text-gray-300 hover:text-white hover:bg-[#4deeea]/20"}`,title:"Underline",children:l.jsx(Tg,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex items-center space-x-1 bg-black/30 backdrop-blur-sm border border-[#4deeea]/20 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>Qe("left"),className:`p-2 rounded transition-colors ${G==="left"?"text-[#4deeea] bg-[#4deeea]/20":"text-gray-300 hover:text-white hover:bg-[#4deeea]/20"}`,title:"Align Left",children:l.jsx(Ng,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>Qe("center"),className:`p-2 rounded transition-colors ${G==="center"?"text-[#4deeea] bg-[#4deeea]/20":"text-gray-300 hover:text-white hover:bg-[#4deeea]/20"}`,title:"Align Center",children:l.jsx(jg,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>Qe("right"),className:`p-2 rounded transition-colors ${G==="right"?"text-[#4deeea] bg-[#4deeea]/20":"text-gray-300 hover:text-white hover:bg-[#4deeea]/20"}`,title:"Align Right",children:l.jsx(Sg,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>se(!J),className:"flex items-center space-x-2 px-3 py-2 bg-black/30 backdrop-blur-sm border border-[#4deeea]/20 rounded-lg text-gray-300 hover:text-white transition-colors",children:[l.jsxs("span",{className:"text-sm",children:[ue,"px"]}),l.jsx(cd,{className:"h-4 w-4"})]}),J&&l.jsx("div",{className:"absolute top-full left-0 mt-1 bg-gradient-to-b from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] backdrop-blur-md border border-[#4deeea]/30 rounded-lg shadow-xl z-50",children:ve.map(X=>l.jsx("button",{onClick:()=>Or(X.value),className:"block w-full text-left px-4 py-2 text-gray-300 hover:text-white hover:bg-[#4deeea]/20 transition-colors first:rounded-t-lg last:rounded-b-lg",children:X.label},X.value))})]})]})]})}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx("div",{ref:c,contentEditable:L&&D,onInput:Fn,onKeyUp:gr,onMouseUp:un,style:{fontSize:`${ue}px`},className:`w-full min-h-[500px] bg-white/95 backdrop-blur-sm rounded-xl p-8 shadow-xl border border-gray-200/50 text-gray-800 leading-relaxed ${L&&D?"focus:outline-none focus:ring-2 focus:ring-[#4deeea] focus:border-transparent cursor-text":"cursor-default"}`,"data-placeholder":"Start writing your encrypted note..."})})})]}),L&&D&&l.jsx("button",{onClick:hn,disabled:T,className:"fixed bottom-6 right-6 bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] text-black px-6 py-3 rounded-full font-semibold hover:from-[#3dd9d4] hover:to-[#2dc4be] transition-all duration-200 transform hover:scale-105 flex items-center space-x-2 shadow-xl z-40 disabled:opacity-50 disabled:cursor-not-allowed",children:T?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-black border-t-transparent"}),l.jsx("span",{children:"Saving..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(hd,{className:"h-5 w-5"}),l.jsx("span",{children:"Save Note"})]})}),l.jsx("style",{children:`
        [contentEditable=true]:empty:before {
          content: attr(data-placeholder);
          color: #9ca3af;
          pointer-events: none;
        }
      `})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border border-[#4deeea]/20 rotate-45 animate-pulse"}),l.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 border border-[#4deeea]/15 rotate-12 animate-pulse delay-1000"}),l.jsx("div",{className:"absolute bottom-32 left-40 w-40 h-40 border border-[#4deeea]/10 -rotate-12 animate-pulse delay-500"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-28 h-28 border border-[#4deeea]/25 rotate-45 animate-pulse delay-700"})]}),l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-[#4deeea]/20 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-[#4deeea]/15 rounded-full blur-3xl animate-pulse delay-1000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-[#4deeea]/10 rounded-full blur-3xl animate-pulse delay-500"})]}),l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:`bg-gradient-to-br from-[#0a1a1a]/95 via-[#1a2f2f]/95 to-[#0f1f1f]/95 backdrop-blur-md border border-[#4deeea]/30 rounded-2xl p-8 w-full max-w-md shadow-2xl ${C?"animate-shake":""}`,children:[l.jsxs("button",{onClick:()=>t("/notes"),className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors mb-6",children:[l.jsx(Rr,{className:"h-5 w-5"}),l.jsx("span",{children:"Back to Notes"})]}),l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx("div",{className:"bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] p-4 rounded-full",children:l.jsx(qt,{className:"h-8 w-8 text-white"})})}),l.jsx("h2",{className:"text-2xl font-bold text-center mb-2 bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] bg-clip-text text-transparent",children:"Enter Password to Unlock Note"}),l.jsx("p",{className:"text-gray-400 text-center mb-8",children:"This note is encrypted and requires a password to access"}),l.jsxs("div",{className:"relative mb-4",children:[l.jsx("input",{ref:i,type:b?"text":"password",value:y,onChange:X=>v(X.target.value),onKeyPress:$r,placeholder:"Enter password",className:"w-full px-4 py-3 pr-12 bg-black/50 backdrop-blur-sm border border-[#4deeea]/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#4deeea] focus:ring-1 focus:ring-[#4deeea] transition-all",disabled:T}),l.jsx("button",{type:"button",onClick:()=>w(!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:b?l.jsx(qa,{className:"h-5 w-5"}):l.jsx(Rs,{className:"h-5 w-5"})})]}),k&&l.jsxs("div",{className:"flex items-center space-x-2 text-red-400 text-sm mb-4",children:[l.jsx(hr,{className:"h-4 w-4"}),l.jsx("span",{children:k})]}),l.jsx("button",{onClick:dn,disabled:T||!y.trim(),className:"w-full bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] text-black px-6 py-3 rounded-lg font-semibold hover:from-[#3dd9d4] hover:to-[#2dc4be] transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2",children:T?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-black border-t-transparent"}),l.jsx("span",{children:"Unlocking..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Va,{className:"h-5 w-5"}),l.jsx("span",{children:"Unlock Note"})]})}),l.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:'Hint: Try "1234" for demo purposes'})]})}),l.jsx("style",{children:`
          @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
          }
          .animate-shake {
            animation: shake 0.5s ease-in-out;
          }
        `})]})},A2=[{id:"1",title:"Meeting Notes - Q4 Planning",content:"Discussed quarterly goals, budget allocation, and team restructuring. Key points: increase marketing spend by 20%, hire 3 new developers, focus on mobile app development. Next steps: Schedule follow-up meeting for next week.",isPinned:!0,createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-20")},{id:"2",title:"Project Ideas",content:"AI-powered note-taking app, Real-time collaboration features, Voice-to-text integration, Smart categorization system. Consider implementing machine learning for auto-tagging.",isPinned:!0,createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-18")},{id:"3",title:"Recipe: Chocolate Chip Cookies",content:"2 cups flour, 1 cup butter, 3/4 cup brown sugar, 1/2 cup white sugar, 2 eggs, 2 tsp vanilla extract, 1 tsp baking soda, 1 tsp salt, 2 cups chocolate chips. Bake at 375F for 9-11 minutes.",isPinned:!1,createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-12")},{id:"4",title:"Book Recommendations",content:"The Pragmatic Programmer, Clean Code, Design Patterns, System Design Interview, Atomic Habits, Deep Work. Focus on technical books for career development.",isPinned:!1,createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-16")},{id:"5",title:"Travel Itinerary - Japan",content:"Day 1: Tokyo - Shibuya, Harajuku. Day 2: Kyoto - Fushimi Inari, Kiyomizu-dera. Day 3: Osaka - Dotonbori, Osaka Castle. Don't forget to try authentic ramen and sushi.",isPinned:!1,createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-14")},{id:"6",title:"Workout Plan",content:"Monday: Chest & Triceps, Tuesday: Back & Biceps, Wednesday: Legs, Thursday: Shoulders, Friday: Cardio, Weekend: Rest. Focus on progressive overload and proper form.",isPinned:!1,createdAt:new Date("2024-01-03"),updatedAt:new Date("2024-01-11")},{id:"7",title:"Confidential Project Notes",content:"This note contains sensitive information about the new product launch and is password protected.",isPinned:!0,isEncrypted:!0,createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-25")}],R2=()=>{const a=Vt(),{user:t,loading:r}=Un(),[s]=Rw(),i=s.get("q")||"",[c,d]=j.useState(A2);if(j.useEffect(()=>{!r&&!t&&a("/signin")},[t,r,a]),r)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-[#4deeea] border-t-transparent mx-auto mb-4"}),l.jsx("p",{className:"text-gray-400",children:"Loading..."})]})});if(!t)return null;const f=j.useMemo(()=>i.trim()?c.filter(k=>k.title.toLowerCase().includes(i.toLowerCase())||k.content.toLowerCase().includes(i.toLowerCase())).sort((k,N)=>k.isPinned&&!N.isPinned?-1:!k.isPinned&&N.isPinned?1:new Date(N.updatedAt).getTime()-new Date(k.updatedAt).getTime()):[],[c,i]),p=(k,N)=>{if(!N.trim())return k;const C=new RegExp(`(${N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return k.split(C).map((T,M)=>C.test(T)?l.jsx("mark",{className:"bg-yellow-300 text-gray-900 px-1 rounded font-semibold",children:T},M):T)},g=k=>{d(N=>N.map(C=>C.id===k?{...C,isPinned:!C.isPinned}:C))},y=k=>{window.confirm("Are you sure you want to delete this note?")&&d(N=>N.filter(C=>C.id!==k))},v=(k,N=150)=>k.length>N?k.substring(0,N)+"...":k,b=k=>{const C=Math.abs(new Date().getTime()-k.getTime()),$=Math.ceil(C/(1e3*60*60*24));return $===1?"Today":$===2?"Yesterday":$<=7?`${$-1} days ago`:k.toLocaleDateString()},w=k=>{k.isEncrypted?a(`/notes/encrypted/${k.id}`):a(`/notes/${k.id}`)};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f]",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border border-[#4deeea]/20 rotate-45 animate-pulse"}),l.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 border border-[#4deeea]/15 rotate-12 animate-pulse delay-1000"}),l.jsx("div",{className:"absolute bottom-32 left-40 w-40 h-40 border border-[#4deeea]/10 -rotate-12 animate-pulse delay-500"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-28 h-28 border border-[#4deeea]/25 rotate-45 animate-pulse delay-700"})]}),l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-[#4deeea]/20 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-[#4deeea]/15 rounded-full blur-3xl animate-pulse delay-1000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-[#4deeea]/10 rounded-full blur-3xl animate-pulse delay-500"})]}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-[#0a1a1a]/90 via-[#1a2f2f]/90 to-[#0f1f1f]/90 backdrop-blur-md border-b border-[#4deeea]/30 z-30",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("button",{onClick:()=>a("/notes"),className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[l.jsx(Rr,{className:"h-5 w-5"}),l.jsx("span",{className:"hidden sm:inline",children:"Back to Notes"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx($n,{className:"h-8 w-8 text-[#4deeea]"}),l.jsx("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] bg-clip-text text-transparent",children:"Search Results"})]}),l.jsx("div",{className:"w-20"})," "]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-gray-300 text-lg",children:["Results for: ",l.jsxs("span",{className:"text-[#4deeea] font-semibold",children:['"',i,'"']})]}),l.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[f.length," ",f.length===1?"note":"notes"," found"]})]})]})}),l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i.trim()?f.length===0?l.jsxs("div",{className:"text-center py-16",children:[l.jsx($n,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No results found"}),l.jsxs("p",{className:"text-gray-500 mb-6",children:['No notes match your search for "',i,'"']}),l.jsx("button",{onClick:()=>a("/notes"),className:"bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] text-black px-6 py-3 rounded-lg font-semibold hover:from-[#3dd9d4] hover:to-[#2dc4be] transition-all duration-200",children:"Back to All Notes"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:f.map(k=>l.jsxs("div",{className:`group bg-black/50 backdrop-blur-sm border rounded-xl p-6 hover:bg-black/70 transition-all duration-300 hover:-translate-y-1 hover:shadow-xl cursor-pointer ${k.isPinned?"border-[#4deeea]/50 bg-[#4deeea]/5":"border-[#4deeea]/30 hover:border-[#4deeea]/50"}`,onClick:()=>w(k),children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-start space-x-2 flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-white group-hover:text-[#4deeea] transition-colors line-clamp-2",children:p(k.title,i)}),k.isEncrypted&&l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx(qt,{className:"h-4 w-4 text-yellow-400"})})]}),k.isPinned&&l.jsx("div",{className:"flex-shrink-0 ml-2",children:l.jsx(Tr,{className:"h-4 w-4 text-[#4deeea] fill-current"})})]}),l.jsx("div",{className:"text-gray-400 text-sm mb-4 line-clamp-3 leading-relaxed",children:p(v(k.content),i)}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-xs text-gray-500",children:b(k.updatedAt)}),l.jsxs("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:N=>{N.stopPropagation(),g(k.id)},className:`p-2 rounded-lg transition-colors ${k.isPinned?"text-[#4deeea] hover:bg-[#4deeea]/20":"text-gray-400 hover:text-[#4deeea] hover:bg-[#4deeea]/20"}`,title:k.isPinned?"Unpin note":"Pin note",children:k.isPinned?l.jsx(dd,{className:"h-4 w-4"}):l.jsx(Tr,{className:"h-4 w-4"})}),l.jsx("button",{onClick:N=>{N.stopPropagation(),w(k)},className:"p-2 rounded-lg text-gray-400 hover:text-[#4deeea] hover:bg-[#4deeea]/20 transition-colors",title:"Edit note",children:l.jsx(ei,{className:"h-4 w-4"})}),l.jsx("button",{onClick:N=>{N.stopPropagation(),y(k.id)},className:"p-2 rounded-lg text-gray-400 hover:text-red-400 hover:bg-red-400/20 transition-colors",title:"Delete note",children:l.jsx(Ln,{className:"h-4 w-4"})})]})]})]},k.id))}):l.jsxs("div",{className:"text-center py-16",children:[l.jsx($n,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No search query"}),l.jsx("p",{className:"text-gray-500",children:"Enter a search term to find your notes"})]})})]})]})},I2=()=>{const a=Vt(),{user:t,loading:r}=Un(),[s,i]=j.useState("dark"),[c,d]=j.useState("medium"),[f,p]=j.useState({grammarCheck:!0,glossaryHighlights:!0,suggestedTags:!1}),[g,y]=j.useState(!1),[v,b]=j.useState(!1),[w,k]=j.useState(!1);if(j.useEffect(()=>{!r&&!t&&a("/signin")},[t,r,a]),r)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-[#4deeea] border-t-transparent mx-auto mb-4"}),l.jsx("p",{className:"text-gray-400",children:"Loading..."})]})});if(!t)return null;const N=[{value:"small",label:"Small (14px)"},{value:"medium",label:"Medium (16px)"},{value:"large",label:"Large (18px)"}],C=({enabled:H,onChange:U,label:B,description:te})=>l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-white font-medium",children:B}),te&&l.jsx("div",{className:"text-gray-400 text-sm mt-1",children:te})]}),l.jsx("button",{onClick:()=>U(!H),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-[#4deeea] focus:ring-offset-2 focus:ring-offset-gray-800 ${H?"bg-[#4deeea]":"bg-gray-600"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${H?"translate-x-6":"translate-x-1"}`})})]}),$=({title:H,icon:U,children:B})=>l.jsxs("div",{className:"bg-black/50 backdrop-blur-sm border border-[#4deeea]/30 rounded-xl p-6 hover:bg-black/60 transition-all duration-300",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] rounded-lg",children:wu.cloneElement(U,{className:"h-5 w-5 text-white"})}),l.jsx("h3",{className:"text-xl font-semibold text-white",children:H})]}),l.jsx("div",{className:"border-t border-[#4deeea]/20 pt-4",children:B})]}),T=(H,U)=>{p(B=>({...B,[H]:U}))},M=async()=>{b(!0),await new Promise(H=>setTimeout(H,1e3)),b(!1),k(!0),setTimeout(()=>k(!1),3e3),console.log("Settings saved:",{theme:s,fontSize:c,aiSettings:f})},L=()=>{window.confirm("Are you sure you want to log out?")&&(console.log("User logged out"),a("/"))};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border border-[#4deeea]/20 rotate-45 animate-pulse"}),l.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 border border-[#4deeea]/15 rotate-12 animate-pulse delay-1000"}),l.jsx("div",{className:"absolute bottom-32 left-40 w-40 h-40 border border-[#4deeea]/10 -rotate-12 animate-pulse delay-500"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-28 h-28 border border-[#4deeea]/25 rotate-45 animate-pulse delay-700"})]}),l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-[#4deeea]/20 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-[#4deeea]/15 rounded-full blur-3xl animate-pulse delay-1000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-[#4deeea]/10 rounded-full blur-3xl animate-pulse delay-500"})]}),w&&l.jsxs("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-2 animate-slide-in",children:[l.jsx(As,{className:"h-5 w-5"}),l.jsx("span",{children:"Preferences saved!"})]}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-[#0a1a1a]/90 via-[#1a2f2f]/90 to-[#0f1f1f]/90 backdrop-blur-md border-b border-[#4deeea]/30 z-30",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:()=>a("/notes"),className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[l.jsx(Rr,{className:"h-5 w-5"}),l.jsx("span",{className:"hidden sm:inline",children:"Back to Notes"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(a_,{className:"h-8 w-8 text-[#4deeea]"}),l.jsx("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] bg-clip-text text-transparent",children:"Settings & Preferences"})]}),l.jsx("div",{className:"w-20"})," "]})})}),l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"space-y-8",children:[l.jsx($,{title:"Appearance",icon:l.jsx(fp,{}),children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-white font-medium",children:"Theme"}),l.jsx("div",{className:"text-gray-400 text-sm mt-1",children:"Choose your preferred color scheme"})]}),l.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 rounded-lg p-1",children:[l.jsxs("button",{onClick:()=>i("light"),className:`flex items-center space-x-2 px-3 py-2 rounded-md transition-colors ${s==="light"?"bg-[#4deeea] text-black":"text-gray-400 hover:text-white"}`,children:[l.jsx(i_,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"Light"})]}),l.jsxs("button",{onClick:()=>i("dark"),className:`flex items-center space-x-2 px-3 py-2 rounded-md transition-colors ${s==="dark"?"bg-[#4deeea] text-black":"text-gray-400 hover:text-white"}`,children:[l.jsx(fp,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"Dark"})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-white font-medium",children:"Font Size"}),l.jsx("div",{className:"text-gray-400 text-sm mt-1",children:"Adjust text size for better readability"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>y(!g),className:"flex items-center space-x-2 px-4 py-2 bg-gray-700/50 border border-gray-600 rounded-lg text-white hover:bg-gray-700 transition-colors min-w-[140px] justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(l_,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:N.find(H=>H.value===c)?.label})]}),l.jsx(cd,{className:"h-4 w-4"})]}),g&&l.jsx("div",{className:"absolute top-full right-0 mt-1 bg-gradient-to-b from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] backdrop-blur-md border border-[#4deeea]/30 rounded-lg shadow-xl z-50 min-w-[140px]",children:N.map(H=>l.jsx("button",{onClick:()=>{d(H.value),y(!1)},className:"block w-full text-left px-4 py-2 text-gray-300 hover:text-white hover:bg-[#4deeea]/20 transition-colors first:rounded-t-lg last:rounded-b-lg",children:H.label},H.value))})]})]})]})}),l.jsx($,{title:"AI Features",icon:l.jsx(on,{}),children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(C,{enabled:f.grammarCheck,onChange:H=>T("grammarCheck",H),label:"Grammar Check",description:"Automatically check for grammar and spelling errors"}),l.jsx(C,{enabled:f.glossaryHighlights,onChange:H=>T("glossaryHighlights",H),label:"Glossary Highlights",description:"Highlight important terms with definitions"}),l.jsx(C,{enabled:f.suggestedTags,onChange:H=>T("suggestedTags",H),label:"Suggested Tags",description:"Get AI-powered tag suggestions for your notes"})]})}),l.jsx($,{title:"Account",icon:l.jsx(Ka,{}),children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{className:"w-full sm:w-auto bg-gray-700/50 border border-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(Ka,{className:"h-5 w-5"}),l.jsx("span",{children:"Manage Account"})]}),l.jsxs("button",{onClick:L,className:"w-full sm:w-auto bg-red-600/20 border border-red-600/50 text-red-400 px-6 py-3 rounded-lg hover:bg-red-600/30 hover:text-red-300 transition-colors flex items-center justify-center space-x-2",children:[l.jsx($u,{className:"h-5 w-5"}),l.jsx("span",{children:"Log Out"})]})]})})]})})]}),l.jsx("div",{className:"fixed bottom-6 right-6 z-40",children:l.jsx("button",{onClick:M,disabled:v,className:"bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] text-black px-6 py-3 rounded-full font-semibold hover:from-[#3dd9d4] hover:to-[#2dc4be] transition-all duration-200 transform hover:scale-105 flex items-center space-x-2 shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:v?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-black border-t-transparent"}),l.jsx("span",{children:"Saving..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(hd,{className:"h-5 w-5"}),l.jsx("span",{children:"Save Changes"})]})})}),l.jsx("style",{children:`
        @keyframes slide-in {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
      `})]})},O2=()=>{const a=Vt(),[t,r]=j.useState({email:"",password:""}),[s,i]=j.useState(!1),[c,d]=j.useState({}),[f,p]=j.useState(!1),[g,y]=j.useState(!1),v=k=>{const{name:N,value:C}=k.target;r($=>({...$,[N]:C})),c[N]&&d($=>({...$,[N]:""}))},b=()=>{const k={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(k.email="Please enter a valid email address"):k.email="Email is required",t.password?t.password.length<6&&(k.password="Password must be at least 6 characters"):k.password="Password is required",d(k),Object.keys(k).length===0},w=async k=>{if(k.preventDefault(),!!b()){p(!0);try{const{data:N,error:C}=await He.auth.signInWithPassword({email:t.email,password:t.password});if(C){d({general:C.message||"Invalid email or password"}),p(!1);return}N.user&&(p(!1),y(!0),setTimeout(()=>{a("/notes")},1e3))}catch(N){console.error("Signin error:",N),d({general:"An unexpected error occurred. Please try again."}),p(!1)}}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border border-[#4deeea]/20 rotate-45 animate-pulse"}),l.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 border border-[#4deeea]/15 rotate-12 animate-pulse delay-1000"}),l.jsx("div",{className:"absolute bottom-32 left-40 w-40 h-40 border border-[#4deeea]/10 -rotate-12 animate-pulse delay-500"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-28 h-28 border border-[#4deeea]/25 rotate-45 animate-pulse delay-700"})]}),l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-[#4deeea]/20 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-[#4deeea]/15 rounded-full blur-3xl animate-pulse delay-1000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-[#4deeea]/10 rounded-full blur-3xl animate-pulse delay-500"})]}),g&&l.jsxs("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-2 animate-slide-in",children:[l.jsx(As,{className:"h-5 w-5"}),l.jsx("span",{children:"Welcome back! Redirecting..."})]}),l.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsxs("button",{onClick:()=>a("/"),className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors mb-8",children:[l.jsx(Rr,{className:"h-5 w-5"}),l.jsx("span",{children:"Back to Home"})]}),l.jsxs("div",{className:"bg-black/50 backdrop-blur-sm border border-[#4deeea]/30 rounded-2xl p-8 shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(ti,{className:"h-10 w-10 text-[#4deeea]"}),l.jsx(Ir,{className:"h-5 w-5 text-[#4deeea] absolute -top-1 -right-1"})]}),l.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] bg-clip-text text-transparent",children:"NotesAI"})]}),l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),l.jsx("p",{className:"text-gray-400",children:"Sign in to your account to continue"})]}),l.jsxs("form",{onSubmit:w,className:"space-y-6",children:[c.general&&l.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center space-x-2 text-red-400",children:[l.jsx(hr,{className:"h-5 w-5"}),l.jsx("span",{className:"text-sm",children:c.general})]})}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(ud,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{id:"email",name:"email",type:"email",value:t.email,onChange:v,className:`w-full pl-10 pr-4 py-3 bg-black/50 backdrop-blur-sm border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#4deeea] transition-all ${c.email?"border-red-500":"border-[#4deeea]/30 focus:border-[#4deeea]"}`,placeholder:"Enter your email"})]}),c.email&&l.jsxs("div",{className:"flex items-center space-x-2 text-red-400 text-sm mt-2",children:[l.jsx(hr,{className:"h-4 w-4"}),l.jsx("span",{children:c.email})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{id:"password",name:"password",type:s?"text":"password",value:t.password,onChange:v,className:`w-full pl-10 pr-12 py-3 bg-black/50 backdrop-blur-sm border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#4deeea] transition-all ${c.password?"border-red-500":"border-[#4deeea]/30 focus:border-[#4deeea]"}`,placeholder:"Enter your password"}),l.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:s?l.jsx(qa,{className:"h-5 w-5"}):l.jsx(Rs,{className:"h-5 w-5"})})]}),c.password&&l.jsxs("div",{className:"flex items-center space-x-2 text-red-400 text-sm mt-2",children:[l.jsx(hr,{className:"h-4 w-4"}),l.jsx("span",{children:c.password})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"rounded border-gray-600 text-[#4deeea] focus:ring-[#4deeea] focus:ring-offset-0 bg-black/50"}),l.jsx("span",{className:"ml-2 text-sm text-gray-400",children:"Remember me"})]}),l.jsx(dt,{to:"/forgot-password",className:"text-sm text-[#4deeea] hover:text-[#3dd9d4] transition-colors",children:"Forgot password?"})]}),l.jsx("button",{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] text-black px-6 py-3 rounded-lg font-semibold hover:from-[#3dd9d4] hover:to-[#2dc4be] transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2",children:f?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-black border-t-transparent"}),l.jsx("span",{children:"Signing In..."})]}):l.jsx("span",{children:"Sign In"})})]}),l.jsx("div",{className:"mt-8 text-center",children:l.jsxs("p",{className:"text-gray-400",children:["Don't have an account?"," ",l.jsx(dt,{to:"/signup",className:"text-[#4deeea] hover:text-[#3dd9d4] font-semibold transition-colors",children:"Sign up for free"})]})})]})]})}),l.jsx("style",{children:`
        @keyframes slide-in {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
      `})]})},$2=()=>{const a=Vt(),[t,r]=j.useState({email:"",password:"",confirmPassword:""}),[s,i]=j.useState(!1),[c,d]=j.useState(!1),[f,p]=j.useState({}),[g,y]=j.useState(!1),[v,b]=j.useState(!1),[w,k]=j.useState(!1),N=U=>{const{name:B,value:te}=U.target;r(le=>({...le,[B]:te})),f[B]&&p(le=>({...le,[B]:""}))},C=()=>{const U={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(U.email="Please enter a valid email address"):U.email="Email is required",t.password?t.password.length<8?U.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(t.password)||(U.password="Password must contain uppercase, lowercase, and number"):U.password="Password is required",t.confirmPassword?t.password!==t.confirmPassword&&(U.confirmPassword="Passwords do not match"):U.confirmPassword="Please confirm your password",w||(U.terms="You must agree to the Terms of Service"),p(U),Object.keys(U).length===0},$=async U=>{if(U.preventDefault(),!!C()){y(!0);try{const{data:B,error:te}=await He.auth.signUp({email:t.email,password:t.password,options:{emailRedirectTo:void 0}});if(te){p({general:te.message||"An error occurred during signup"}),y(!1);return}B.user&&(y(!1),b(!0),setTimeout(()=>{a("/notes")},1500))}catch(B){console.error("Signup error:",B),p({general:"An unexpected error occurred. Please try again."}),y(!1)}}},T=U=>{let B=0;return U.length>=8&&B++,/[a-z]/.test(U)&&B++,/[A-Z]/.test(U)&&B++,/\d/.test(U)&&B++,/[^A-Za-z0-9]/.test(U)&&B++,B},M=U=>{switch(U){case 0:case 1:return{text:"Very Weak",color:"text-red-400"};case 2:return{text:"Weak",color:"text-orange-400"};case 3:return{text:"Fair",color:"text-yellow-400"};case 4:return{text:"Good",color:"text-blue-400"};case 5:return{text:"Strong",color:"text-green-400"};default:return{text:"",color:""}}},L=T(t.password),H=M(L);return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border border-[#4deeea]/20 rotate-45 animate-pulse"}),l.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 border border-[#4deeea]/15 rotate-12 animate-pulse delay-1000"}),l.jsx("div",{className:"absolute bottom-32 left-40 w-40 h-40 border border-[#4deeea]/10 -rotate-12 animate-pulse delay-500"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-28 h-28 border border-[#4deeea]/25 rotate-45 animate-pulse delay-700"})]}),l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-[#4deeea]/20 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-[#4deeea]/15 rounded-full blur-3xl animate-pulse delay-1000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-[#4deeea]/10 rounded-full blur-3xl animate-pulse delay-500"})]}),v&&l.jsxs("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-2 animate-slide-in",children:[l.jsx(As,{className:"h-5 w-5"}),l.jsx("span",{children:"Account created! Welcome to NotesAI!"})]}),l.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsxs("button",{onClick:()=>a("/"),className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors mb-8",children:[l.jsx(Rr,{className:"h-5 w-5"}),l.jsx("span",{children:"Back to Home"})]}),l.jsxs("div",{className:"bg-black/50 backdrop-blur-sm border border-[#4deeea]/30 rounded-2xl p-8 shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(ti,{className:"h-10 w-10 text-[#4deeea]"}),l.jsx(Ir,{className:"h-5 w-5 text-[#4deeea] absolute -top-1 -right-1"})]}),l.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] bg-clip-text text-transparent",children:"NotesAI"})]}),l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Create Account"}),l.jsx("p",{className:"text-gray-400",children:"Join thousands of users who trust NotesAI"})]}),l.jsxs("form",{onSubmit:$,className:"space-y-6",children:[f.general&&l.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center space-x-2 text-red-400",children:[l.jsx(hr,{className:"h-5 w-5"}),l.jsx("span",{className:"text-sm",children:f.general})]})}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(ud,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{id:"email",name:"email",type:"email",value:t.email,onChange:N,className:`w-full pl-10 pr-4 py-3 bg-black/50 backdrop-blur-sm border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#4deeea] transition-all ${f.email?"border-red-500":"border-[#4deeea]/30 focus:border-[#4deeea]"}`,placeholder:"Enter your email"})]}),f.email&&l.jsxs("div",{className:"flex items-center space-x-2 text-red-400 text-sm mt-2",children:[l.jsx(hr,{className:"h-4 w-4"}),l.jsx("span",{children:f.email})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{id:"password",name:"password",type:s?"text":"password",value:t.password,onChange:N,className:`w-full pl-10 pr-12 py-3 bg-black/50 backdrop-blur-sm border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#4deeea] transition-all ${f.password?"border-red-500":"border-[#4deeea]/30 focus:border-[#4deeea]"}`,placeholder:"Create a strong password"}),l.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:s?l.jsx(qa,{className:"h-5 w-5"}):l.jsx(Rs,{className:"h-5 w-5"})})]}),t.password&&l.jsx("div",{className:"mt-2",children:l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${L<=1?"bg-red-500":L<=2?"bg-orange-500":L<=3?"bg-yellow-500":L<=4?"bg-blue-500":"bg-green-500"}`,style:{width:`${L/5*100}%`}})}),l.jsx("span",{className:`text-xs ${H.color}`,children:H.text})]})}),f.password&&l.jsxs("div",{className:"flex items-center space-x-2 text-red-400 text-sm mt-2",children:[l.jsx(hr,{className:"h-4 w-4"}),l.jsx("span",{children:f.password})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:c?"text":"password",value:t.confirmPassword,onChange:N,className:`w-full pl-10 pr-12 py-3 bg-black/50 backdrop-blur-sm border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#4deeea] transition-all ${f.confirmPassword?"border-red-500":"border-[#4deeea]/30 focus:border-[#4deeea]"}`,placeholder:"Confirm your password"}),l.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:c?l.jsx(qa,{className:"h-5 w-5"}):l.jsx(Rs,{className:"h-5 w-5"})})]}),f.confirmPassword&&l.jsxs("div",{className:"flex items-center space-x-2 text-red-400 text-sm mt-2",children:[l.jsx(hr,{className:"h-4 w-4"}),l.jsx("span",{children:f.confirmPassword})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-start space-x-3",children:[l.jsx("input",{type:"checkbox",checked:w,onChange:U=>k(U.target.checked),className:"mt-1 rounded border-gray-600 text-[#4deeea] focus:ring-[#4deeea] focus:ring-offset-0 bg-black/50"}),l.jsxs("span",{className:"text-sm text-gray-400 leading-relaxed",children:["I agree to the"," ",l.jsx(dt,{to:"/terms",className:"text-[#4deeea] hover:text-[#3dd9d4] transition-colors",children:"Terms of Service"})," ","and"," ",l.jsx(dt,{to:"/privacy",className:"text-[#4deeea] hover:text-[#3dd9d4] transition-colors",children:"Privacy Policy"})]})]}),f.terms&&l.jsxs("div",{className:"flex items-center space-x-2 text-red-400 text-sm mt-2",children:[l.jsx(hr,{className:"h-4 w-4"}),l.jsx("span",{children:f.terms})]})]}),l.jsx("button",{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] text-black px-6 py-3 rounded-lg font-semibold hover:from-[#3dd9d4] hover:to-[#2dc4be] transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2",children:g?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-black border-t-transparent"}),l.jsx("span",{children:"Creating Account..."})]}):l.jsx("span",{children:"Create Account"})})]}),l.jsx("div",{className:"mt-8 text-center",children:l.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",l.jsx(dt,{to:"/signin",className:"text-[#4deeea] hover:text-[#3dd9d4] font-semibold transition-colors",children:"Sign in here"})]})})]})]})}),l.jsx("style",{children:`
        @keyframes slide-in {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
      `})]})},L2=()=>{const a=Vt();return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1a1a] via-[#1a2f2f] to-[#0f1f1f] relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border border-[#4deeea]/20 rotate-45 animate-pulse"}),l.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 border border-[#4deeea]/15 rotate-12 animate-pulse delay-1000"}),l.jsx("div",{className:"absolute bottom-32 left-40 w-40 h-40 border border-[#4deeea]/10 -rotate-12 animate-pulse delay-500"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-28 h-28 border border-[#4deeea]/25 rotate-45 animate-pulse delay-700"})]}),l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-[#4deeea]/20 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-[#4deeea]/15 rounded-full blur-3xl animate-pulse delay-1000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-[#4deeea]/10 rounded-full blur-3xl animate-pulse delay-500"})]}),l.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"text-center max-w-md w-full",children:[l.jsx("div",{className:"flex justify-center mb-8 animate-bounce",children:l.jsx("div",{className:"bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] p-4 rounded-full",children:l.jsx(X1,{className:"h-16 w-16 text-white"})})}),l.jsx("h1",{className:"text-8xl md:text-9xl font-bold bg-gradient-to-r from-[#4deeea] via-[#3dd9d4] to-[#2dc4be] bg-clip-text text-transparent mb-4 animate-fade-in",children:"404"}),l.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white mb-4 animate-fade-in-delay-1",children:"Page Not Found"}),l.jsx("p",{className:"text-gray-400 text-lg mb-8 leading-relaxed animate-fade-in-delay-2",children:"The page you're looking for doesn't exist or has been moved."}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 animate-fade-in-delay-3",children:[l.jsxs("button",{onClick:()=>a("/"),className:"group bg-gradient-to-r from-[#4deeea] to-[#3dd9d4] text-black px-8 py-4 rounded-full font-semibold text-lg hover:from-[#3dd9d4] hover:to-[#2dc4be] transition-all duration-200 transform hover:scale-105 flex items-center space-x-2 w-full sm:w-auto",children:[l.jsx(e_,{className:"h-5 w-5 group-hover:scale-110 transition-transform duration-200"}),l.jsx("span",{children:"Back to Home"})]}),l.jsxs("button",{onClick:()=>a(-1),className:"text-gray-300 hover:text-white border border-[#4deeea] hover:border-[#3dd9d4] px-8 py-4 rounded-full font-semibold text-lg transition-all duration-200 hover:bg-black/50 flex items-center space-x-2 w-full sm:w-auto",children:[l.jsx(Rr,{className:"h-5 w-5"}),l.jsx("span",{children:"Go Back"})]})]}),l.jsxs("div",{className:"mt-12 animate-fade-in-delay-4",children:[l.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Need help? Here are some quick links:"}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm",children:[l.jsx("button",{onClick:()=>a("/notes"),className:"text-[#4deeea] hover:text-[#3dd9d4] transition-colors duration-200",children:"My Notes"}),l.jsx("span",{className:"text-gray-600",children:""}),l.jsx("button",{onClick:()=>a("/settings"),className:"text-[#4deeea] hover:text-[#3dd9d4] transition-colors duration-200",children:"Settings"}),l.jsx("span",{className:"text-gray-600",children:""}),l.jsx("button",{onClick:()=>a("/#features"),className:"text-[#4deeea] hover:text-[#3dd9d4] transition-colors duration-200",children:"Features"})]})]})]})}),l.jsx("style",{children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .animate-fade-in {
          animation: fade-in 0.6s ease-out;
        }
        
        .animate-fade-in-delay-1 {
          animation: fade-in 0.6s ease-out 0.2s both;
        }
        
        .animate-fade-in-delay-2 {
          animation: fade-in 0.6s ease-out 0.4s both;
        }
        
        .animate-fade-in-delay-3 {
          animation: fade-in 0.6s ease-out 0.6s both;
        }
        
        .animate-fade-in-delay-4 {
          animation: fade-in 0.6s ease-out 0.8s both;
        }
      `})]})},M2=()=>l.jsxs(nw,{children:[l.jsx(Wt,{path:"/",element:l.jsx(f_,{})}),l.jsx(Wt,{path:"/notes",element:l.jsx(y_,{})}),l.jsx(Wt,{path:"/notes/new",element:l.jsx(zp,{})}),l.jsx(Wt,{path:"/notes/view/:id",element:l.jsx(P2,{})}),l.jsx(Wt,{path:"/notes/edit/:id",element:l.jsx(zp,{})}),l.jsx(Wt,{path:"/notes/encrypted/:id",element:l.jsx(T2,{})}),l.jsx(Wt,{path:"/search",element:l.jsx(R2,{})}),l.jsx(Wt,{path:"/settings",element:l.jsx(I2,{})}),l.jsx(Wt,{path:"/signin",element:l.jsx(O2,{})}),l.jsx(Wt,{path:"/signup",element:l.jsx($2,{})}),l.jsx(Wt,{path:"*",element:l.jsx(L2,{})})]});fv.createRoot(document.getElementById("root")).render(l.jsx(j.StrictMode,{children:l.jsx(Ew,{children:l.jsx(q1,{children:l.jsx(M2,{})})})}));
